"use strict";(self.webpackChunktimer=self.webpackChunktimer||[]).push([[242],{2242:(U,v,i)=>{i.r(v),i.d(v,{ClienteModule:()=>Je});var l=i(4466),b=i(5426),g=i(8583),d=i(8239),u=i(3679),c=i(9267),Z=i(2546),_=i(3e3),f=i(2401),h=i(1341),s=i(3032),e=i(7716),E=i(6940),w=i(1324),j=i(103),x=i(4655),Q=i(789),y=i(7006),V=i(2522),S=i(8295),F=i(1095),G=i(6627),Y=i(9983),k=i(2559),D=i(7441),$=i(2458);function R(o,r){if(1&o){const a=e.EpF();e.TgZ(0,"button",30),e.NdJ("click",function(){return e.CHM(a),e.oxw().onSubmit()}),e.TgZ(1,"mat-icon"),e._uU(2,"check"),e.qZA(),e._uU(3),e.qZA()}if(2&o){const a=e.oxw();e.xp6(3),e.hij(" ",a.acao," ")}}function L(o,r){if(1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&o){const a=e.oxw();let t;e.xp6(1),e.Oqu(null==(t=a.formulario.get("razao"))||null==t.errors?null:t.errors.message)}}function K(o,r){if(1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&o){const a=e.oxw();let t;e.xp6(1),e.Oqu(null==(t=a.formulario.get("cadastr"))||null==t.errors?null:t.errors.message)}}function H(o,r){if(1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&o){const a=e.oxw();let t;e.xp6(1),e.Oqu(null==(t=a.formulario.get("fantasi"))||null==t.errors?null:t.errors.message)}}function W(o,r){if(1&o&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&o){const a=r.$implicit;e.Q6J("value",a.id),e.xp6(1),e.hij(" ",a.razao," ")}}function X(o,r){if(1&o&&(e.TgZ(0,"mat-form-field",31),e.TgZ(1,"mat-label"),e._uU(2,"Grupo Econ\xf4mico"),e.qZA(),e.TgZ(3,"mat-select",32),e.YNc(4,W,2,2,"mat-option",33),e.qZA(),e.qZA()),2&o){const a=e.oxw();e.xp6(4),e.Q6J("ngForOf",a.grupos)}}function ee(o,r){if(1&o&&(e.TgZ(0,"mat-form-field",31),e.TgZ(1,"mat-label"),e._uU(2,"Grupo Econ\xf4mico"),e.qZA(),e._UZ(3,"input",35),e.qZA()),2&o){const a=e.oxw();e.xp6(3),e.Q6J("readonly",a.readOnly)}}function te(o,r){if(1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&o){const a=e.oxw();let t;e.xp6(1),e.Oqu(null==(t=a.formulario.get("cnpj_cpf"))||null==t.errors?null:t.errors.message)}}function ae(o,r){if(1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&o){const a=e.oxw();e.xp6(1),e.Oqu(a.getMensafield("inscri"))}}function oe(o,r){if(1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&o){const a=e.oxw();let t;e.xp6(1),e.Oqu(null==(t=a.formulario.get("ruaf"))||null==t.errors?null:t.errors.message)}}function ie(o,r){if(1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&o){const a=e.oxw();let t;e.xp6(1),e.Oqu(null==(t=a.formulario.get("nrof"))||null==t.errors?null:t.errors.message)}}function ne(o,r){if(1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&o){const a=e.oxw();let t;e.xp6(1),e.Oqu(null==(t=a.formulario.get("complementof"))||null==t.errors?null:t.errors.message)}}function re(o,r){if(1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&o){const a=e.oxw();let t;e.xp6(1),e.Oqu(null==(t=a.formulario.get("bairrof"))||null==t.errors?null:t.errors.message)}}function le(o,r){if(1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&o){const a=e.oxw();let t;e.xp6(1),e.Oqu(null==(t=a.formulario.get("cidadef"))||null==t.errors?null:t.errors.message)}}function se(o,r){if(1&o&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&o){const a=r.$implicit;e.Q6J("value",a.sigla),e.xp6(1),e.AsE(" ",a.sigla,"-",a.nome," ")}}function ue(o,r){if(1&o&&(e.TgZ(0,"mat-form-field",31),e.TgZ(1,"mat-label"),e._uU(2,"Estado:"),e.qZA(),e.TgZ(3,"mat-select",36),e.YNc(4,se,2,3,"mat-option",33),e.qZA(),e.qZA()),2&o){const a=e.oxw();e.xp6(4),e.Q6J("ngForOf",a.ufs)}}function ce(o,r){if(1&o&&(e.TgZ(0,"mat-form-field",31),e.TgZ(1,"mat-label"),e._uU(2,"Estado:"),e.qZA(),e._UZ(3,"input",37),e.qZA()),2&o){const a=e.oxw();e.xp6(3),e.Q6J("readonly",a.readOnly)}}function me(o,r){if(1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&o){const a=e.oxw();let t;e.xp6(1),e.Oqu(null==(t=a.formulario.get("cepf"))||null==t.errors?null:t.errors.message)}}function pe(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"E-Mail Inv\xe1lido!"),e.qZA())}function ge(o,r){if(1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&o){const a=e.oxw();e.xp6(1),e.Oqu(a.getMensafield("tel1"))}}function fe(o,r){if(1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&o){const a=e.oxw();e.xp6(1),e.Oqu(a.getMensafield("tel2"))}}function de(o,r){if(1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&o){const a=e.oxw();e.xp6(1),e.Oqu(a.getMensafield("obs"))}}let he=(()=>{class o{constructor(a,t,n,p,m,T,A,q){this.formBuilder=a,this.clientesServices=t,this.grupoEconomicoService=n,this.estadosSrv=p,this.route=m,this.router=T,this.appSnackBar=A,this.globaService=q,this.acao="Sem Defini\xe7\xe3o",this.idAcao=s.I.Inclusao,this.readOnly=!0,this.durationInSeconds=2,this.labelCadastro="",this.ufs=[],this.formulario=a.group({id:[{value:"",disabled:!0}],razao:[{value:""},[(0,c.S)(3,65,!0)]],cadastr:[{value:""},[(0,f.K)(!0)]],fantasi:[{value:""},[(0,c.S)(3,25,!0)]],cnpj_cpf:[{value:""},[(0,_.x)(!1)]],inscri:[{value:""},[(0,c.S)(0,20)]],gru_econo:[{value:""}],gru_econo_:[{value:""}],ruaf:[{value:""},[(0,c.S)(3,80,!1)]],nrof:[{value:""},[(0,c.S)(1,10,!1)]],complementof:[{value:""},[(0,c.S)(0,30)]],bairrof:[{value:""},[(0,c.S)(3,40,!1)]],cidadef:[{value:""},[(0,c.S)(3,40,!1)]],uff:[{value:""},[(0,c.S)(2,2,!1)]],uff_:[{value:""}],cepf:[{value:""},[(0,Z.l)(!1)]],tel1:[{value:""},[(0,c.S)(0,23,!1)]],tel2:[{value:""},[(0,c.S)(0,23)]],emailf:[{value:""},[u.kI.email]],obs:[{value:""},[(0,c.S)(0,200)]]}),this.cliente=new h.e,this.grupos=[],this.inscricaoRota=m.params.subscribe(C=>{this.cliente.id_empresa=C.id_empresa,this.cliente.id=C.id,this.cliente.gru_econo=1,this.idAcao=C.acao,this.setAcao(C.acao)})}ngOnInit(){this.idAcao==s.I.Inclusao?(this.cliente=new h.e,this.cliente.id_empresa=1,this.cliente.gru_econo=1):this.getCliente(),this.getGrupos(),this.getUfs(),this.setValue()}ngOnDestroy(){var a,t,n,p,m;null===(a=this.inscricaoGetCliente)||void 0===a||a.unsubscribe(),null===(t=this.inscricaoGetGrupo)||void 0===t||t.unsubscribe(),null===(n=this.inscricaoRota)||void 0===n||n.unsubscribe(),null===(p=this.inscricaoAcao)||void 0===p||p.unsubscribe(),null===(m=this.inscricaoUf)||void 0===m||m.unsubscribe()}onSubmit(){this.formulario.valid?this.executaAcao():this.appSnackBar.openSuccessSnackBar("Formul\xe1rio Com Campos Inv\xe1lidos.","OK")}onCancel(){this.router.navigate(["/clientes"])}getUfs(){this.inscricaoUf=this.estadosSrv.getEstados().subscribe(a=>{this.ufs=a},a=>{this.appSnackBar.openFailureSnackBar(`Pesquisa Cadastrado De Estados ${a.error.tabela} - ${a.error.erro} - ${a.error.message}`,"OK")})}getCliente(){this.inscricaoGetCliente=this.clientesServices.getCliente(this.cliente.id_empresa,this.cliente.id).subscribe(a=>{this.cliente=a,this.setValue()},a=>{this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Clientes ${a.error.tabela} - ${a.error.erro} - ${a.error.message}`,"OK")})}getGrupos(){this.inscricaoGetGrupo=this.idAcao==s.I.Consulta||this.idAcao==s.I.Exclusao?this.grupoEconomicoService.getGrupoEco(this.cliente.id_empresa,this.cliente.gru_econo).subscribe(a=>{this.grupos.push(a)},a=>{this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Grupos ${a.error.tabela} - ${a.error.erro} - ${a.error.message}`,"OK")}):this.grupoEconomicoService.getGrupoEcos().subscribe(a=>{this.grupos=a},a=>{this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Grupos ${a.error.tabela} - ${a.error.erro} - ${a.error.message}`,"OK")})}setReadOnly(a){}setValue(){this.formulario.setValue({id:this.cliente.id,razao:this.cliente.razao,cadastr:this.cliente.cadastr,cnpj_cpf:this.cliente.cnpj_cpf,inscri:this.cliente.inscri,fantasi:this.cliente.fantasi,gru_econo:this.cliente.gru_econo,gru_econo_:this.idAcao==s.I.Consulta||this.idAcao==s.I.Exclusao?this.cliente.gru_descricao:"aaaaa",ruaf:this.cliente.ruaf,nrof:this.cliente.nrof,complementof:this.cliente.complementof,bairrof:this.cliente.bairrof,cidadef:this.cliente.cidadef,uff:this.cliente.uff,uff_:this.idAcao==s.I.Consulta||this.idAcao==s.I.Exclusao?this.cliente.uff:"",cepf:this.cliente.cepf,tel1:this.cliente.tel1,tel2:this.cliente.tel2,emailf:this.cliente.emailf,obs:this.cliente.obs})}getLabelCancel(){return this.idAcao==s.I.Consulta?"Voltar":"Cancelar"}setAcao(a){switch(+a){case s.I.Inclusao:this.acao="Gravar",this.labelCadastro="Clientes - Inclus\xe3o.",this.readOnly=!1;break;case s.I.Edicao:this.acao="Gravar",this.labelCadastro="Clientes - Altera\xe7\xe3o.",this.readOnly=!1;break;case s.I.Consulta:this.acao="Voltar",this.labelCadastro="Clientes - Consulta.",this.readOnly=!0;break;case s.I.Exclusao:this.acao="Excluir",this.labelCadastro="Clientes - Exclus\xe3o.",this.readOnly=!0}}executaAcao(){var a=this;switch(this.cliente.cnpj_cpf=this.formulario.value.cnpj_cpf,this.cliente.razao=this.formulario.value.razao,this.cliente.fantasi=this.formulario.value.fantasi,this.cliente.inscri=this.formulario.value.inscri,this.cliente.cadastr=this.formulario.value.cadastr,this.cliente.ruaf=this.formulario.value.ruaf,this.cliente.nrof=this.formulario.value.nrof,this.cliente.complementof=this.formulario.value.complementof,this.cliente.bairrof=this.formulario.value.bairrof,this.cliente.cidadef=this.formulario.value.cidadef,this.cliente.uff=this.formulario.value.uff,this.cliente.cepf=this.formulario.value.cepf,this.cliente.tel1=this.formulario.value.tel1,this.cliente.tel2=this.formulario.value.tel2,this.cliente.emailf=this.formulario.value.emailf,this.cliente.obs=this.formulario.value.obs,this.cliente.gru_econo=this.formulario.value.gru_econo,this.cliente.gru_descricao=this.formulario.value.gru_econo_,+this.idAcao){case s.I.Inclusao:this.cliente.user_insert=this.globaService.getUsuario().id,this.globaService.setSpin(!0),this.inscricaoAcao=this.clientesServices.clienteInsert(this.cliente).subscribe(function(){var t=(0,d.Z)(function*(n){a.globaService.setSpin(!1),a.onCancel()});return function(n){return t.apply(this,arguments)}}(),t=>{this.globaService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Erro Na INclus\xe3o ${t.error.tabela} - ${t.error.erro} - ${t.error.message}`,"OK")});break;case s.I.Edicao:this.globaService.setSpin(!0),this.cliente.user_update=this.globaService.getUsuario().id,this.inscricaoAcao=this.clientesServices.clienteUpdate(this.cliente).subscribe(function(){var t=(0,d.Z)(function*(n){a.globaService.setSpin(!1),a.onCancel()});return function(n){return t.apply(this,arguments)}}(),t=>{this.globaService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Erro Na Altera\xe7\xe3o ${t.error.tabela} - ${t.error.erro} - ${t.error.message}`,"OK")});break;case s.I.Exclusao:this.globaService.setSpin(!0),this.inscricaoAcao=this.clientesServices.clienteDelete(this.cliente.id_empresa,this.cliente.id).subscribe(function(){var t=(0,d.Z)(function*(n){a.globaService.setSpin(!1),a.onCancel()});return function(n){return t.apply(this,arguments)}}(),t=>{this.globaService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Erro Na Exclusao ${t.error.tabela} - ${t.error.erro} - ${t.error.message}`,"OK")})}}delay(a){return new Promise(t=>setTimeout(t,a))}getAcoes(){return s.I}touchedOrDirty(a){var t,n;return!(!(null===(t=this.formulario.get(a))||void 0===t?void 0:t.touched)&&!(null===(n=this.formulario.get(a))||void 0===n?void 0:n.dirty))}getValidfield(a){var t,n;return(null===(n=null===(t=this.formulario.get(a))||void 0===t?void 0:t.errors)||void 0===n?void 0:n.ValidatorStringLen)&&this.touchedOrDirty(a)}getMensafield(a){var t,n;return null===(n=null===(t=this.formulario.get(a))||void 0===t?void 0:t.errors)||void 0===n?void 0:n.message}}return o.\u0275fac=function(a){return new(a||o)(e.Y36(u.qu),e.Y36(E.Y),e.Y36(w.Z),e.Y36(j.V),e.Y36(x.gz),e.Y36(x.F0),e.Y36(Q.W),e.Y36(y.U))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-cliente-view"]],decls:103,vars:42,consts:[[1,"example-spacer"],[1,"button-container-right"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],["autocomplete","off",3,"formGroup"],[1,"col-med-4"],["appearance","outline",1,"col-70"],["matInput","","formControlName","id"],["appearance","outline",1,"col-max","column-span-2"],["matInput","","formControlName","razao","oninput","this.value = this.value.toUpperCase()","autofocus","",3,"readonly"],[4,"ngIf"],["appearance","outline",1,"col-max"],["matInput","","formControlName","cadastr","mask","00/00/0000","placeholder","21/11/1987",3,"readonly"],[1,"col-med-2"],["matInput","","formControlName","fantasi","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["field","","appearance","outline","class","col-max",4,"ngIf"],["matInput","","formControlName","cnpj_cpf","mask","00.000.000/0000-00||000.000.000-00",3,"dropSpecialCharacters","readonly"],["matInput","","formControlName","inscri","oninput","this.value = this.value.toUpperCase()",3,"readonly"],[1,"col-med-3"],["matInput","","formControlName","ruaf","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","nrof","oninput","this.value = this.value.toUpperCase()",3,"readonly"],[1,"col-med-1"],["matInput","","formControlName","complementof","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","bairrof","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","cidadef","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","cepf","mask","99999-999",3,"dropSpecialCharacters","readonly"],["matInput","","formControlName","emailf",3,"readonly"],["matInput","","formControlName","tel1","mask","(00) 0 0000-0000||(00) 0000-0000",3,"dropSpecialCharacters","readonly"],["matInput","","formControlName","tel2","mask","(00) 0 0000-0000||(00) 0000-0000",3,"dropSpecialCharacters","readonly"],["matInput","","formControlName","obs","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["mat-raised-button","","color","primary",3,"click"],["field","","appearance","outline",1,"col-max"],["formControlName","gru_econo"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","","formControlName","gru_econo_",3,"readonly"],["formControlName","uff"],["matInput","","formControlName","uff_",3,"readonly"]],template:function(a,t){if(1&a&&(e.TgZ(0,"p"),e.TgZ(1,"mat-toolbar"),e.TgZ(2,"span",0),e.TgZ(3,"mat-label"),e._uU(4),e.qZA(),e.qZA(),e.TgZ(5,"div",1),e.YNc(6,R,4,1,"button",2),e.TgZ(7,"button",3),e.NdJ("click",function(){return t.onCancel()}),e.TgZ(8,"mat-icon"),e._uU(9,"cancel"),e.qZA(),e._uU(10),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"form",4),e.TgZ(12,"div",5),e.TgZ(13,"mat-form-field",6),e.TgZ(14,"mat-label"),e._uU(15,"C\xd3DIGO"),e.qZA(),e._UZ(16,"input",7),e.qZA(),e.TgZ(17,"mat-form-field",8),e.TgZ(18,"mat-label"),e._uU(19,"Raz\xe3o Social"),e.qZA(),e._UZ(20,"input",9),e.YNc(21,L,2,1,"mat-error",10),e.qZA(),e.TgZ(22,"mat-form-field",11),e.TgZ(23,"mat-label"),e._uU(24,"Cadastro"),e.qZA(),e._UZ(25,"input",12),e.YNc(26,K,2,1,"mat-error",10),e.qZA(),e.qZA(),e.TgZ(27,"div",13),e.TgZ(28,"mat-form-field",11),e.TgZ(29,"mat-label"),e._uU(30,"Fantasia"),e.qZA(),e._UZ(31,"input",14),e.YNc(32,H,2,1,"mat-error",10),e.qZA(),e.YNc(33,X,5,1,"mat-form-field",15),e.YNc(34,ee,4,1,"mat-form-field",15),e.qZA(),e.TgZ(35,"div",13),e.TgZ(36,"mat-form-field",11),e.TgZ(37,"mat-label"),e._uU(38,"CNPJ/CPF"),e.qZA(),e._UZ(39,"input",16),e.YNc(40,te,2,1,"mat-error",10),e.qZA(),e.TgZ(41,"mat-form-field",11),e.TgZ(42,"mat-label"),e._uU(43,"Inscri\xe7\xe3o Est."),e.qZA(),e._UZ(44,"input",17),e.YNc(45,ae,2,1,"mat-error",10),e.qZA(),e.qZA(),e.TgZ(46,"div",18),e.TgZ(47,"mat-form-field",8),e.TgZ(48,"mat-label"),e._uU(49,"Endere\xe7o:"),e.qZA(),e._UZ(50,"input",19),e.YNc(51,oe,2,1,"mat-error",10),e.qZA(),e.TgZ(52,"mat-form-field",11),e.TgZ(53,"mat-label"),e._uU(54,"N\xfamero"),e.qZA(),e._UZ(55,"input",20),e.YNc(56,ie,2,1,"mat-error",10),e.qZA(),e.qZA(),e.TgZ(57,"div",21),e.TgZ(58,"mat-form-field",11),e.TgZ(59,"mat-label"),e._uU(60,"Complemento:"),e.qZA(),e._UZ(61,"input",22),e.YNc(62,ne,2,1,"mat-error",10),e.qZA(),e.qZA(),e.TgZ(63,"div",18),e.TgZ(64,"mat-form-field",11),e.TgZ(65,"mat-label"),e._uU(66,"Bairro:"),e.qZA(),e._UZ(67,"input",23),e.YNc(68,re,2,1,"mat-error",10),e.qZA(),e.TgZ(69,"mat-form-field",11),e.TgZ(70,"mat-label"),e._uU(71,"Cidade:"),e.qZA(),e._UZ(72,"input",24),e.YNc(73,le,2,1,"mat-error",10),e.qZA(),e.YNc(74,ue,5,1,"mat-form-field",15),e.YNc(75,ce,4,1,"mat-form-field",15),e.TgZ(76,"mat-form-field",11),e.TgZ(77,"mat-label"),e._uU(78,"CEP:"),e.qZA(),e._UZ(79,"input",25),e.YNc(80,me,2,1,"mat-error",10),e.qZA(),e.qZA(),e.TgZ(81,"div",18),e.TgZ(82,"mat-form-field",11),e.TgZ(83,"mat-label"),e._uU(84,"E-Mail:"),e.qZA(),e._UZ(85,"input",26),e.YNc(86,pe,2,0,"mat-error",10),e.qZA(),e.TgZ(87,"mat-form-field",11),e.TgZ(88,"mat-label"),e._uU(89,"Telefone 1:"),e.qZA(),e._UZ(90,"input",27),e.YNc(91,ge,2,1,"mat-error",10),e.qZA(),e.TgZ(92,"mat-form-field",11),e.TgZ(93,"mat-label"),e._uU(94,"Telefone 2:"),e.qZA(),e._UZ(95,"input",28),e.YNc(96,fe,2,1,"mat-error",10),e.qZA(),e.qZA(),e.TgZ(97,"div",21),e.TgZ(98,"mat-form-field",11),e.TgZ(99,"mat-label"),e._uU(100,"Observa\xe7\xe3o:"),e.qZA(),e._UZ(101,"input",29),e.YNc(102,de,2,1,"mat-error",10),e.qZA(),e.qZA(),e.qZA()),2&a){let n,p,m,T,A,q,C,N,P,J,z;e.xp6(4),e.Oqu(t.labelCadastro),e.xp6(2),e.Q6J("ngIf",3!=t.idAcao),e.xp6(4),e.hij(" ",t.getLabelCancel()," "),e.xp6(1),e.Q6J("formGroup",t.formulario),e.xp6(9),e.Q6J("readonly",t.readOnly),e.xp6(1),e.Q6J("ngIf",(null==(n=t.formulario.get("razao"))||null==n.errors?null:n.errors.ValidatorStringLen)&&t.touchedOrDirty("razao")),e.xp6(4),e.Q6J("readonly",t.readOnly),e.xp6(1),e.Q6J("ngIf",(null==(p=t.formulario.get("cadastr"))||null==p.errors?null:p.errors.ValidatorDate)&&t.touchedOrDirty("cadastr")),e.xp6(5),e.Q6J("readonly",t.readOnly),e.xp6(1),e.Q6J("ngIf",(null==(m=t.formulario.get("fantasi"))||null==m.errors?null:m.errors.ValidatorStringLen)&&t.touchedOrDirty("fantasi")),e.xp6(1),e.Q6J("ngIf",t.idAcao!=t.getAcoes().Consulta&&t.idAcao!=t.getAcoes().Exclusao),e.xp6(1),e.Q6J("ngIf",t.idAcao==t.getAcoes().Consulta||t.idAcao==t.getAcoes().Exclusao),e.xp6(5),e.Q6J("dropSpecialCharacters",!0)("readonly",t.readOnly),e.xp6(1),e.Q6J("ngIf",(null==(T=t.formulario.get("cnpj_cpf"))||null==T.errors?null:T.errors.ValidadorCnpjCpf)&&t.touchedOrDirty("cnpj_cpf")),e.xp6(4),e.Q6J("readonly",t.readOnly),e.xp6(1),e.Q6J("ngIf",t.getValidfield("inscri")),e.xp6(5),e.Q6J("readonly",t.readOnly),e.xp6(1),e.Q6J("ngIf",(null==(A=t.formulario.get("ruaf"))||null==A.errors?null:A.errors.ValidatorStringLen)&&t.touchedOrDirty("ruaf")),e.xp6(4),e.Q6J("readonly",t.readOnly),e.xp6(1),e.Q6J("ngIf",(null==(q=t.formulario.get("nrof"))||null==q.errors?null:q.errors.ValidatorStringLen)&&t.touchedOrDirty("nrof")),e.xp6(5),e.Q6J("readonly",t.readOnly),e.xp6(1),e.Q6J("ngIf",(null==(C=t.formulario.get("complementof"))||null==C.errors?null:C.errors.ValidatorStringLen)&&t.touchedOrDirty("complementof")),e.xp6(5),e.Q6J("readonly",t.readOnly),e.xp6(1),e.Q6J("ngIf",(null==(N=t.formulario.get("bairrof"))||null==N.errors?null:N.errors.ValidatorStringLen)&&t.touchedOrDirty("bairrof")),e.xp6(4),e.Q6J("readonly",t.readOnly),e.xp6(1),e.Q6J("ngIf",(null==(P=t.formulario.get("cidadef"))||null==P.errors?null:P.errors.ValidatorStringLen)&&t.touchedOrDirty("cidadef")),e.xp6(1),e.Q6J("ngIf",t.idAcao!=t.getAcoes().Consulta&&t.idAcao!=t.getAcoes().Exclusao),e.xp6(1),e.Q6J("ngIf",t.idAcao==t.getAcoes().Consulta||t.idAcao==t.getAcoes().Exclusao),e.xp6(4),e.Q6J("dropSpecialCharacters",!0)("readonly",t.readOnly),e.xp6(1),e.Q6J("ngIf",(null==(J=t.formulario.get("cepf"))||null==J.errors?null:J.errors.ValidatorCep)&&t.touchedOrDirty("cepf")),e.xp6(5),e.Q6J("readonly",t.readOnly),e.xp6(1),e.Q6J("ngIf","INVALID"==(null==(z=t.formulario.get("emailf"))?null:z.status)&&t.touchedOrDirty("emailf")),e.xp6(4),e.Q6J("dropSpecialCharacters",!0)("readonly",t.readOnly),e.xp6(1),e.Q6J("ngIf",t.getValidfield("tel1")),e.xp6(4),e.Q6J("dropSpecialCharacters",!0)("readonly",t.readOnly),e.xp6(1),e.Q6J("ngIf",t.getValidfield("tel2")),e.xp6(5),e.Q6J("readonly",t.readOnly),e.xp6(1),e.Q6J("ngIf",t.getValidfield("obs"))}},directives:[V.Ye,S.hX,g.O5,F.lW,G.Hw,u._Y,u.JL,u.sg,S.KE,Y.Nt,u.Fj,u.JJ,u.u,k.hx,S.TO,D.gD,g.sg,$.ey],styles:[""]}),o})();var _e=i(5698),O=i(3430),Ze=i(7117),M=i(6746),B=i(2238),ve=i(9389),Ce=i(3968),Te=i(1436),I=i(3738);function Ae(o,r){if(1&o&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&o){const a=r.$implicit;e.Q6J("value",a),e.xp6(1),e.hij(" ",a," ")}}function be(o,r){if(1&o&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&o){const a=r.$implicit;e.Q6J("value",a),e.xp6(1),e.hij(" ",a," ")}}function xe(o,r){if(1&o&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&o){const a=r.$implicit;e.Q6J("value",a.id),e.xp6(1),e.hij(" ",a.razao," ")}}function Se(o,r){if(1&o&&(e.TgZ(0,"mat-form-field",17),e.TgZ(1,"mat-label"),e._uU(2,"Pesquisar Por"),e.qZA(),e.TgZ(3,"mat-select",18),e.YNc(4,xe,2,2,"mat-option",10),e.qZA(),e.qZA()),2&o){const a=e.oxw();e.xp6(4),e.Q6J("ngForOf",a.grupos)}}function qe(o,r){1&o&&(e.TgZ(0,"mat-form-field",19),e.TgZ(1,"mat-label"),e._uU(2,"Descri\xe7\xe3o"),e.qZA(),e._UZ(3,"input",20),e.qZA())}function Ue(o,r){if(1&o){const a=e.EpF();e.TgZ(0,"div",21),e.TgZ(1,"mat-card",22),e.TgZ(2,"mat-card-actions"),e.TgZ(3,"span",23),e.TgZ(4,"button",5),e.NdJ("click",function(){const p=e.CHM(a).$implicit,m=e.oxw();return m.escolha(m.getAcoes().Consulta,p)}),e.TgZ(5,"mat-icon"),e._uU(6,"remove_red_eye"),e.qZA(),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){const p=e.CHM(a).$implicit,m=e.oxw();return m.escolha(m.getAcoes().Edicao,p)}),e.TgZ(8,"mat-icon"),e._uU(9,"edit"),e.qZA(),e.qZA(),e.TgZ(10,"button",5),e.NdJ("click",function(){const p=e.CHM(a).$implicit,m=e.oxw();return m.escolha(m.getAcoes().Exclusao,p)}),e.TgZ(11,"mat-icon"),e._uU(12,"delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"mat-card-content"),e.TgZ(14,"mat-label",24),e._uU(15,"C\xd3DIGO:"),e.qZA(),e.TgZ(16,"mat-label",25),e._uU(17),e.qZA(),e.TgZ(18,"mat-label",26),e._uU(19,"Social:"),e.qZA(),e.TgZ(20,"mat-label",25),e._uU(21),e.qZA(),e.TgZ(22,"mat-label",26),e._uU(23,"Fantasia:"),e.qZA(),e.TgZ(24,"mat-label",25),e._uU(25),e.qZA(),e.TgZ(26,"mat-label",26),e._uU(27,"Grupo:"),e.qZA(),e.TgZ(28,"mat-label",25),e._uU(29),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const a=r.$implicit,t=e.oxw();e.xp6(4),e.Q6J("matTooltip",t.getTexto().consultar),e.xp6(3),e.Q6J("matTooltip",t.getTexto().alterar),e.xp6(3),e.Q6J("matTooltip",t.getTexto().excluir),e.xp6(7),e.Oqu(a.id),e.xp6(4),e.Oqu(a.razao),e.xp6(4),e.Oqu(a.fantasi),e.xp6(4),e.Oqu(a.grupo)}}const Ne=[{path:"",redirectTo:"clientes",pathMatch:"full"},{path:"clientes",component:(()=>{class o{constructor(a,t,n,p,m,T,A){this.formBuilder=a,this.clientesServices=t,this.grupoEconomicoService=n,this.globalService=p,this.router=m,this.appSnackBar=T,this.showClienteDialog=A,this.clientes=[],this.grupos=[],this.erro="",this.opcoesOrdenacao=["C\xf3digo","Raz\xe3o","Grupo"],this.opcoesCampo=["C\xf3digo","Raz\xe3o","Grupo"],this.tamPagina=50,this.controlePaginas=new O.e(this.tamPagina,0),this.parametros=a.group({ordenacao:[null],campo:[null],filtro:[null],grupo:[]}),this.setValues(),this.getGrupos()}ngOnInit(){this.getClientesContador()}ngOnDestroy(){var a,t,n;null===(a=this.inscricaoGetAll)||void 0===a||a.unsubscribe(),null===(t=this.inscricaoGetFiltro)||void 0===t||t.unsubscribe(),null===(n=this.inscricaoGetGrupo)||void 0===n||n.unsubscribe()}escolha(a,t){this.router.navigate(void 0!==t?["/clientes/cliente",t.id_empresa,t.id,a]:["/clientes/cliente",1,0,a])}getAcoes(){return s.I}getClientes(){let a=new M.j;if(a.id_empresa=1,"C\xf3digo"==this.parametros.value.campo){let t=parseInt(this.parametros.value.filtro,10);a.id=isNaN(t)?0:t}"Raz\xe3o"==this.parametros.value.campo&&(a.razao=this.parametros.value.filtro.toUpperCase()),"Grupo"==this.parametros.value.campo&&(a.grupo=this.parametros.value.grupo),a.orderby=this.parametros.value.ordenacao,a.contador="N",a.pagina=this.controlePaginas.getPaginalAtual(),this.globalService.setSpin(!0),this.inscricaoGetFiltro=this.clientesServices.getClientes_01(a).subscribe(t=>{this.globalService.setSpin(!1),this.clientes=t},t=>{this.globalService.setSpin(!1),this.clientes=[],this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Clientes ${t.error.tabela} - ${t.error.erro} - ${t.error.message}`,"OK")})}getClientesContador(){let a=new M.j;if(a.id_empresa=1,"C\xf3digo"==this.parametros.value.campo){let t=parseInt(this.parametros.value.filtro,10);a.id=isNaN(t)?0:t}"Raz\xe3o"==this.parametros.value.campo&&(a.razao=this.parametros.value.filtro.toUpperCase()),"Grupo"==this.parametros.value.campo&&(a.grupo=this.parametros.value.grupo),a.orderby=this.parametros.value.ordenacao,a.contador="S",this.globalService.setSpin(!0),this.inscricaoGetFiltro=this.clientesServices.getClientes_01_C(a).subscribe(t=>{this.globalService.setSpin(!1),this.controlePaginas=new O.e(this.tamPagina,t.total),this.getClientes()},t=>{this.globalService.setSpin(!1),this.controlePaginas=new O.e(this.tamPagina,0),this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Clientes ${t.error.tabela} - ${t.error.erro} - ${t.error.message}`,"OK")})}getGrupos(){this.globalService.setSpin(!0),this.inscricaoGetGrupo=this.grupoEconomicoService.getGrupoEcos().subscribe(a=>{this.globalService.setSpin(!1),this.grupos=a},a=>{this.globalService.setSpin(!1),this.erro=a,this.grupos=[]})}isGrupo(){return"Grupo"==this.parametros.value.campo}setValues(){this.parametros.setValue({ordenacao:"C\xf3digo",campo:"C\xf3digo",filtro:"",grupo:1})}getTexto(){return Ze.fd}onChangePage(){this.getClientes()}onHome(){this.router.navigate([""])}onShowCliente(a){this.openShowClienteDialog(a)}openShowClienteDialog(a){const t=new _e.r;t.cliente=a;const n=new B.vA;n.id="show-cliente",n.data=t,this.showClienteDialog.open(ve._,n).beforeClosed().subscribe(m=>{console.log("Retorno data",m)})}}return o.\u0275fac=function(a){return new(a||o)(e.Y36(u.qu),e.Y36(E.Y),e.Y36(w.Z),e.Y36(y.U),e.Y36(x.F0),e.Y36(Q.W),e.Y36(B.uw))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-crud-cliente"]],decls:30,vars:8,consts:[[1,"div-barra"],[1,"example-spacer"],[3,"controle","changePage"],["mat-icon-button","","aria-label","Example icon-button with share icon","matTooltip","Atualizar","matTooltipPosition","above",1,"example-icon",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","Retorno","matTooltipPosition","above","matTooltip","Retorno","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above",3,"matTooltip","click"],[1,"parametros"],["autocomplete","off",1,"col-med-4",3,"formGroup"],["field","","appearance","outline",1,"col-max"],["formControlName","ordenacao"],[3,"value",4,"ngFor","ngForOf"],["formControlName","campo"],["field","","appearance","outline","class","col-max column-span-2",4,"ngIf"],["appearance","outline","class","col-max column-span-2",4,"ngIf"],[1,"Browse"],["class","linha",4,"ngFor","ngForOf"],[3,"value"],["field","","appearance","outline",1,"col-max","column-span-2"],["formControlName","grupo"],["appearance","outline",1,"col-max","column-span-2"],["matInput","","formControlName","filtro"],[1,"linha"],[1,"example-card"],[1,"button-container-right"],[1,"labelTitleFirst"],[1,"labelData"],[1,"labelTitle"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0),e.TgZ(1,"mat-toolbar"),e.TgZ(2,"span",1),e._uU(3,"Clientes:"),e.qZA(),e.TgZ(4,"app-navegator",2),e.NdJ("changePage",function(){return t.onChangePage()}),e.qZA(),e.TgZ(5,"button",3),e.NdJ("click",function(){return t.getClientesContador()}),e.TgZ(6,"mat-icon"),e._uU(7,"rotate_right"),e.qZA(),e.qZA(),e.TgZ(8,"button",4),e.NdJ("click",function(){return t.onHome()}),e.TgZ(9,"mat-icon"),e._uU(10,"home"),e.qZA(),e.qZA(),e.TgZ(11,"button",5),e.NdJ("click",function(){return t.escolha(t.getAcoes().Inclusao)}),e.TgZ(12,"mat-icon"),e._uU(13,"add_circle_outline"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",6),e.TgZ(15,"form",7),e.TgZ(16,"mat-form-field",8),e.TgZ(17,"mat-label"),e._uU(18,"Ordena\xe7\xe3o"),e.qZA(),e.TgZ(19,"mat-select",9),e.YNc(20,Ae,2,2,"mat-option",10),e.qZA(),e.qZA(),e.TgZ(21,"mat-form-field",8),e.TgZ(22,"mat-label"),e._uU(23,"Pesquisar Por"),e.qZA(),e.TgZ(24,"mat-select",11),e.YNc(25,be,2,2,"mat-option",10),e.qZA(),e.qZA(),e.YNc(26,Se,5,1,"mat-form-field",12),e.YNc(27,qe,4,0,"mat-form-field",13),e.qZA(),e.qZA(),e.TgZ(28,"div",14),e.YNc(29,Ue,30,7,"div",15),e.qZA()),2&a&&(e.xp6(4),e.Q6J("controle",t.controlePaginas),e.xp6(7),e.Q6J("matTooltip",t.getTexto().incluir),e.xp6(4),e.Q6J("formGroup",t.parametros),e.xp6(5),e.Q6J("ngForOf",t.opcoesOrdenacao),e.xp6(5),e.Q6J("ngForOf",t.opcoesCampo),e.xp6(1),e.Q6J("ngIf",t.isGrupo()),e.xp6(1),e.Q6J("ngIf",!t.isGrupo()),e.xp6(2),e.Q6J("ngForOf",t.clientes))},directives:[V.Ye,Ce.J,F.lW,Te.gM,G.Hw,u._Y,u.JL,u.sg,S.KE,S.hX,D.gD,u.JJ,u.u,g.sg,g.O5,$.ey,Y.Nt,u.Fj,I.a8,I.hq,I.dn],styles:[""]}),o})(),canActivate:[(()=>{class o{constructor(a){this.globalService=a}canActivate(a,t){return!0}}return o.\u0275fac=function(a){return new(a||o)(e.LFG(y.U))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()]},{path:"cliente/:id_empresa/:id/:acao",component:he,canActivate:[i(1759).C]}];let Pe=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[x.Bz.forChild(Ne)],x.Bz]}),o})(),Je=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[g.ez,Pe,b.q,u.u5,u.UX,l.m,k.yI.forChild()]]}),o})()},3430:(U,v,i)=>{i.d(v,{e:()=>l});class l{constructor(g,d){this.tamPagina=g,this.totalRegistros=d,this.paginaInicial=1,this.paginaFinal=1,this.totalPaginas=1,this.setTamPagina(this.tamPagina),this.paginaAtual=1}goFirst(){return this.paginaAtual=this.paginaInicial,this.paginaAtual}goLast(){return this.paginaAtual=this.paginaFinal,this.paginaAtual}nextPage(){this.paginaAtual++,this.paginaAtual>this.paginaFinal&&(this.paginaAtual=this.paginaFinal)}forwardPage(){this.paginaAtual--,this.paginaAtual<1&&(this.paginaAtual=1)}getPaginalAtual(){return this.paginaAtual}getTotalPaginas(){return this.totalPaginas}setTamPagina(g){this.tamPagina=g,this.totalPaginas=this.totalRegistros%this.tamPagina==0?Math.trunc(this.totalRegistros/this.tamPagina):Math.trunc(this.totalRegistros/this.tamPagina)+1,this.paginaFinal=this.totalPaginas}setPaginaAtual(g){this.paginaAtual=g}}},3968:(U,v,i)=>{i.d(v,{J:()=>u});var l=i(7716),b=i(1095),g=i(1436),d=i(6627);let u=(()=>{class c{constructor(){this.change=new l.vpe}ngOnInit(){}getAtual(){return`${this.controlePaginas.getPaginalAtual()}/${this.controlePaginas.getTotalPaginas()}`}firstPage(){this.controlePaginas.goFirst(),this.change.emit("")}lastPage(){this.controlePaginas.goLast(),this.change.emit("")}forwardPage(){this.controlePaginas.forwardPage(),this.change.emit("")}nextPage(){this.controlePaginas.nextPage(),this.change.emit("")}}return c.\u0275fac=function(_){return new(_||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["app-navegator"]],inputs:{controlePaginas:["controle","controlePaginas"]},outputs:{change:"changePage"},decls:15,vars:1,consts:[[1,"pagina"],["mat-icon-button","","aria-label","Example icon-button with share icon","matTooltip","In\xedcio","matTooltipPosition","above",1,"mat-icon-button",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon","matTooltip","Voltar","matTooltipPosition","above",1,"mat-icon-button",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon","matTooltip","Avan\xe7ar","matTooltipPosition","above",1,"mat-icon-button",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon","matTooltip","Final","matTooltipPosition","above",1,"mat-icon-button",3,"click"]],template:function(_,f){1&_&&(l.TgZ(0,"div",0),l.TgZ(1,"button",1),l.NdJ("click",function(){return f.firstPage()}),l.TgZ(2,"mat-icon"),l._uU(3,"first_page"),l.qZA(),l.qZA(),l.TgZ(4,"button",2),l.NdJ("click",function(){return f.forwardPage()}),l.TgZ(5,"mat-icon"),l._uU(6,"chevron_left"),l.qZA(),l.qZA(),l.TgZ(7,"span"),l._uU(8),l.qZA(),l.TgZ(9,"button",3),l.NdJ("click",function(){return f.nextPage()}),l.TgZ(10,"mat-icon"),l._uU(11,"chevron_right"),l.qZA(),l.qZA(),l.TgZ(12,"button",4),l.NdJ("click",function(){return f.lastPage()}),l.TgZ(13,"mat-icon"),l._uU(14,"last_page"),l.qZA(),l.qZA(),l.qZA()),2&_&&(l.xp6(8),l.Oqu(f.getAtual()))},directives:[b.lW,g.gM,d.Hw],styles:[".pagina[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;font-size:inherit;font-weight:inherit;font:inherit}.pagina[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:2px}"]}),c})()},8239:(U,v,i)=>{function l(g,d,u,c,Z,_,f){try{var h=g[_](f),s=h.value}catch(e){return void u(e)}h.done?d(s):Promise.resolve(s).then(c,Z)}function b(g){return function(){var d=this,u=arguments;return new Promise(function(c,Z){var _=g.apply(d,u);function f(s){l(_,c,Z,f,h,"next",s)}function h(s){l(_,c,Z,f,h,"throw",s)}f(void 0)})}}i.d(v,{Z:()=>b})}}]);