"use strict";(self.webpackChunktimer=self.webpackChunktimer||[]).push([[330],{61:(U,A,n)=>{n.d(A,{o:()=>h});class h{constructor(){this.id_empresa=0,this.id=0,this.id_projeto=0,this.id_conta="",this.id_conta_versao="0101",this.id_subconta="",this.id_subcliente=0,this.id_resp=0,this.id_exec=0,this.id_motivo="",this.produtivo="",this.inicial="",this.final="",this.obs="",this.horasapon=0,this.encerramento="N",this.nlanc=0,this.user_insert=0,this.user_update=0,this.conta_descricao="",this.grupo_descricao="",this.estru_descricao="",this.resp_razao="",this.exec_razao="",this.proj_descricao="",this.motivo_descricao="",this.motivo_produtivo="",this.ativ_inicial="",this.ativ_final="",this.cli_razao=""}}},8330:(U,A,n)=>{n.r(A),n.d(A,{PontesModule:()=>qa});var h=n(8583),p=n(4655),g=n(9243),m=n(2238),Z=n(1441),b=n(320),S=n(5062),T=n(2401),l=n(3032),_=n(3430),r=n(7117),O=n(4560),y=n(4705);class z{constructor(){this.processar=!1,this.titulo="",this.texto="",this.descricao=""}}var N=n(9267),a=n(7716),u=n(3679),f=n(8295),k=n(9983),I=n(1095),E=n(6627);function j(i,c){if(1&i&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&i){const e=a.oxw();let t;a.xp6(1),a.hij(" ",null==(t=e.formulario.get("descricao"))||null==t.errors?null:t.errors.message,"")}}let L=(()=>{class i{constructor(e,t,o){this.dialogRef=e,this.data=t,this.formBuilder=o,this.formulario=o.group({descricao:[{value:""},[(0,N.S)(3,50)]]})}ngOnInit(){this.data.processar=!1,this.setValue()}actionFunction(){this.data.processar=!0,this.data.descricao=this.formulario.value.descricao,this.closeModal()}setValue(){this.formulario.setValue({descricao:this.data.descricao})}closeModal(){this.dialogRef.close()}touchedOrDirty(e){var t,o;return!(!(null===(t=this.formulario.get(e))||void 0===t?void 0:t.touched)&&!(null===(o=this.formulario.get(e))||void 0===o?void 0:o.dirty))}getValidfield(e){var t,o;return(null===(o=null===(t=this.formulario.get(e))||void 0===t?void 0:t.errors)||void 0===o?void 0:o.ValidatorStringLen)&&this.touchedOrDirty(e)}getMensafield(e){var t,o;return null===(o=null===(t=this.formulario.get(e))||void 0===t?void 0:t.errors)||void 0===o?void 0:o.message}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(m.so),a.Y36(m.WI),a.Y36(u.qu))},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-alter-descricao-dialog"]],decls:18,vars:4,consts:[["autocomplete","off",3,"formGroup"],[1,"col-med-1"],["appearance","outline",1,"col-max"],["matInput","","formControlName","descricao","oninput","this.value = this.value.toUpperCase()"],[4,"ngIf"],[1,"button-container-right"],["mat-raised-button","","color","accent","cdkFocusInitial","",3,"click"],["mat-raised-button","","color","primary",3,"mat-dialog-close","click"]],template:function(e,t){if(1&e&&(a.TgZ(0,"h1"),a._uU(1),a.qZA(),a.TgZ(2,"form",0),a.TgZ(3,"div",1),a.TgZ(4,"mat-form-field",2),a.TgZ(5,"mat-label"),a._uU(6,"Descri\xe7\xe3o:"),a.qZA(),a._UZ(7,"input",3),a.YNc(8,j,2,1,"mat-error",4),a.qZA(),a.qZA(),a.TgZ(9,"div",5),a.TgZ(10,"button",6),a.NdJ("click",function(){return t.closeModal()}),a.TgZ(11,"mat-icon"),a._uU(12,"cancel"),a.qZA(),a._uU(13," Cancelar "),a.qZA(),a.TgZ(14,"button",7),a.NdJ("click",function(){return t.actionFunction()}),a.TgZ(15,"mat-icon"),a._uU(16,"check"),a.qZA(),a._uU(17," Gravar "),a.qZA(),a.qZA(),a.qZA()),2&e){let o;a.xp6(1),a.Oqu(t.data.texto),a.xp6(1),a.Q6J("formGroup",t.formulario),a.xp6(6),a.Q6J("ngIf",(null==(o=t.formulario.get("descricao"))||null==o.errors?null:o.errors.ValidatorStringLen)&&t.touchedOrDirty("descricao")),a.xp6(6),a.Q6J("mat-dialog-close",t.data)}},directives:[u._Y,u.JL,u.sg,f.KE,f.hX,k.Nt,u.Fj,u.JJ,u.u,h.O5,I.lW,E.Hw,m.ZT,f.TO],styles:[""]}),i})();var F=n(1558),J=n(789),V=n(7006),K=n(5626),M=n(2522),H=n(3968),R=n(1436),W=n(7441),X=n(2458),D=n(2559),B=n(7234);function aa(i,c){if(1&i&&(a.TgZ(0,"mat-option",19),a._uU(1),a.qZA()),2&i){const e=c.$implicit;a.Q6J("value",e),a.xp6(1),a.hij(" ",e," ")}}function ea(i,c){if(1&i&&(a.TgZ(0,"mat-option",19),a._uU(1),a.qZA()),2&i){const e=c.$implicit;a.Q6J("value",e),a.xp6(1),a.hij(" ",e," ")}}function ta(i,c){1&i&&(a.TgZ(0,"mat-form-field",20),a.TgZ(1,"mat-label"),a._uU(2,"Descri\xe7\xe3o"),a.qZA(),a._UZ(3,"input",21),a.qZA())}function oa(i,c){if(1&i&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&i){const e=a.oxw(2);let t;a.xp6(1),a.hij(" ",null==(t=e.parametros.get("data"))||null==t.errors?null:t.errors.message,"")}}function ia(i,c){if(1&i&&(a.TgZ(0,"mat-form-field",22),a.TgZ(1,"mat-label"),a._uU(2,"Data"),a.qZA(),a._UZ(3,"input",23),a.YNc(4,oa,2,1,"mat-error",24),a.qZA()),2&i){const e=a.oxw();let t;a.xp6(4),a.Q6J("ngIf",(null==(t=e.parametros.get("data"))||null==t.errors?null:t.errors.ValidatorDate)&&e.NoValidtouchedOrDirtyCd("data"))}}function ra(i,c){if(1&i){const e=a.EpF();a.TgZ(0,"tr"),a.TgZ(1,"td"),a.TgZ(2,"div",25),a.TgZ(3,"mat-label",26),a._uU(4),a.qZA(),a.qZA(),a.qZA(),a.TgZ(5,"td"),a.TgZ(6,"div"),a.TgZ(7,"mat-label",26),a._uU(8),a.qZA(),a.qZA(),a.qZA(),a.TgZ(9,"td"),a.TgZ(10,"div",27),a.TgZ(11,"mat-label",26),a._uU(12),a.qZA(),a.qZA(),a.qZA(),a.TgZ(13,"td",28),a.TgZ(14,"barra-acoes",29),a.NdJ("changeOpcao",function(o){const d=a.CHM(e).$implicit;return a.oxw().escolha(o,d)}),a.qZA(),a.qZA(),a.qZA()}if(2&i){const e=c.$implicit;a.xp6(4),a.Oqu(e.data),a.xp6(4),a.Oqu(e.descricao),a.xp6(4),a.Oqu(e.total),a.xp6(2),a.Q6J("MULTEDICAO",!0)("BARRA_VERTICAL",!0)("EXCLUIR",!1)("BARRA_EXCLUIR",!0)("ALTERAR",!0)("BARRA_ATIVIDADES",!1)("BARRA_DASHBOARDV1",!1)}}let sa=(()=>{class i{constructor(e,t,o,s,d,v,P,w,x){this.formBuilder=e,this.feriadoService=t,this.router=o,this.route=s,this.appSnackBar=d,this.globalService=v,this.parametrosService=P,this.questionDialog=w,this.alterDialog=x,this.feriados=[],this.erro="",this.opcoesOrdenacao=[],this.opcoesCampo=[],this.tamPagina=50,this.controlePaginas=new _.e(this.tamPagina,0),this.retorno=!1,this.parametro=new Z.M,this.parametros=e.group({ordenacao:[null],campo:[null],filtro:[null],data:[{value:""},[(0,T.K)(!1)]]}),this.inscricaoRota=s.params.subscribe(Ua=>{void 0===Ua.retorno?this.retorno=!1:(this.retorno=!0,this.globalService.estadoFind("feriado"))})}ngOnInit(){this.loadParametros()}ngOnDestroy(){var e,t,o,s;null===(e=this.inscricaoGetAll)||void 0===e||e.unsubscribe(),null===(t=this.inscricaoParametro)||void 0===t||t.unsubscribe(),null===(o=this.inscricaoRota)||void 0===o||o.unsubscribe(),null===(s=this.inscricaoCrud)||void 0===s||s.unsubscribe()}escolha(e,t){if(10==e&&(e=98),e==this.getAcoes().Consulta&&(e=97),void 0!==t){if(e==this.getAcoes().Exclusao)return void this.onDelete(t);if(e==this.getAcoes().Edicao)return void this.onUpdate(t);this.router.navigate(["/pontes/ponte",t.id_empresa,t.data,e])}else this.router.navigate(["/pontes/ponte",this.globalService.id_empresa,"",99])}getAcoes(){return l.I}getFeriados(){let e=new b.$;e.id_empresa=1,e.id_tipo=2,e.formato="P","Data"==this.parametros.value.campo&&(e.data=this.parametros.value.data),"Descri\xe7\xe3o"==this.parametros.value.campo&&(e.descricao=this.parametros.value.filtro.toUpperCase()),e.orderby=this.parametros.value.ordenacao,e.contador="N",e.tamPagina=this.tamPagina,e.pagina=this.controlePaginas.getPaginalAtual(),this.globalService.setSpin(!0),this.inscricaoGetAll=this.feriadoService.getPontes_01(e).subscribe(t=>{this.globalService.setSpin(!1),this.feriados=t;const o=this.feriados.findIndex(d=>d.data==(0,r.SL)(this.parametro.getParametro(),"id_retorno"));setTimeout(()=>this.viewPort.scrollToIndex(o),10),this.retorno=!1;let s=this.parametro.getParametro();Object(s).id_retorno=0,Object(s).new=!1,this.parametro.parametro=JSON.stringify(s)},t=>{let o=this.parametro.getParametro();Object(o).id_retorno=0,Object(o).new=!1,this.retorno=!1,this.globalService.setSpin(!1),this.feriados=[],this.appSnackBar.openWarningnackBar(`Pesquisa Nos Feriados ${(0,r.bZ)(t)}`,"OK")})}getFeriadosContador(){let e=new b.$;e.id_empresa=1,e.id_tipo=2,e.formato="P","Data"==this.parametros.value.campo&&(e.data=this.parametros.value.data),"Descri\xe7\xe3o"==this.parametros.value.campo&&(e.descricao=this.parametros.value.filtro.toUpperCase()),e.orderby=this.parametros.value.ordenacao,e.contador="S",e.tamPagina=this.tamPagina,this.globalService.setSpin(!0),this.inscricaoGetAll=this.feriadoService.getFeriados_01(e).subscribe(t=>{if(this.globalService.setSpin(!1),this.controlePaginas=new _.e(this.tamPagina,0==t.total?1:t.total),this.retorno)if((0,r.xc)(this.parametro.getParametro(),"new"))this.controlePaginas.goLast();else{let o=this.parametro.getParametro();this.controlePaginas.setPaginaAtual(Object(o).page)}this.getFeriados()},t=>{this.globalService.setSpin(!1),this.controlePaginas=new _.e(this.tamPagina,0),this.appSnackBar.openWarningnackBar(`Pesquisa Em Pontes ${(0,r.bZ)(t)}`,"OK")})}deletePonte(e){this.globalService.setSpin(!0),this.inscricaoCrud=this.feriadoService.PonteDelete(e.id_empresa,e.data.replace(/\//g,"_")).subscribe(o=>{this.globalService.setSpin(!1),this.getFeriadosContador()},o=>{this.globalService.setSpin(!1),this.appSnackBar.openWarningnackBar(`Falha Na Exclus\xe3o ${(0,r.bZ)(o)}`,"OK")})}updatePonte(e){this.globalService.setSpin(!0),this.inscricaoCrud=this.feriadoService.FeriadoAlterPonteDescricao(e).subscribe(t=>{this.globalService.setSpin(!1),this.getFeriadosContador()},t=>{this.globalService.setSpin(!1),this.appSnackBar.openWarningnackBar(`Falha Na Atualizacao ${(0,r.bZ)(t)}`,"OK")})}getParametro(){this.globalService.setSpin(!0);let e=new S.E;e.id_empresa=this.parametro.id_empresa,e.modulo=this.parametro.modulo,e.assinatura=this.parametro.assinatura,e.id_usuario=this.parametro.id_usuario,e.orderby="Usu\xe1rio",this.inscricaoParametro=this.parametrosService.getParametrosParametro01(e).subscribe(t=>{this.globalService.setSpin(!1),this.parametro=new Z.M,this.parametro.id_empresa=t[0].id_empresa,this.parametro.modulo=t[0].modulo,this.parametro.id_usuario=t[0].id_usuario,this.parametro.assinatura=t[0].assinatura,this.parametro.parametro=t[0].parametro,this.parametro.user_insert=t[0].user_insert,this.parametro.user_update=t[0].user_update,this.opcoesOrdenacao=(0,r.FO)(this.parametro.getParametro(),"ordenacao"),this.opcoesCampo=(0,r.FO)(this.parametro.getParametro(),"pesquisar"),this.setValues(),this.getFeriadosContador()},t=>{this.globalService.setSpin(!1),this.setValues(),this.getFeriadosContador()})}updateParametros(){this.globalService.setSpin(!0),this.parametro.user_insert=this.globalService.usuario.id,this.parametro.user_update=this.globalService.usuario.id;let e=this.parametro.getParametro();Object(e).op_ordenacao=this.opcoesOrdenacao.findIndex(t=>this.parametros.value.ordenacao==t),Object(e).op_pesquisar=this.opcoesCampo.findIndex(t=>this.parametros.value.campo==t),Object(e).descricao=this.parametros.value.filtro,Object(e).page=0,Object(e).new=!1,this.parametro.parametro=JSON.stringify(e),this.inscricaoParametro=this.parametrosService.ParametroAtualiza(this.parametro).subscribe(t=>{this.globalService.setSpin(!1),this.appSnackBar.openSuccessSnackBar("Par\xe2metros Atualizados","OK")},t=>{this.globalService.setSpin(!1),this.appSnackBar.openWarningnackBar(`Grava\xe7\xe3o Dos Parametros ${(0,r.bZ)(t)}`,"OK")})}setValues(){this.parametros.setValue({ordenacao:this.opcoesOrdenacao[(0,r.P0)(this.parametro.getParametro(),"op_ordenacao")],campo:this.opcoesCampo[(0,r.P0)(this.parametro.getParametro(),"op_pesquisar")],filtro:(0,r.SL)(this.parametro.getParametro(),"descricao"),data:""})}getTexto(){return r.fd}onChangePage(){this.getFeriados()}onChangeParametros(){this.getFeriadosContador()}onHome(){this.router.navigate([""])}onSaveConfig(){this.updateParametros()}loadParametros(){if(this.parametro=new Z.M,this.parametro.id_empresa=this.globalService.getIdEmpresa(),this.parametro.modulo="conta",this.parametro.assinatura="V1.00 19/10/2023",this.parametro.id_usuario=this.globalService.usuario.id,this.parametro.parametro='\n      {\n        "op_ordenacao": 0,\n        "ordenacao": ["Data","Descri\xe7\xe3o"],\n        "op_pesquisar": 1,\n        "pesquisar": ["Data","Descri\xe7\xe3o"],\n        "descricao": "",\n        "page": 1,\n        "new": false,\n        "id_retorno":""\n      }',this.opcoesOrdenacao=(0,r.FO)(this.parametro.getParametro(),"ordenacao"),this.opcoesCampo=(0,r.FO)(this.parametro.getParametro(),"pesquisar"),this.retorno&&null!==this.globalService.estadoFind("feriado")){const e=this.globalService.estadoFind("feriado");if(null!=e){if((0,r.xc)(e.getParametro(),"new")){let t=this.parametro.getParametro();Object(t).id_retorno=(0,r.P0)(e.getParametro(),"id_retorno"),this.parametro.parametro=JSON.stringify(t),this.setPosicaoInclusao()}else this.controlePaginas.setPaginaAtual((0,r.P0)(e.getParametro(),"page")),this.parametro.setParametro(e.getParametro());this.globalService.estadoDelete(e),this.setValues(),this.getFeriadosContador()}}else this.getParametro()}setPosicaoInclusao(){const e=this.parametro.getParametro();Object(e).op_ordenacao=0,Object(e).op_pesquisar=0,Object(e).descricao="",Object(e).new=!0,this.parametro.setParametro(e)}NoValidtouchedOrDirtyCd(e){var t,o,s;return!((null===(t=this.parametros.get(e))||void 0===t?void 0:t.valid)||!(null===(o=this.parametros.get(e))||void 0===o?void 0:o.touched)&&!(null===(s=this.parametros.get(e))||void 0===s?void 0:s.dirty))}isData(){return"Data"==this.parametros.value.campo}onDelete(e){const t=new O.Z;t.mensagem01="Confirma A Exclus\xe3o Da Ponte",t.mensagem02=`${e.data} ${e.descricao}`;const o=new m.vA;o.disableClose=!0,o.id="question-dialog",o.width="600px",o.data=t,this.questionDialog.open(y.h,o).beforeClosed().subscribe(d=>{void 0!==d&&"S"===d.resposta&&this.deletePonte(e)})}onUpdate(e){const t=new z;t.texto="Altera\xe7\xe3o Da Descri\xe7\xe3o",t.descricao=e.descricao;const o=new m.vA;o.disableClose=!0,o.id="descri-dialog",o.width="600px",o.data=t,this.questionDialog.open(L,o).beforeClosed().subscribe(d=>{void 0!==d&&d.processar&&(e.descricao=d.descricao,this.updatePonte(e))})}onRefresh(){this.parametros.valid?this.getFeriadosContador():(this.parametros.markAllAsTouched(),this.appSnackBar.openSuccessSnackBar("Formul\xe1rio Com Campos Inv\xe1lidos.","OK"))}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(u.qu),a.Y36(F.v),a.Y36(p.F0),a.Y36(p.gz),a.Y36(J.W),a.Y36(V.U),a.Y36(K.u),a.Y36(m.uw),a.Y36(m.uw))},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-crud-ponte"]],viewQuery:function(e,t){if(1&e&&a.Gf(g.N7,5),2&e){let o;a.iGM(o=a.CRH())&&(t.viewPort=o.first)}},decls:43,vars:9,consts:[[1,"div-barra"],[1,"example-spacer"],[3,"controle","changePage"],["mat-icon-button","","aria-label","Example icon-button with share icon","matTooltip","Atualizar","matTooltipPosition","above",1,"example-icon",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above","matTooltip","Salvar Par\xe2metros","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","Retorno","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above",3,"matTooltip","click"],[1,"parametros"],["autocomplete","off",1,"col-med-4",3,"formGroup"],["field","","appearance","outline",1,"col-max"],["formControlName","ordenacao",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","campo",3,"selectionChange"],["appearance","outline","class","col-max column-span-2",4,"ngIf"],["appearance","outline","class","col-max",4,"ngIf"],[1,"content",3,"itemSize"],[1,"Browse-Scroll"],[1,"coluna-cabec"],[4,"cdkVirtualFor","cdkVirtualForOf"],[3,"value"],["appearance","outline",1,"col-max","column-span-2"],["matInput","","formControlName","filtro","oninput","this.value = this.value.toUpperCase()"],["appearance","outline",1,"col-max"],["matInput","","formControlName","data","mask","00/00/0000","placeholder","dd/mm/aaaa"],[4,"ngIf"],[1,"alinha_centro"],[1,"Browse_Lanc_td"],[1,"alinha_direita"],[1,"acoes"],[3,"MULTEDICAO","BARRA_VERTICAL","EXCLUIR","BARRA_EXCLUIR","ALTERAR","BARRA_ATIVIDADES","BARRA_DASHBOARDV1","changeOpcao"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"mat-toolbar"),a.TgZ(2,"span",1),a._uU(3,"Pontes: "),a.qZA(),a.TgZ(4,"app-navegator",2),a.NdJ("changePage",function(){return t.onChangePage()}),a.qZA(),a.TgZ(5,"button",3),a.NdJ("click",function(){return t.onRefresh()}),a.TgZ(6,"mat-icon"),a._uU(7,"rotate_right"),a.qZA(),a.qZA(),a.TgZ(8,"button",4),a.NdJ("click",function(){return t.onSaveConfig()}),a.TgZ(9,"mat-icon"),a._uU(10,"brightness_high"),a.qZA(),a.qZA(),a.TgZ(11,"button",5),a.NdJ("click",function(){return t.onHome()}),a.TgZ(12,"mat-icon"),a._uU(13,"home"),a.qZA(),a.qZA(),a.TgZ(14,"button",6),a.NdJ("click",function(){return t.escolha(99)}),a.TgZ(15,"mat-icon"),a._uU(16,"add_circle_outline"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(17,"div",7),a.TgZ(18,"form",8),a.TgZ(19,"mat-form-field",9),a.TgZ(20,"mat-label"),a._uU(21,"Ordena\xe7\xe3o"),a.qZA(),a.TgZ(22,"mat-select",10),a.NdJ("selectionChange",function(){return t.onChangeParametros()}),a.YNc(23,aa,2,2,"mat-option",11),a.qZA(),a.qZA(),a.TgZ(24,"mat-form-field",9),a.TgZ(25,"mat-label"),a._uU(26,"Pesquisar Por"),a.qZA(),a.TgZ(27,"mat-select",12),a.NdJ("selectionChange",function(){return t.onChangeParametros()}),a.YNc(28,ea,2,2,"mat-option",11),a.qZA(),a.qZA(),a.YNc(29,ta,4,0,"mat-form-field",13),a.YNc(30,ia,5,1,"mat-form-field",14),a.qZA(),a.qZA(),a.TgZ(31,"cdk-virtual-scroll-viewport",15),a.TgZ(32,"table",16),a.TgZ(33,"tr",17),a.TgZ(34,"th"),a._uU(35,"Data"),a.qZA(),a.TgZ(36,"th"),a._uU(37,"Descri\xe7\xe3o"),a.qZA(),a.TgZ(38,"th"),a._uU(39,"Qtd Usu\xe1rios"),a.qZA(),a.TgZ(40,"th"),a._uU(41,"A\xc7\xd5ES"),a.qZA(),a.qZA(),a.YNc(42,ra,15,10,"tr",18),a.qZA(),a.qZA()),2&e&&(a.xp6(4),a.Q6J("controle",t.controlePaginas),a.xp6(10),a.Q6J("matTooltip",t.getTexto().incluir),a.xp6(4),a.Q6J("formGroup",t.parametros),a.xp6(5),a.Q6J("ngForOf",t.opcoesOrdenacao),a.xp6(5),a.Q6J("ngForOf",t.opcoesCampo),a.xp6(1),a.Q6J("ngIf",!t.isData()),a.xp6(1),a.Q6J("ngIf",t.isData()),a.xp6(1),a.Q6J("itemSize",50),a.xp6(11),a.Q6J("cdkVirtualForOf",t.feriados))},directives:[M.Ye,H.J,I.lW,R.gM,E.Hw,u._Y,u.JL,u.sg,f.KE,f.hX,W.gD,u.JJ,u.u,h.sg,h.O5,g.N7,g.xd,g.x0,X.ey,k.Nt,u.Fj,D.hx,f.TO,B.C],styles:['.content[_ngcontent-%COMP%]{height:60%;overflow:auto}.Browse-Scroll[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;overflow-y:auto;width:100%;height:inherit;padding:4px}td[_ngcontent-%COMP%]{font-size:small;color:#00f;font-family:"Times New Roman",Times,serif}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2aa}tr[_ngcontent-%COMP%]:hover{background-color:#caa99d}.acoes[_ngcontent-%COMP%]{color:#8b0000;width:100px}.go-up[_ngcontent-%COMP%]{margin-top:-10px}']}),i})();var $=n(8239);class G{constructor(){this.id_empresa=0,this.id=0,this.razao="",this.data="",this.descricao="",this.flag_ponte=""}}class Y{constructor(){this.checked=!1,this.acao=l.I.None,this.vazia=!1,this.ponte=new G}}var C=n(9071),Q=n(6468);class na{constructor(){this.acao=l.I.None,this.feriado=new C.u}}var q=n(61),ca=n(1209),la=n(7539);let da=(()=>{class i{transform(e){let t="";switch(e){case l.I.None:t="";break;case l.I.Inclusao:t="INCLUS\xc3O";break;case l.I.Exclusao:t="EXCLUS\xc3O";break;case l.I.Edicao:t="ALTERA\xc7\xc3O";break;default:t=""}return t}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=a.Yjl({name:"cadastroAcoesPipe",type:i,pure:!0}),i})();var ua=n(980);function ha(i,c){if(1&i&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&i){const e=a.oxw(2);let t;a.xp6(1),a.hij(" ",null==(t=e.gerador.get("data_ref"))||null==t.errors?null:t.errors.message,"")}}function ma(i,c){1&i&&(a.TgZ(0,"mat-error"),a._uU(1,"Observa\xe7\xe3o - Tamanho M\xe1ximo 50 letras "),a.qZA())}function pa(i,c){if(1&i){const e=a.EpF();a.TgZ(0,"div"),a.TgZ(1,"mat-checkbox",22),a.NdJ("change",function(o){a.CHM(e);const s=a.oxw().$implicit;return a.oxw(3).setItens(o.checked,s)}),a.TgZ(2,"mat-label",23),a._uU(3),a.qZA(),a.qZA(),a.qZA()}if(2&i){const e=a.oxw().$implicit;a.xp6(1),a.Q6J("checked",e.checked),a.xp6(2),a.hij(" ",e.ponte.razao," ")}}function ga(i,c){if(1&i&&(a.TgZ(0,"div"),a.TgZ(1,"mat-label",23),a._uU(2),a.qZA(),a.qZA()),2&i){const e=a.oxw().$implicit;a.xp6(2),a.Oqu(e.ponte.descricao)}}function _a(i,c){if(1&i&&(a.TgZ(0,"tr"),a._UZ(1,"td"),a.TgZ(2,"td"),a.YNc(3,pa,4,2,"div",4),a.qZA(),a.TgZ(4,"td"),a.YNc(5,ga,3,1,"div",4),a.qZA(),a.TgZ(6,"td"),a.TgZ(7,"div"),a.TgZ(8,"mat-label",23),a._uU(9),a.ALo(10,"cadastroAcoesPipe"),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&i){const e=c.$implicit;a.xp6(3),a.Q6J("ngIf",!e.vazia),a.xp6(2),a.Q6J("ngIf",!e.vazia),a.xp6(4),a.Oqu(a.lcZ(10,3,e.acao))}}function fa(i,c){if(1&i){const e=a.EpF();a.TgZ(0,"div"),a.TgZ(1,"table",19),a.TgZ(2,"tr",20),a.TgZ(3,"th",21),a.TgZ(4,"div"),a.TgZ(5,"mat-checkbox",22),a.NdJ("change",function(o){return a.CHM(e),a.oxw(2).setAllItens(o.checked)}),a.TgZ(6,"mat-label",23),a._uU(7,"TODOS"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(8,"th"),a.TgZ(9,"mat-label",23),a._uU(10,"Auditores"),a.qZA(),a.qZA(),a.TgZ(11,"th",24),a.TgZ(12,"div"),a.TgZ(13,"mat-label",23),a._uU(14,"Pontes"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(15,"th",21),a.TgZ(16,"div"),a.TgZ(17,"mat-label",23),a._uU(18,"A\xe7\xe3o"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.YNc(19,_a,11,5,"tr",25),a.qZA(),a.qZA()}if(2&i){const e=a.oxw(2);a.xp6(5),a.Q6J("checked",e.displayPontes[0].checked),a.xp6(14),a.Q6J("ngForOf",e.getVisiblesPontes())}}function va(i,c){if(1&i){const e=a.EpF();a.TgZ(0,"button",16),a.NdJ("click",function(){return a.CHM(e),a.oxw(2).onGerarPontes()}),a._uU(1,"Auditores"),a.qZA()}if(2&i){const e=a.oxw(2);a.Q6J("disabled",!e.showAuditores())}}function Aa(i,c){if(1&i&&(a.TgZ(0,"tr"),a.TgZ(1,"td"),a.TgZ(2,"div"),a.TgZ(3,"mat-label",23),a._uU(4),a.qZA(),a.qZA(),a.qZA(),a.TgZ(5,"td"),a.TgZ(6,"div"),a.TgZ(7,"mat-label",23),a._uU(8),a.qZA(),a.qZA(),a.qZA(),a.TgZ(9,"td"),a.TgZ(10,"div"),a.TgZ(11,"mat-label",23),a._uU(12),a.qZA(),a.qZA(),a.qZA(),a.TgZ(13,"td",21),a._UZ(14,"barra-acoes",27),a.qZA(),a.qZA()),2&i){const e=c.$implicit;a.xp6(4),a.Oqu(e.data),a.xp6(4),a.Oqu(e.descricao),a.xp6(4),a.Oqu(e.total),a.xp6(2),a.Q6J("BARRA_ATIVIDADES",!1)("EXCLUIR",!1)}}function ba(i,c){if(1&i&&(a.TgZ(0,"div",8),a.TgZ(1,"table",19),a.TgZ(2,"tr",26),a.TgZ(3,"th"),a._uU(4,"Data"),a.qZA(),a.TgZ(5,"th"),a._uU(6,"Descri\xe7\xe3o"),a.qZA(),a.TgZ(7,"th"),a._uU(8,"Qtd Usu\xe1rios"),a.qZA(),a.TgZ(9,"th"),a._uU(10,"A\xc7\xd5ES"),a.qZA(),a.qZA(),a.YNc(11,Aa,15,5,"tr",25),a.qZA(),a.qZA()),2&i){const e=a.oxw(2);a.xp6(11),a.Q6J("ngForOf",e.pontes)}}function Za(i,c){if(1&i){const e=a.EpF();a.TgZ(0,"div"),a.TgZ(1,"form",7),a.TgZ(2,"div",8),a.TgZ(3,"h3",9),a._uU(4),a.qZA(),a.TgZ(5,"div",10),a.TgZ(6,"mat-form-field",11),a.TgZ(7,"mat-label"),a._uU(8,"Data De Refer\xeancia"),a.qZA(),a._UZ(9,"input",12),a.YNc(10,ha,2,1,"mat-error",4),a.qZA(),a.TgZ(11,"mat-form-field",13),a.TgZ(12,"mat-label"),a._uU(13,"Descri\xe7\xe3o"),a.qZA(),a._UZ(14,"input",14),a.YNc(15,ma,2,0,"mat-error",4),a.qZA(),a.qZA(),a.YNc(16,fa,20,2,"div",4),a.TgZ(17,"div",15),a.TgZ(18,"button",16),a.NdJ("click",function(){return a.CHM(e),a.oxw().onGravarPontes()}),a._uU(19),a.qZA(),a.YNc(20,va,2,1,"button",17),a.TgZ(21,"button",18),a.NdJ("click",function(){return a.CHM(e),a.oxw().onCancelGeracao()}),a._uU(22,"Cancelar"),a.qZA(),a.qZA(),a.qZA(),a._UZ(23,"div",6),a.YNc(24,ba,12,1,"div",5),a.qZA(),a.qZA()}if(2&i){const e=a.oxw();let t;a.xp6(1),a.Q6J("formGroup",e.gerador),a.xp6(3),a.Oqu(e.labelCadastro),a.xp6(5),a.Q6J("readonly",99!=e.idAcao)("readonly",e.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(t=e.gerador.get("data_ref"))||null==t.errors?null:t.errors.ValidatorDate)&&e.NoValidtouchedOrDirtyGe("data_ref")),a.xp6(4),a.Q6J("readonly",e.readOnly),a.xp6(1),a.Q6J("ngIf",e.NoValidtouchedOrDirtyGe("descricao")),a.xp6(1),a.Q6J("ngIf",e.displayPontes.length>0),a.xp6(2),a.Q6J("disabled",!e.hasAuditores()),a.xp6(1),a.Oqu(e.acao),a.xp6(1),a.Q6J("ngIf",99==e.idAcao),a.xp6(1),a.Q6J("disabled",e.gravando),a.xp6(3),a.Q6J("ngIf",e.pontes.length>0)}}function Ta(i,c){if(1&i&&(a.TgZ(0,"tr"),a.TgZ(1,"td"),a.TgZ(2,"div",9),a.TgZ(3,"mat-label",23),a._uU(4),a.qZA(),a.qZA(),a.qZA(),a.TgZ(5,"td"),a.TgZ(6,"div"),a.TgZ(7,"mat-label",23),a._uU(8),a.ALo(9,"firstName"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(10,"td"),a.TgZ(11,"div"),a.TgZ(12,"mat-label",23),a._uU(13),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&i){const e=c.$implicit;a.xp6(4),a.Oqu(e.data),a.xp6(4),a.AsE("",e.id_usuario,"-",a.lcZ(9,4,e.usu_nome),""),a.xp6(5),a.Oqu(e.descricao)}}function Pa(i,c){if(1&i&&(a.TgZ(0,"div",8),a.TgZ(1,"h3",9),a._uU(2),a.qZA(),a.TgZ(3,"table",19),a.TgZ(4,"tr",26),a.TgZ(5,"th"),a._uU(6,"Data"),a.qZA(),a.TgZ(7,"th"),a._uU(8,"Auditor"),a.qZA(),a.TgZ(9,"th"),a._uU(10,"Descri\xe7\xe3o"),a.qZA(),a.qZA(),a.YNc(11,Ta,14,6,"tr",25),a.qZA(),a.qZA()),2&i){const e=a.oxw();a.xp6(2),a.Oqu(e.labelCadastro),a.xp6(9),a.Q6J("ngForOf",e.feriados)}}const Sa=[{path:"",redirectTo:"pontes",pathMatch:"full"},{path:"pontes",component:sa},{path:"ponte/:id_empresa/:data/:acao",component:(()=>{class i{constructor(e,t,o,s,d,v,P,w){this.formBuilder=e,this.globalService=t,this.usuariosService=o,this.feriadoService=s,this.appSnackBar=d,this.route=v,this.router=P,this.questionDialog=w,this.feriado=new C.u,this.feriados=[],this.pontes=[],this.displayPontes=[],this.acao="Sem Defini\xe7\xe3o",this.idAcao=l.I.Inclusao,this.labelCadastro="",this.id_empresa=0,this.id_projeto=0,this.data="",this.auditor=0,this.auditores=[],this.allPontes=[],this.allAlterPontes=[],this.readOnly=!0,this.gravando=!1,this.inscricaoRota=v.params.subscribe(x=>{this.id_empresa=x.id_empresa,this.data=x.data,this.idAcao=x.acao}),this.gerador=e.group({data_ref:[{value:0},[(0,T.K)(!0)]],descricao:[{value:""},[(0,N.S)(3,50,!0)]]}),this.setValueGerador(),this.setAcao(this.idAcao)}ngOnInit(){}ngOnDestroy(){var e,t,o,s,d,v,P;null===(e=this.inscricaoCrud)||void 0===e||e.unsubscribe(),null===(t=this.inscricaoRota)||void 0===t||t.unsubscribe(),null===(o=this.inscricaoGetPontes)||void 0===o||o.unsubscribe(),null===(s=this.inscricaoGetPonte)||void 0===s||s.unsubscribe(),null===(d=this.inscricaoGetFeriados)||void 0===d||d.unsubscribe(),null===(v=this.inscricaoAuditor)||void 0===v||v.unsubscribe(),null===(P=this.inscricaoFeriadoCrud)||void 0===P||P.unsubscribe()}setValueGerador(){this.gerador.setValue({data_ref:this.feriado.data,descricao:this.feriado.descricao})}getFeriados(){let e=new b.$;e.id_empresa=this.globalService.getIdEmpresa(),e.id_tipo=2,e.data=this.data,e.orderby="Data",e.contador="N",e.tamPagina=0,e.pagina=0,this.globalService.setSpin(!0),this.inscricaoGetFeriados=this.feriadoService.getFeriados_01(e).subscribe(t=>{this.globalService.setSpin(!1),this.feriados=t,this.feriado=t[0],98==this.idAcao&&(this.feriado.data=this.feriados[0].data,this.feriado.descricao=this.feriados[0].descricao,this.setValueGerador(),this.getAuditoresPontes()),99==this.idAcao&&this.appSnackBar.openWarningnackBar("Ponte J\xe1 Cadastrada. Usar Altera\xe7\xe3o!","OK")},t=>{this.globalService.setSpin(!1),"Nehuma Informa\xe7\xe3o Para Esta Consulta."!==t.error.message?(this.feriados=[],this.feriado=new C.u,this.appSnackBar.openWarningnackBar(`Pesquisa Nas Pontes ${(0,r.bZ)(t)}`,"OK")):this.getAuditoresPontes()})}getAuditoresPontes(){const e=new Q.w,t=this.usuariosService.getGruposCoordenador(),o=this.usuariosService.getGruposAuditor();e.id_empresa=this.globalService.id_empresa,t.forEach(s=>{e.grupo.push(s)}),o.forEach(s=>{e.grupo.push(s)}),e.ativo="S",e.timer="S",e.data=this.gerador.value.data_ref,e.orderby="Raz\xe3o",this.globalService.setSpin(!0),this.inscricaoAuditor=this.usuariosService.getusuarios_01_Ponte(e).subscribe(s=>{this.globalService.setSpin(!1),this.loadDisplayItens(s)},s=>{this.globalService.setSpin(!1),this.appSnackBar.openWarningnackBar(`${s.error.tabela} - ${s.error.erro} - ${s.error.message}`,"OK")})}getAuditores(){const e=new Q.w;this.usuariosService.getGruposCoordenador(),this.usuariosService.getGruposAuditor(),e.id_empresa=this.globalService.id_empresa,e.id=this.globalService.getUsuario().id,e.orderby="Raz\xe3o",this.globalService.setSpin(!0),this.inscricaoAuditor=this.usuariosService.getusuarios_01(e).subscribe(s=>{this.globalService.setSpin(!1),this.auditor=this.globalService.getUsuario().id,this.auditores=s,this.auditores.forEach(d=>{d.razao=(0,r.S4)(d.razao)})},s=>{this.globalService.setSpin(!1),this.auditor=0,this.appSnackBar.openWarningnackBar(`Tabela De Usu\xe1rios: ${(0,r.bZ)(s)}`,"OK")})}getAcoes(){return l.I}deleteFeriado(e){this.globalService.setSpin(!0),this.inscricaoFeriadoCrud=this.feriadoService.FeriadoDelete(e.id_empresa,e.id_usuario,e.id_tipo,e.data.replace(/\//g,"_")).subscribe(o=>{this.globalService.setSpin(!1),this.feriados=[],this.getFeriados()},o=>{this.globalService.setSpin(!1),this.appSnackBar.openWarningnackBar(`Falha Na Exclus\xe3o ${(0,r.bZ)(o)}`,"OK")})}escolha(e,t){void 0!==t&&this.getAcoes().Exclusao&&this.onDelete(t)}setAcao(e){switch(+e){case 99:this.acao="Gravar",this.labelCadastro="INCLUS\xc3O",this.readOnly=!1,this.posicaoIncluirAlterarPonte();break;case 98:this.acao="Atualizar",this.labelCadastro="ALTERA\xc7\xc3O",this.readOnly=!0,this.posicaoIncluirAlterarPonte();break;case 97:this.acao="Voltar",this.labelCadastro="CONSULTA",this.readOnly=!0,this.posicaoVisualizarExcluirFeriados();break;case 96:this.acao="Excluir",this.labelCadastro="EXCLUS\xc3O",this.readOnly=!0,this.posicaoVisualizarExcluirFeriados()}}getTexto(){return r.fd}onRetorno(){this.router.navigate(["/pontes/pontes"])}onHome(){this.router.navigate([""])}onPosicaoInicial(){this.onRetorno()}onGerarPontes(){this.gerador.valid?(this.data=this.gerador.value.data_ref,this.getFeriados()):(this.gerador.markAllAsTouched(),this.appSnackBar.openWarningnackBar("Formul\xe1rio Com Campos Inv\xe1lidos.","OK"))}onGravarPontes(){99==this.idAcao?(this.allPontes=[],this.displayPontes.forEach(e=>{if(!e.vazia&&e.checked&&"N"==e.ponte.flag_ponte){const t=new C.u;t.id_empresa=this.globalService.id_empresa,t.id_usuario=e.ponte.id,t.data=this.gerador.value.data_ref,t.descricao=this.gerador.value.descricao,t.id_nivel=0,t.id_tipo=2,t.user_insert=this.globalService.usuario.id,t.lancamento01=new q.o,t.lancamento01.inicial=`${(0,r.kT)(t.data)}T${this.globalService.getUsuario().man_hora_entrada.trim()} GMT-0300`,t.lancamento01.final=`${(0,r.kT)(t.data)}T${this.globalService.getUsuario().man_hora_saida.trim()} GMT-0300`,t.lancamento01.horasapon=-1*(0,r.KB)((0,r.Hh)(`${(0,r.kT)(t.data)}T${this.globalService.getUsuario().man_hora_entrada.trim()}`,`${(0,r.kT)(t.data)}T${this.globalService.getUsuario().man_hora_saida.trim()}`)),t.lancamento01.id_empresa=this.globalService.getIdEmpresa(),t.lancamento01.id=0,t.lancamento01.id_projeto=9e5,t.lancamento01.id_conta="90",t.lancamento01.id_subconta="900101",t.lancamento01.id_conta_versao="0101",t.lancamento01.id_subcliente=50,t.lancamento01.id_resp=13,t.lancamento01.id_exec=e.ponte.id,t.lancamento01.id_motivo="998002",t.lancamento01.produtivo="S",t.lancamento01.obs="GERADO AUTOMATICAMENTE",t.lancamento01.encerramento="N",t.lancamento01.user_insert=this.globalService.getUsuario().id,t.lancamento01.user_update=0,t.lancamento02=new q.o,t.lancamento02.inicial=`${(0,r.kT)(t.data)}T${this.globalService.getUsuario().tard_hora_entrada.trim()} GMT-0300`,t.lancamento02.final=`${(0,r.kT)(t.data)}T${this.globalService.getUsuario().tard_hora_saida.trim()} GMT-0300`,t.lancamento02.horasapon=-1*(0,r.KB)((0,r.Hh)(`${(0,r.kT)(t.data)}T${this.globalService.getUsuario().tard_hora_entrada.trim()}`,`${(0,r.kT)(t.data)}T${this.globalService.getUsuario().tard_hora_saida.trim()}`)),t.lancamento02.id_empresa=this.globalService.getIdEmpresa(),t.lancamento02.id=0,t.lancamento02.id_projeto=9e5,t.lancamento02.id_conta="90",t.lancamento02.id_subconta="900101",t.lancamento02.id_conta_versao="0101",t.lancamento02.id_subcliente=50,t.lancamento02.id_resp=13,t.lancamento02.id_exec=e.ponte.id,t.lancamento02.id_motivo="998002",t.lancamento02.produtivo="S",t.lancamento02.obs="GERADO AUTOMATICAMENTE",t.lancamento02.encerramento="N",t.lancamento02.user_insert=this.globalService.getUsuario().id,t.lancamento02.user_update=0,this.allPontes.push(t)}}),this.allPontes.length>0?this.savePontes():this.appSnackBar.openWarningnackBar("Nenhuma Ponte Para Incluir!","OK")):(this.allAlterPontes=[],this.displayPontes.forEach(e=>{if(!e.vazia&&e.checked){const t=new na,o=new C.u;t.acao=e.acao,e.acao==l.I.Inclusao&&(o.id_empresa=this.globalService.id_empresa,o.id_usuario=e.ponte.id,o.data=this.gerador.value.data_ref,o.descricao=this.gerador.value.descricao,o.id_nivel=0,o.id_tipo=2,o.user_insert=this.globalService.usuario.id,o.lancamento01=new q.o,o.lancamento01.inicial=`${(0,r.kT)(o.data)}T${this.globalService.getUsuario().man_hora_entrada.trim()} GMT-0300`,o.lancamento01.final=`${(0,r.kT)(o.data)}T${this.globalService.getUsuario().man_hora_saida.trim()} GMT-0300`,o.lancamento01.horasapon=-1*(0,r.KB)((0,r.Hh)(`${(0,r.kT)(o.data)}T${this.globalService.getUsuario().man_hora_entrada.trim()}`,`${(0,r.kT)(o.data)}T${this.globalService.getUsuario().man_hora_saida.trim()}`)),o.lancamento01.id_empresa=this.globalService.getIdEmpresa(),o.lancamento01.id=0,o.lancamento01.id_projeto=9e5,o.lancamento01.id_conta="90",o.lancamento01.id_subconta="900101",o.lancamento01.id_conta_versao="0101",o.lancamento01.id_subcliente=50,o.lancamento01.id_resp=13,o.lancamento01.id_exec=e.ponte.id,o.lancamento01.id_motivo="998002",o.lancamento01.produtivo="S",o.lancamento01.obs="GERADO AUTOMATICAMENTE",o.lancamento01.encerramento="N",o.lancamento01.user_insert=this.globalService.getUsuario().id,o.lancamento01.user_update=0,o.lancamento02=new q.o,o.lancamento02.inicial=`${(0,r.kT)(o.data)}T${this.globalService.getUsuario().tard_hora_entrada.trim()} GMT-0300`,o.lancamento02.final=`${(0,r.kT)(o.data)}T${this.globalService.getUsuario().tard_hora_saida.trim()} GMT-0300`,o.lancamento02.horasapon=-1*(0,r.KB)((0,r.Hh)(`${(0,r.kT)(o.data)}T${this.globalService.getUsuario().tard_hora_entrada.trim()}`,`${(0,r.kT)(o.data)}T${this.globalService.getUsuario().tard_hora_saida.trim()}`)),o.lancamento02.id_empresa=this.globalService.getIdEmpresa(),o.lancamento02.id=0,o.lancamento02.id_projeto=9e5,o.lancamento02.id_conta="90",o.lancamento02.id_subconta="900101",o.lancamento02.id_conta_versao="0101",o.lancamento02.id_subcliente=50,o.lancamento02.id_resp=13,o.lancamento02.id_exec=e.ponte.id,o.lancamento02.id_motivo="998002",o.lancamento02.produtivo="S",o.lancamento02.obs="GERADO AUTOMATICAMENTE",o.lancamento02.encerramento="N",o.lancamento02.user_insert=this.globalService.getUsuario().id,o.lancamento02.user_update=0,t.feriado=o),e.acao==l.I.Exclusao&&(o.id_empresa=this.globalService.id_empresa,o.id_usuario=e.ponte.id,o.data=this.gerador.value.data_ref,o.descricao=this.gerador.value.descricao,o.id_nivel=0,o.id_tipo=2,o.user_update=this.globalService.usuario.id,t.feriado=o),this.allAlterPontes.push(t)}}),this.allAlterPontes.length>0?this.alterPontes():this.appSnackBar.openWarningnackBar("Nada Para Ser Alterado","OK"))}savePontes(){var e=this;this.gravando=!0,this.globalService.setSpin(!0),this.inscricaoCrud=this.feriadoService.FeriadoAllPontes(this.allPontes).subscribe(function(){var t=(0,$.Z)(function*(o){e.globalService.setSpin(!1),e.setAcao(e.idAcao),e.allPontes=[],e.displayPontes=[],e.gravando=!1,e.setAcao(e.idAcao),e.onRetorno()});return function(o){return t.apply(this,arguments)}}(),t=>{this.gravando=!1,this.globalService.setSpin(!1),this.setAcao(this.idAcao),this.appSnackBar.openWarningnackBar(`Erro Na Inclus\xe3o De Pontes ${(0,r.bZ)(t)}`,"OK")})}alterPontes(){var e=this;this.globalService.setSpin(!0),this.gravando=!0,this.inscricaoCrud=this.feriadoService.FeriadoAlterPontes(this.allAlterPontes).subscribe(function(){var t=(0,$.Z)(function*(o){e.globalService.setSpin(!1),e.gravando=!1,e.setAcao(e.idAcao),e.appSnackBar.openSuccessSnackBar(`${(0,r.bZ)(o)}`,"OK"),e.allPontes=[],e.displayPontes=[],e.onRetorno()});return function(o){return t.apply(this,arguments)}}(),t=>{this.globalService.setSpin(!1),this.gravando=!1,this.setAcao(this.idAcao),this.appSnackBar.openWarningnackBar(`Erro Na Alteracao De Pontes ${(0,r.bZ)(t)}`,"OK")})}loadPontes(){}onCancelGeracao(){this.pontes=[],this.onPosicaoInicial()}getLabelCancel(){return this.idAcao==l.I.Consulta?"Voltar":"Cancelar"}NoValidtouchedOrDirtyGe(e){var t,o,s;return!((null===(t=this.gerador.get(e))||void 0===t?void 0:t.valid)||!(null===(o=this.gerador.get(e))||void 0===o?void 0:o.touched)&&!(null===(s=this.gerador.get(e))||void 0===s?void 0:s.dirty))}loadDisplayItens(e){this.displayPontes=[];const t=new Y;t.checked=!1,t.vazia=!0,t.ponte=new G,this.displayPontes.push(t),e.forEach(o=>{const s=new Y;s.checked=!1,s.vazia=!1,s.acao=l.I.None,s.ponte=o,this.displayPontes.push(s)})}setAllItens(e){this.displayPontes.forEach(t=>{t.checked=e,98==this.idAcao&&("S"==t.ponte.flag_ponte&&t.checked&&(t.acao=l.I.Exclusao),"N"==t.ponte.flag_ponte&&t.checked&&(t.acao=l.I.Inclusao),t.checked||(t.acao=l.I.None)),99==this.idAcao&&("S"==t.ponte.flag_ponte&&t.checked&&(t.acao=l.I.Exclusao),"N"==t.ponte.flag_ponte&&t.checked&&(t.acao=l.I.Inclusao),t.checked||(t.acao=l.I.None))})}setItens(e,t){let o=!0;t.checked=e,98==this.idAcao&&("S"==t.ponte.flag_ponte&&t.checked&&(t.acao=l.I.Exclusao),"N"==t.ponte.flag_ponte&&t.checked&&(t.acao=l.I.Inclusao),t.checked||(t.acao=l.I.None)),99==this.idAcao&&("S"==t.ponte.flag_ponte&&t.checked&&(t.acao=l.I.Exclusao),"N"==t.ponte.flag_ponte&&t.checked&&(t.acao=l.I.Inclusao),t.checked||(t.acao=l.I.None)),this.displayPontes.forEach(s=>{s.vazia||(o=!!s.checked&&o)}),this.displayPontes[0].checked=o}getVisiblesPontes(){return this.displayPontes.filter(e=>!e.vazia)}onDelete(e){const t=new O.Z;t.mensagem01="Confirma A Exclus\xe3o Da Ponte",t.mensagem02=`${e.data} ${e.descricao}`;const o=new m.vA;o.disableClose=!0,o.id="question-dialog",o.width="600px",o.data=t,this.questionDialog.open(y.h,o).beforeClosed().subscribe(d=>{"S"===d.resposta?this.deleteFeriado(e):this.onPosicaoInicial()})}hasAuditores(){let e=!1;return this.gravando?(this.acao="Processando!",!1):this.gerador.valid?!(!this.gerador.valid||98!=this.idAcao)||(0==this.displayPontes.length?e:!!this.displayPontes[0].checked||(this.displayPontes.forEach(t=>{e=!!t.checked||e}),e)):e}showAuditores(){return!(!this.gerador.valid||0!=this.displayPontes.length)}posicaoVisualizarExcluirFeriados(){this.getFeriados()}posicaoIncluirAlterarPonte(){98==this.idAcao?this.getFeriados():this.feriados=[]}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(u.qu),a.Y36(V.U),a.Y36(ca.J),a.Y36(F.v),a.Y36(J.W),a.Y36(p.gz),a.Y36(p.F0),a.Y36(m.uw))},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-ponte-view"]],decls:13,vars:3,consts:[[1,"div-barra"],[1,"example-spacer"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","P\xe1gina Inicial","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon","matTooltip","Retorno","matTooltipPosition","above",1,"example-icon",3,"click"],[4,"ngIf"],["class","box padding",4,"ngIf"],[1,"rodape"],["autocomplete","off",3,"formGroup"],[1,"box","padding"],[1,"alinha_centro"],[1,"col-med-3"],["appearance","outline",1,"col-max"],["matInput","","formControlName","data_ref","mask","00/00/0000","placeholder","dd/mm/aaaa",3,"readonly"],["appearance","outline",1,"column-span-2"],["matInput","","formControlName","descricao","oninput","this.value = this.value.toUpperCase()",3,"readonly"],[1,"button-container-right"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","accent",3,"disabled","click"],[1,"Browse_Lanc"],[1,"coluna-cabec-gerador"],[1,"acoes"],["color","accent",3,"checked","change"],[1,"Browse_Lanc_td"],[1,"pontes"],[4,"ngFor","ngForOf"],[1,"coluna-cabec"],[3,"BARRA_ATIVIDADES","EXCLUIR"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"mat-toolbar"),a.TgZ(2,"span",1),a._uU(3),a.qZA(),a.TgZ(4,"button",2),a.NdJ("click",function(){return t.onHome()}),a.TgZ(5,"mat-icon"),a._uU(6,"home"),a.qZA(),a.qZA(),a.TgZ(7,"button",3),a.NdJ("click",function(){return t.onRetorno()}),a.TgZ(8,"mat-icon"),a._uU(9,"arrow_back"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.YNc(10,Za,25,13,"div",4),a.YNc(11,Pa,12,2,"div",5),a._UZ(12,"div",6)),2&e&&(a.xp6(3),a.hij("Ponte: ",t.feriado.descricao,""),a.xp6(7),a.Q6J("ngIf",99==t.idAcao||98==t.idAcao),a.xp6(1),a.Q6J("ngIf",t.feriados.length>0&&(96==t.idAcao||97==t.idAcao)))},directives:[M.Ye,I.lW,R.gM,E.Hw,h.O5,u._Y,u.JL,u.sg,f.KE,f.hX,k.Nt,u.Fj,D.hx,u.JJ,u.u,f.TO,la.oG,h.sg,B.C],pipes:[da,ua.z],styles:["tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2aa}tr[_ngcontent-%COMP%]:hover{background-color:#caa99d}.acoes[_ngcontent-%COMP%]{color:#8b0000;width:100px}.pontes[_ngcontent-%COMP%]{width:30%}.rodape[_ngcontent-%COMP%]{width:100%;height:25px}.padding[_ngcontent-%COMP%]{padding:5px}.example-section[_ngcontent-%COMP%]{margin:12px 0}.example-margin[_ngcontent-%COMP%]{margin:0 12px}ul[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px}li[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2aa}li[_ngcontent-%COMP%]:hover{background-color:#caa99d}h1[_ngcontent-%COMP%]{text-align:center;font-family:Arial,Helvetica,sans-serif;font-size:x-large;color:#00f}.coluna-cabec-gerador[_ngcontent-%COMP%]{background-color:#acb0b8;text-align:left;height:max-content}"]}),i})()}];let Ca=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[[p.Bz.forChild(Sa)],p.Bz]}),i})();var xa=n(5426),Oa=n(4466);let qa=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[[h.ez,Ca,xa.q,u.u5,g.Cl,u.UX,Oa.m,D.yI.forChild()]]}),i})()},6468:(U,A,n)=>{n.d(A,{w:()=>h});class h{constructor(){this.id_empresa=0,this.id=0,this.ativo="",this.razao="",this.cnpj_cpf="",this.grupo=[],this.timer="",this.ticket="",this.flag_ponte="",this.data="",this.pagina=0,this.tamPagina=50,this.contador="N",this.orderby="",this.sharp=!1}}},8239:(U,A,n)=>{function h(g,m,Z,b,S,T,l){try{var _=g[T](l),r=_.value}catch(O){return void Z(O)}_.done?m(r):Promise.resolve(r).then(b,S)}function p(g){return function(){var m=this,Z=arguments;return new Promise(function(b,S){var T=g.apply(m,Z);function l(r){h(T,b,S,l,_,"next",r)}function _(r){h(T,b,S,l,_,"throw",r)}l(void 0)})}}n.d(A,{Z:()=>p})}}]);