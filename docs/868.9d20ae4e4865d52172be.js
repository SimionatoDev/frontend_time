"use strict";(self.webpackChunktimer=self.webpackChunktimer||[]).push([[868],{868:(A,h,i)=>{i.r(h),i.d(h,{HorasControlExecModule:()=>R});var m=i(8583),p=i(4655),c=i(9243),Z=i(3639);class T{constructor(){this.id_empresa=0,this.id_diretor=0,this.id_resp=0,this.id_exec=0,this.ano="",this.mes="",this.pagina=0,this.tamPagina=50,this.contador="N",this.orderby="",this.sharp=!1}}var v=i(6468),S=i(7265),b=i(7117),o=i(7716),l=i(3679),q=i(1209),C=i(7006),x=i(789),U=i(2522),O=i(1095),E=i(1436),H=i(6627),f=i(8295),L=i(7441),J=i(2458),M=i(980),y=i(1790);function F(a,s){if(1&a&&(o.TgZ(0,"mat-option",16),o._uU(1),o.qZA()),2&a){const t=s.$implicit;o.Q6J("value",t.id),o.xp6(1),o.hij(" ",t.razao," ")}}function N(a,s){if(1&a&&(o.TgZ(0,"mat-option",16),o._uU(1),o.qZA()),2&a){const t=s.$implicit;o.Q6J("value",t.id),o.xp6(1),o.hij(" ",t.razao," ")}}function z(a,s){if(1&a&&(o.TgZ(0,"mat-option",16),o._uU(1),o.qZA()),2&a){const t=s.$implicit;o.Q6J("value",t),o.xp6(1),o.hij(" ",t," ")}}function P(a,s){if(1&a&&(o.TgZ(0,"mat-option",16),o._uU(1),o.qZA()),2&a){const t=s.$implicit;o.Q6J("value",t.nro),o.xp6(1),o.hij(" ",t.nome," ")}}function B(a,s){if(1&a&&(o.TgZ(0,"tr"),o.TgZ(1,"td"),o.TgZ(2,"div"),o.TgZ(3,"mat-label",17),o._uU(4),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5,"td"),o.TgZ(6,"div"),o.TgZ(7,"mat-label",17),o._uU(8),o.ALo(9,"firstName"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"td"),o.TgZ(11,"div"),o.TgZ(12,"mat-label",17),o._uU(13),o.qZA(),o.qZA(),o.qZA(),o.TgZ(14,"td"),o.TgZ(15,"div"),o.TgZ(16,"mat-label",17),o._uU(17),o.qZA(),o.qZA(),o.qZA(),o.TgZ(18,"td"),o.TgZ(19,"div"),o.TgZ(20,"mat-label",17),o._uU(21),o.qZA(),o.qZA(),o.qZA(),o.TgZ(22,"td"),o.TgZ(23,"div"),o.TgZ(24,"mat-label",17),o._uU(25),o.qZA(),o.qZA(),o.qZA(),o.TgZ(26,"td"),o.TgZ(27,"div"),o.TgZ(28,"mat-label",17),o._uU(29),o.qZA(),o.qZA(),o.qZA(),o.TgZ(30,"td"),o.TgZ(31,"div"),o.TgZ(32,"mat-label",17),o._uU(33),o.ALo(34,"horaSexagenal"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&a){const t=s.$implicit;o.xp6(4),o.Oqu(t.id),o.xp6(4),o.Oqu(o.lcZ(9,8,t.razao)),o.xp6(5),o.Oqu(t.grupo),o.xp6(4),o.Oqu(t.ativo),o.xp6(4),o.Oqu(t.timer),o.xp6(4),o.Oqu(t.ticket),o.xp6(4),o.Oqu(t.data),o.xp6(4),o.Oqu(o.lcZ(34,10,t.horas_lancadas))}}const Y=[{path:"",redirectTo:"horas-lista-01",pathMatch:"full"},{path:"horas-lista-01",component:(()=>{class a{constructor(t,r,n,d,e){this.usuariosService=r,this.globalService=n,this.router=d,this.appSnackBar=e,this.coordenador=0,this.coordenadores=[],this.auditor=0,this.auditores=[],this.anos=[2022,2023,2024],this.meses=new S.Y,this.hoje=new Date,this.listUsuariosExec=[],this.parametro=t.group({coordenadores:[{value:""}],auditores:[{value:""}],ano:[{value:""}],mes:[{value:""}]}),this.getCoordenadores(),this.getAuditores(),this.setParametro()}ngOnInit(){}ngOnDestroy(){var t,r,n;null===(t=this.inscricaoAuditor)||void 0===t||t.unsubscribe(),null===(r=this.inscricaoCoordenador)||void 0===r||r.unsubscribe(),null===(n=this.inscricaoLista)||void 0===n||n.unsubscribe()}setParametro(){this.parametro.setValue({coordenadores:this.coordenador,auditores:this.auditor,ano:this.hoje.getFullYear(),mes:this.hoje.getMonth()})}getCoordenadores(){const t=new v.w;t.id_empresa=this.globalService.id_empresa;const r=this.usuariosService.getGruposDiretoria(),n=this.usuariosService.getGruposCoordenador(),d=this.usuariosService.getGruposAuditor();t.id_empresa=this.globalService.id_empresa,r.forEach(e=>{t.grupo.push(e)}),n.forEach(e=>{t.grupo.push(e)}),d.forEach(e=>{t.grupo.push(e)}),t.orderby="Raz\xe3o",this.usuariosService.isCoordenador(this.globalService.getUsuario().grupo)&&(t.id=this.globalService.getUsuario().id),this.inscricaoCoordenador=this.usuariosService.getusuarios_01(t).subscribe(e=>{this.globalService.setSpin(!1),this.coordenador=0;const u=new Z.j;0==t.id?(u.id=0,u.razao="TODOS",this.coordenadores.push(u),e.forEach(g=>{this.coordenadores.push(g)})):(this.coordenador=t.id,this.coordenadores=e),this.parametro.patchValue({coordenadores:this.coordenador})},e=>{this.globalService.setSpin(!1),this.coordenador=0,this.appSnackBar.openFailureSnackBar(`${e.error.tabela} - ${e.error.erro} - ${e.error.message}`,"OK")})}getAuditores(){const t=new v.w,r=this.usuariosService.getGruposDiretoria(),n=this.usuariosService.getGruposCoordenador(),d=this.usuariosService.getGruposAuditor();t.id_empresa=this.globalService.id_empresa,r.forEach(e=>{t.grupo.push(e)}),n.forEach(e=>{t.grupo.push(e)}),d.forEach(e=>{t.grupo.push(e)}),t.orderby="Raz\xe3o",this.globalService.setSpin(!0),this.inscricaoAuditor=this.usuariosService.getusuarios_01(t).subscribe(e=>{this.globalService.setSpin(!1),this.auditor=0;const u=new Z.j;u.id=0,u.razao="TODOS",this.auditores.push(u),e.forEach(g=>{this.auditores.push(g)}),this.parametro.patchValue({auditores:this.auditor})},e=>{this.globalService.setSpin(!1),this.auditor=0,this.appSnackBar.openFailureSnackBar(`${e.error.tabela} - ${e.error.erro} - ${e.error.message}`,"OK")})}onSubmit(){this.coordenador=this.parametro.value.coordenadores,this.auditor=this.parametro.value.auditores,this.getLista()}getLista(){const t=new T;t.id_empresa=this.globalService.id_empresa,t.id_exec=this.auditor,t.id_resp=this.coordenador,t.ano=this.parametro.value.ano,t.mes=this.adicionaZero(this.parametro.value.mes+1),this.globalService.setSpin(!0),this.inscricaoLista=this.usuariosService.UsarioHorasExec(t).subscribe(r=>{this.globalService.setSpin(!1),this.listUsuariosExec=r,console.log(r)},r=>{this.globalService.setSpin(!1),this.listUsuariosExec=[],this.appSnackBar.openFailureSnackBar(`${(0,b.bZ)(r)}`,"OK")})}onRetorno(){this.router.navigate(["/"])}adicionaZero(t){return t<=9?"0"+t:""+t}}return a.\u0275fac=function(t){return new(t||a)(o.Y36(l.qu),o.Y36(q.J),o.Y36(C.U),o.Y36(p.F0),o.Y36(x.W))},a.\u0275cmp=o.Xpm({type:a,selectors:[["app-horas-lista01"]],viewQuery:function(t,r){if(1&t&&o.Gf(c.N7,5),2&t){let n;o.iGM(n=o.CRH())&&(r.viewPort=n.first)}},decls:53,vars:7,consts:[[1,"div-barra"],[1,"example-spacer"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","Atualizar","matTooltipPosition","above",1,"button",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon",1,"example-icon",3,"click"],["autocomplete","off",3,"formGroup"],[1,"col-med-5"],["field","","appearance","outline",1,"col-max"],["formControlName","coordenadores"],[3,"value",4,"ngFor","ngForOf"],["formControlName","auditores"],["formControlName","ano"],["formControlName","mes"],[1,"content",3,"itemSize"],[1,"Browse-Scroll"],[1,"coluna-cabec"],[4,"cdkVirtualFor","cdkVirtualForOf"],[3,"value"],[1,"Browse_Lanc_td"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"mat-toolbar"),o.TgZ(2,"span",1),o._uU(3,"EXECUTORES X HORAS LAN\xc7ADAS"),o.qZA(),o.TgZ(4,"button",2),o.NdJ("click",function(){return r.onSubmit()}),o.TgZ(5,"mat-icon"),o._uU(6,"rotate_right"),o.qZA(),o.qZA(),o.TgZ(7,"button",3),o.NdJ("click",function(){return r.onRetorno()}),o.TgZ(8,"mat-icon"),o._uU(9,"arrow_back"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"div"),o.TgZ(11,"form",4),o.TgZ(12,"div",5),o.TgZ(13,"mat-form-field",6),o.TgZ(14,"mat-label"),o._uU(15,"Coordenadores"),o.qZA(),o.TgZ(16,"mat-select",7),o.YNc(17,F,2,2,"mat-option",8),o.qZA(),o.qZA(),o.TgZ(18,"mat-form-field",6),o.TgZ(19,"mat-label"),o._uU(20,"Auditores"),o.qZA(),o.TgZ(21,"mat-select",9),o.YNc(22,N,2,2,"mat-option",8),o.qZA(),o.qZA(),o.TgZ(23,"mat-form-field",6),o.TgZ(24,"mat-label"),o._uU(25,"Ano"),o.qZA(),o.TgZ(26,"mat-select",10),o.YNc(27,z,2,2,"mat-option",8),o.qZA(),o.qZA(),o.TgZ(28,"mat-form-field",6),o.TgZ(29,"mat-label"),o._uU(30,"M\xeas"),o.qZA(),o.TgZ(31,"mat-select",11),o.YNc(32,P,2,2,"mat-option",8),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(33,"cdk-virtual-scroll-viewport",12),o.TgZ(34,"table",13),o.TgZ(35,"tr",14),o.TgZ(36,"th"),o._uU(37,"C\xf3digo"),o.qZA(),o.TgZ(38,"th"),o._uU(39,"Executor"),o.qZA(),o.TgZ(40,"th"),o._uU(41,"Grupo"),o.qZA(),o.TgZ(42,"th"),o._uU(43,"Ativo"),o.qZA(),o.TgZ(44,"th"),o._uU(45,"Time"),o.qZA(),o.TgZ(46,"th"),o._uU(47,"Ticket"),o.qZA(),o.TgZ(48,"th"),o._uU(49,"Data"),o.qZA(),o.TgZ(50,"th"),o._uU(51,"Horas"),o.qZA(),o.qZA(),o.YNc(52,B,35,12,"tr",15),o.qZA(),o.qZA()),2&t&&(o.xp6(11),o.Q6J("formGroup",r.parametro),o.xp6(6),o.Q6J("ngForOf",r.coordenadores),o.xp6(5),o.Q6J("ngForOf",r.auditores),o.xp6(5),o.Q6J("ngForOf",r.anos),o.xp6(5),o.Q6J("ngForOf",r.meses.meses),o.xp6(1),o.Q6J("itemSize",50),o.xp6(19),o.Q6J("cdkVirtualForOf",r.listUsuariosExec))},directives:[U.Ye,O.lW,E.gM,H.Hw,l._Y,l.JL,l.sg,f.KE,f.hX,L.gD,l.JJ,l.u,m.sg,c.N7,c.xd,c.x0,J.ey],pipes:[M.z,y.X],styles:['.content[_ngcontent-%COMP%]{height:60%;overflow:auto}.Browse-Scroll[_ngcontent-%COMP%]{border-collapse:collapse;margin-left:auto;margin-right:auto;width:100%;height:inherit}td[_ngcontent-%COMP%]{font-size:small;color:#00f;font-family:"Times New Roman",Times,serif}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2aa}tr[_ngcontent-%COMP%]:hover{background-color:#caa99d}.acoes[_ngcontent-%COMP%]{color:#8b0000;width:100px}.go-up[_ngcontent-%COMP%]{margin-top:-10px}']}),a})()}];let Q=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.oAB({type:a}),a.\u0275inj=o.cJS({imports:[[p.Bz.forChild(Y)],p.Bz]}),a})();var j=i(4466),$=i(2559),G=i(5426);let R=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.oAB({type:a}),a.\u0275inj=o.cJS({imports:[[m.ez,Q,G.q,c.Cl,l.u5,l.UX,j.m,$.yI.forChild()]]}),a})()},6468:(A,h,i)=>{i.d(h,{w:()=>m});class m{constructor(){this.id_empresa=0,this.id=0,this.ativo="",this.razao="",this.cnpj_cpf="",this.grupo=[],this.timer="",this.ticket="",this.flag_ponte="",this.data="",this.pagina=0,this.tamPagina=50,this.contador="N",this.orderby="",this.sharp=!1}}}}]);