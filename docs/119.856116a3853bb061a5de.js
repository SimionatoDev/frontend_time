"use strict";(self.webpackChunktimer=self.webpackChunktimer||[]).push([[119],{2119:(V,S,s)=>{s.r(S),s.d(S,{UsuarioModule:()=>za});var a=s(7716);let I=(()=>{class e{canActivate(t,o){return console.log("route - ACAO",t.params.acao),!0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var g=s(8583),_=s(8239),d=s(7438),l=s(3679),n=s(3032),p=s(9267),A=s(2546),b=s(2401),Z=s(3e3),q=s(1209),Q=s(9189),k=s(7006),H=s(103),v=s(4655),y=s(789),j=s(3073),Y=s(2522),x=s(8295),F=s(1095),G=s(6627),N=s(5939),z=s(9983),M=s(2559),B=s(7441),D=s(2458);function K(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"button",39),a.NdJ("click",function(){return a.CHM(t),a.oxw().onSubmit()}),a.TgZ(1,"mat-icon"),a._uU(2,"check"),a.qZA(),a._uU(3),a.qZA()}if(2&e){const t=a.oxw();a.xp6(3),a.hij(" ",t.acao," ")}}function X(e,i){1&e&&(a.TgZ(0,"mat-icon",40),a._uU(1,"border_color"),a.qZA(),a._uU(2," Auditoria "))}function W(e,i){if(1&e&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&e){const t=a.oxw();let o;a.xp6(1),a.hij(" ",null==(o=t.formulario.get("razao"))||null==o.errors?null:o.errors.message,"")}}function aa(e,i){if(1&e&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&e){const t=a.oxw();let o;a.xp6(1),a.hij(" ",null==(o=t.formulario.get("cadastr"))||null==o.errors?null:o.errors.message,"")}}function oa(e,i){1&e&&(a.TgZ(0,"mat-error"),a._uU(1,"Fantasia m\xe1ximo 25 letras "),a.qZA())}function ta(e,i){if(1&e&&(a.TgZ(0,"mat-option",44),a._uU(1),a.qZA()),2&e){const t=i.$implicit;a.Q6J("value",t.id),a.xp6(1),a.hij(" ",t.grupo," ")}}function ea(e,i){if(1&e&&(a.TgZ(0,"mat-form-field",41),a.TgZ(1,"mat-label"),a._uU(2,"Grupo Do Usu\xe1rio"),a.qZA(),a.TgZ(3,"mat-select",42),a.YNc(4,ta,2,2,"mat-option",43),a.qZA(),a.qZA()),2&e){const t=a.oxw();a.xp6(4),a.Q6J("ngForOf",t.grupos)}}function ra(e,i){if(1&e&&(a.TgZ(0,"mat-form-field",41),a.TgZ(1,"mat-label"),a._uU(2,"Grupo"),a.qZA(),a._UZ(3,"input",45),a.qZA()),2&e){const t=a.oxw();a.xp6(3),a.Q6J("readonly",t.readOnly)}}function ia(e,i){if(1&e&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&e){const t=a.oxw();let o;a.xp6(1),a.hij(" ",null==(o=t.formulario.get("cnpj_cpf"))||null==o.errors?null:o.errors.message,"")}}function sa(e,i){if(1&e&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&e){const t=a.oxw();let o;a.xp6(1),a.hij(" ",null==(o=t.formulario.get("rua"))||null==o.errors?null:o.errors.message,"")}}function na(e,i){if(1&e&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&e){const t=a.oxw();let o;a.xp6(1),a.hij(" ",null==(o=t.formulario.get("nro"))||null==o.errors?null:o.errors.message,"")}}function ua(e,i){if(1&e&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&e){const t=a.oxw();let o;a.xp6(1),a.hij(" ",null==(o=t.formulario.get("complemento"))||null==o.errors?null:o.errors.message,"")}}function la(e,i){if(1&e&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&e){const t=a.oxw();let o;a.xp6(1),a.hij(" ",null==(o=t.formulario.get("bairro"))||null==o.errors?null:o.errors.message,"")}}function ma(e,i){if(1&e&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&e){const t=a.oxw();let o;a.xp6(1),a.hij(" ",null==(o=t.formulario.get("cidade"))||null==o.errors?null:o.errors.message,"")}}function ca(e,i){if(1&e&&(a.TgZ(0,"mat-option",44),a._uU(1),a.qZA()),2&e){const t=i.$implicit;a.Q6J("value",t.sigla),a.xp6(1),a.AsE(" ",t.sigla,"-",t.nome," ")}}function pa(e,i){if(1&e&&(a.TgZ(0,"mat-form-field",46),a.TgZ(1,"mat-label"),a._uU(2,"Estado:"),a.qZA(),a.TgZ(3,"mat-select",47),a.YNc(4,ca,2,3,"mat-option",43),a.qZA(),a.qZA()),2&e){const t=a.oxw();a.xp6(4),a.Q6J("ngForOf",t.ufs)}}function da(e,i){if(1&e&&(a.TgZ(0,"mat-form-field",46),a.TgZ(1,"mat-label"),a._uU(2,"Estado:"),a.qZA(),a._UZ(3,"input",48),a.qZA()),2&e){const t=a.oxw();a.xp6(3),a.Q6J("readonly",t.readOnly)}}function ha(e,i){if(1&e&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&e){const t=a.oxw();let o;a.xp6(1),a.hij(" ",null==(o=t.formulario.get("cep"))||null==o.errors?null:o.errors.message,"")}}function ga(e,i){1&e&&(a.TgZ(0,"mat-error"),a._uU(1,"E-Mail Inv\xe1lido! "),a.qZA())}function fa(e,i){if(1&e&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&e){const t=a.oxw();a.xp6(1),a.Oqu(t.getMensafield("tel1"))}}function _a(e,i){if(1&e&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&e){const t=a.oxw();a.xp6(1),a.Oqu(t.getMensafield("tel2"))}}function Za(e,i){1&e&&(a.TgZ(0,"mat-icon",49),a._uU(1," attach_money"),a.qZA(),a._uU(2," Administrativo "))}function va(e,i){if(1&e&&(a.TgZ(0,"mat-option",44),a._uU(1),a.qZA()),2&e){const t=i.$implicit;a.Q6J("value",t.sigla),a.xp6(1),a.hij(" ",t.descricao," ")}}function Aa(e,i){if(1&e&&(a.TgZ(0,"mat-form-field",50),a.TgZ(1,"mat-label"),a._uU(2,"Apontamentos Hora"),a.qZA(),a.TgZ(3,"mat-select",51),a.YNc(4,va,2,2,"mat-option",43),a.qZA(),a.qZA()),2&e){const t=a.oxw();a.xp6(4),a.Q6J("ngForOf",t.respostas)}}function ba(e,i){if(1&e&&(a.TgZ(0,"mat-form-field",50),a.TgZ(1,"mat-label"),a._uU(2,"Apontamentos Hora"),a.qZA(),a._UZ(3,"input",52),a.qZA()),2&e){const t=a.oxw();a.xp6(3),a.Q6J("readonly",t.readOnly)}}function Ca(e,i){if(1&e&&(a.TgZ(0,"mat-option",44),a._uU(1),a.qZA()),2&e){const t=i.$implicit;a.Q6J("value",t.sigla),a.xp6(1),a.hij(" ",t.descricao," ")}}function Ta(e,i){if(1&e&&(a.TgZ(0,"mat-form-field",50),a.TgZ(1,"mat-label"),a._uU(2,"Ticket"),a.qZA(),a.TgZ(3,"mat-select",53),a.YNc(4,Ca,2,2,"mat-option",43),a.qZA(),a.qZA()),2&e){const t=a.oxw();a.xp6(4),a.Q6J("ngForOf",t.respostas)}}function Ua(e,i){if(1&e&&(a.TgZ(0,"mat-form-field",50),a.TgZ(1,"mat-label"),a._uU(2,"Ticket"),a.qZA(),a._UZ(3,"input",54),a.qZA()),2&e){const t=a.oxw();a.xp6(3),a.Q6J("readonly",t.readOnly)}}let Sa=(()=>{class e{constructor(t,o,r,u,m,h,C,T,U){this.formBuilder=t,this.usuariosService=o,this.grupoUserService=r,this.globalService=u,this.estadosSrv=m,this.route=h,this.router=C,this.appSnackBar=T,this.simNaoPipe=U,this.usuario=new d.g,this.grupos=[],this.acao="Sem Defini\xe7\xe3o",this.idAcao=n.I.Inclusao,this.readOnly=!0,this.durationInSeconds=2,this.labelCadastro="",this.ufs=[],this.respostas=[{sigla:"S",descricao:"SIM"},{sigla:"N",descricao:"N\xc3O"}],this.formulario=t.group({id:[{value:"",disabled:!0}],ativo:[{value:"",disabled:!0}],razao:[{value:""},[(0,p.S)(3,40,!0)]],cadastr:[{value:""},[(0,b.K)(!0)]],cnpj_cpf:[{value:""},[(0,Z.x)(!1)]],senha:[{value:""},[l.kI.required,l.kI.minLength(3),l.kI.maxLength(25)]],grupo:[{value:""}],grupo_:[{value:""}],rua:[{value:""},[(0,p.S)(3,80,!1)]],nro:[{value:""},[(0,p.S)(1,10,!1)]],complemento:[{value:""},[(0,p.S)(0,30)]],bairro:[{value:""},[(0,p.S)(3,40,!1)]],cidade:[{value:""},[(0,p.S)(3,40,!1)]],uf:[{value:""},[(0,p.S)(2,2,!1)]],uf_:[{value:""}],cep:[{value:""},[(0,A.l)(!1)]],tel1:[{value:""},[(0,p.S)(0,23,!1)]],tel2:[{value:""},[(0,p.S)(0,23)]],email:[{value:""},[l.kI.required,l.kI.email]],id_x:[{value:"",disabled:!0}],ativo_x:[{value:"",disabled:!0}],razao_x:[{value:"",disabled:!0}],cadastr_x:[{value:"",disabled:!0}],timer:[{value:""}],timer_:[{value:""}],ticket:[{value:""}],ticket_:[{value:""}],man_hora_entrada:[{value:""}],man_hora_saida:[{value:""}],tard_hora_entrada:[{value:""}],tard_hora_saida:[{value:""}]}),this.usuario=new d.g,this.grupos=[],this.inscricaoRota=h.params.subscribe(f=>{this.usuario.id_empresa=f.id_empresa,this.usuario.id=f.id,this.usuario.senha="",this.usuario.grupo=1,this.idAcao=f.acao,this.setAcao(f.acao)})}ngOnInit(){this.idAcao==n.I.Inclusao?(this.usuario=new d.g,this.usuario.id_empresa=1,this.usuario.grupo=1,this.setValue()):this.getUsuario(),this.getUfs(),this.getGrupos()}ngOnDestroy(){var t,o,r,u,m;null===(t=this.incricaoGetUsuario)||void 0===t||t.unsubscribe(),null===(o=this.inscricaoGetGrupo)||void 0===o||o.unsubscribe(),null===(r=this.inscricaoRota)||void 0===r||r.unsubscribe(),null===(u=this.inscricaoAcao)||void 0===u||u.unsubscribe(),null===(m=this.inscricaoUf)||void 0===m||m.unsubscribe()}onSubmit(){this.formulario.valid?this.executaAcao():this.appSnackBar.openSuccessSnackBar("Formul\xe1rio Com Campos Inv\xe1lidos.","OK")}onRetorno(){const t=this.globalService.estadoFind("usuario");if(null!=t){let o=t.getParametro();Object(o).new=this.idAcao==n.I.Inclusao,Object(o).id_retorno=this.usuario.id,t.parametro=JSON.stringify(o),this.globalService.estadoSave(t)}this.router.navigate(["/usuarios/usuarios","SIM"])}onCancel(){if(this.idAcao==n.I.Atualizacao)this.router.navigate(["/"]);else{const t=this.globalService.estadoFind("usuario");if(null!=t){let o=t.getParametro();Object(o).new=!1,Object(o).id_retorno=this.idAcao==n.I.Consulta?this.usuario.id:0,t.parametro=JSON.stringify(o),this.globalService.estadoSave(t)}this.router.navigate(["/usuarios/usuarios","SIM"])}}getUfs(){this.inscricaoUf=this.estadosSrv.getEstados().subscribe(t=>{this.ufs=t},t=>{this.appSnackBar.openFailureSnackBar(`Pesquisa Cadastrado De Estados ${t.error.tabela} - ${t.error.erro} - ${t.error.message}`,"OK")})}getUsuario(){this.incricaoGetUsuario=this.usuariosService.getUsuario(this.usuario.id_empresa,this.usuario.id).subscribe(t=>{console.log(t),this.usuario=t,this.setValue()},t=>{this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Usu\xe1rios ${t.error.tabela} - ${t.error.erro} - ${t.error.message}`,"OK")})}setReadOnly(t){}getGrupos(){this.idAcao==n.I.Consulta||this.idAcao==n.I.Exclusao||(this.inscricaoGetGrupo=this.grupoUserService.getGrupoUsers().subscribe(t=>{this.grupos=t},t=>{this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Grupos ${t.error.tabela} - ${t.error.erro} - ${t.error.message}`,"OK")}))}setValue(){this.formulario.setValue({id:this.usuario.id,ativo:this.simNaoPipe.transform(this.usuario.ativo),razao:this.usuario.razao,cadastr:this.usuario.cadastr,senha:this.usuario.senha,grupo:this.usuario.grupo,grupo_:this.idAcao==n.I.Consulta||this.idAcao==n.I.Exclusao?this.usuario.gru_descricao:"",cnpj_cpf:this.usuario.cnpj_cpf,rua:this.usuario.rua,nro:this.usuario.nro,complemento:this.usuario.complemento,bairro:this.usuario.bairro,cidade:this.usuario.cidade,uf:this.usuario.uf,uf_:this.idAcao==n.I.Consulta||this.idAcao==n.I.Exclusao?this.usuario.uf:"",cep:this.usuario.cep,tel1:this.usuario.tel1,tel2:this.usuario.tel2,email:this.usuario.email,id_x:this.usuario.id,ativo_x:this.simNaoPipe.transform(this.usuario.ativo),razao_x:this.usuario.razao,cadastr_x:this.usuario.cadastr,timer:this.usuario.timer,timer_:this.idAcao==n.I.Consulta||this.idAcao==n.I.Exclusao||this.idAcao==n.I.Edicao?this.respostas[this.respostas.findIndex(t=>t.sigla==this.usuario.timer)].descricao:"",ticket:this.usuario.ticket,ticket_:this.idAcao==n.I.Consulta||this.idAcao==n.I.Exclusao||this.idAcao==n.I.Edicao?this.respostas[this.respostas.findIndex(t=>t.sigla==this.usuario.ticket)].descricao:"",man_hora_entrada:this.usuario.man_hora_entrada,man_hora_saida:this.usuario.man_hora_saida,tard_hora_entrada:this.usuario.tard_hora_entrada,tard_hora_saida:this.usuario.tard_hora_saida})}getLabelCancel(){return this.idAcao==n.I.Consulta?"Voltar":"Cancelar"}setAcao(t){switch(+t){case n.I.Inclusao:this.acao="Gravar",this.labelCadastro="Usu\xe1rios - Inclus\xe3o.",this.readOnly=!1;break;case n.I.Edicao:this.acao="Gravar",this.labelCadastro="Usu\xe1rios - Altera\xe7\xe3o.",this.readOnly=!1;break;case n.I.Consulta:this.acao="Voltar",this.labelCadastro="Usu\xe1rios - Consulta.",this.readOnly=!0;break;case n.I.Exclusao:this.acao="Excluir",this.labelCadastro="Usu\xe1rios - Exclus\xe3o.",this.readOnly=!0;break;case n.I.Atualizacao:this.acao="Gravar",this.labelCadastro="Usu\xe1rios - Atualiza\xe7\xe3o",this.readOnly=!1}}executaAcao(){var t=this;switch(this.usuario.razao=this.formulario.value.razao,this.usuario.cnpj_cpf=this.formulario.value.cnpj_cpf,this.usuario.cadastr=this.formulario.value.cadastr,this.usuario.rua=this.formulario.value.rua,this.usuario.nro=this.formulario.value.nro,this.usuario.complemento=this.formulario.value.complemento,this.usuario.bairro=this.formulario.value.bairro,this.usuario.cidade=this.formulario.value.cidade,this.usuario.uf=this.formulario.value.uf,this.usuario.cep=this.formulario.value.cep,this.usuario.tel1=this.formulario.value.tel1,this.usuario.tel2=this.formulario.value.tel2,this.usuario.email=this.formulario.value.email,this.usuario.senha=this.formulario.value.senha,this.usuario.pasta=this.formulario.value.pasta,this.usuario.grupo=this.formulario.value.grupo,this.usuario.timer=this.formulario.value.timer,this.usuario.ticket=this.formulario.value.ticket,this.usuario.man_hora_entrada=this.formulario.value.man_hora_entrada,this.usuario.man_hora_saida=this.formulario.value.man_hora_saida,this.usuario.tard_hora_entrada=this.formulario.value.tard_hora_entrada,this.usuario.tard_hora_saida=this.formulario.value.tard_hora_saida,+this.idAcao){case n.I.Inclusao:this.usuario.user_insert=this.globalService.getUsuario().id,console.log("usuario =>",this.usuario),this.inscricaoAcao=this.usuariosService.UsuarioInsert(this.usuario).subscribe(function(){var o=(0,_.Z)(function*(r){t.onCancel()});return function(r){return o.apply(this,arguments)}}(),o=>{this.appSnackBar.openFailureSnackBar(`Erro Na INclus\xe3o ${o.error.tabela} - ${o.error.erro} - ${o.error.message}`,"OK")});break;case n.I.Edicao:this.usuario.user_update=this.globalService.getUsuario().id,this.inscricaoAcao=this.usuariosService.UsuarioUpdate(this.usuario).subscribe(function(){var o=(0,_.Z)(function*(r){t.usuario.id==t.globalService.getUsuario().id?(t.globalService.setUsuario(new d.g),t.globalService.setLogado(!1)):t.onCancel()});return function(r){return o.apply(this,arguments)}}(),o=>{this.appSnackBar.openFailureSnackBar(`Erro Na Altera\xe7\xe3o ${o.error.tabela} - ${o.error.erro} - ${o.error.message}`,"OK")});break;case n.I.Atualizacao:this.inscricaoAcao=this.usuariosService.UsuarioUpdate(this.usuario).subscribe(function(){var o=(0,_.Z)(function*(r){t.globalService.setUsuario(new d.g),t.globalService.setLogado(!1)});return function(r){return o.apply(this,arguments)}}(),o=>{console.log("Error",o.error),this.appSnackBar.openFailureSnackBar(`Erro Na Altera\xe7\xe3o ${o.error.tabela} - ${o.error.erro} - ${o.error.message}`,"OK")});break;case n.I.Exclusao:this.inscricaoAcao=this.usuariosService.UsuarioDelete(this.usuario.id_empresa,this.usuario.id).subscribe(function(){var o=(0,_.Z)(function*(r){t.onCancel()});return function(r){return o.apply(this,arguments)}}(),o=>{this.appSnackBar.openFailureSnackBar(`Erro Na Exclusao ${o.error.tabela} - ${o.error.erro} - ${o.error.message}`,"OK")})}}delay(t){return new Promise(o=>setTimeout(o,t))}getAcoes(){return n.I}touchedOrDirty(t){var o,r;return!(!(null===(o=this.formulario.get(t))||void 0===o?void 0:o.touched)&&!(null===(r=this.formulario.get(t))||void 0===r?void 0:r.dirty))}getValidfield(t){var o,r;return(null===(r=null===(o=this.formulario.get(t))||void 0===o?void 0:o.errors)||void 0===r?void 0:r.ValidatorStringLen)&&this.touchedOrDirty(t)}getMensafield(t){var o,r;return null===(r=null===(o=this.formulario.get(t))||void 0===o?void 0:o.errors)||void 0===r?void 0:r.message}setEmailReadOnly(){return 5==this.idAcao||this.readOnly}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(l.qu),a.Y36(q.J),a.Y36(Q.c),a.Y36(k.U),a.Y36(H.V),a.Y36(v.gz),a.Y36(v.F0),a.Y36(y.W),a.Y36(j.r))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-usuario-view"]],decls:141,vars:45,consts:[[1,"example-spacer"],[1,"button-container-right"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],["autocomplete","off",3,"formGroup"],["mat-tab-label",""],[1,"moldura"],[1,"col-med-4"],["appearance","outline",1,"col-max"],["matInput","","formControlName","id"],["matInput","","formControlName","ativo"],["matInput","","formControlName","razao","oninput","this.value = this.value.toUpperCase()","autofocus","",3,"readonly"],[4,"ngIf"],["matInput","","formControlName","cadastr","mask","00/00/0000","placeholder","DD/MM/AAAA","readonly","true"],["type","password","matInput","","formControlName","senha",3,"readonly"],["field","","appearance","outline","class","col-max column-span-2",4,"ngIf"],["matInput","","formControlName","cnpj_cpf","mask","00.000.000/0000-00||000.000.000-00",3,"dropSpecialCharacters","readonly"],[1,"col-med-3"],["appearance","outline",1,"col-max","column-span-2"],["matInput","","formControlName","rua","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","nro","oninput","this.value = this.value.toUpperCase()",3,"readonly"],[1,"col-med-1"],["matInput","","formControlName","complemento","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","bairro","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","cidade","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["field","","appearance","outline","class","col-max",4,"ngIf"],["matInput","","formControlName","cep","mask","99999-999",3,"dropSpecialCharacters","readonly"],["matInput","","formControlName","email",3,"readonly"],["matInput","","formControlName","tel1","mask","(00) 0 0000-0000||(00) 0000-0000",3,"dropSpecialCharacters","readonly"],["matInput","","formControlName","tel2","mask","(00) 0 0000-0000||(00) 0000-0000",3,"dropSpecialCharacters","readonly"],["matInput","","formControlName","id_x"],["matInput","","formControlName","razao_x"],["matInput","","formControlName","cadastr_x"],[1,"col-med-2"],["field","","appearance","outline","class","col-max col-max",4,"ngIf"],["matInput","","formControlName","man_hora_entrada","placeholder","HH:MM","mask","00:00",3,"readonly"],["matInput","","formControlName","man_hora_saida","placeholder","HH:MM","mask","00:00",3,"readonly"],["matInput","","formControlName","tard_hora_entrada","placeholder","HH:MM","mask","00:00",3,"readonly"],["matInput","","formControlName","tard_hora_saida","placeholder","HH:MM","mask","00:00",3,"readonly"],["mat-raised-button","","color","primary",3,"click"],[1,"example-tab-icon","red-icon"],["field","","appearance","outline",1,"col-max","column-span-2"],["formControlName","grupo"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","","formControlName","grupo_",3,"readonly"],["field","","appearance","outline",1,"col-max"],["formControlName","uf"],["matInput","","formControlName","uf_",3,"readonly"],[1,"example-tab-icon","blue-icon"],["field","","appearance","outline",1,"col-max","col-max"],["formControlName","timer"],["matInput","","formControlName","timer_",3,"readonly"],["formControlName","ticket"],["matInput","","formControlName","ticket_",3,"readonly"]],template:function(t,o){if(1&t&&(a.TgZ(0,"p"),a.TgZ(1,"mat-toolbar"),a.TgZ(2,"span",0),a.TgZ(3,"mat-label"),a._uU(4),a.qZA(),a.qZA(),a.TgZ(5,"div",1),a.YNc(6,K,4,1,"button",2),a.TgZ(7,"button",3),a.NdJ("click",function(){return o.onCancel()}),a.TgZ(8,"mat-icon"),a._uU(9,"cancel"),a.qZA(),a._uU(10),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(11,"form",4),a.TgZ(12,"mat-tab-group"),a.TgZ(13,"mat-tab"),a.YNc(14,X,3,0,"ng-template",5),a.TgZ(15,"div",6),a.TgZ(16,"div",7),a.TgZ(17,"mat-form-field",8),a.TgZ(18,"mat-label"),a._uU(19,"C\xd3DIGO"),a.qZA(),a._UZ(20,"input",9),a.qZA(),a.TgZ(21,"mat-form-field",8),a.TgZ(22,"mat-label"),a._uU(23,"Ativo"),a.qZA(),a._UZ(24,"input",10),a.qZA(),a.TgZ(25,"mat-form-field",8),a.TgZ(26,"mat-label"),a._uU(27,"Raz\xe3o Social"),a.qZA(),a._UZ(28,"input",11),a.YNc(29,W,2,1,"mat-error",12),a.qZA(),a.TgZ(30,"mat-form-field",8),a.TgZ(31,"mat-label"),a._uU(32,"Cadastro"),a.qZA(),a._UZ(33,"input",13),a.YNc(34,aa,2,1,"mat-error",12),a.qZA(),a.qZA(),a.TgZ(35,"div",7),a.TgZ(36,"mat-form-field",8),a.TgZ(37,"mat-label"),a._uU(38,"Senha"),a.qZA(),a._UZ(39,"input",14),a.YNc(40,oa,2,0,"mat-error",12),a.qZA(),a.YNc(41,ea,5,1,"mat-form-field",15),a.YNc(42,ra,4,1,"mat-form-field",15),a.TgZ(43,"mat-form-field",8),a.TgZ(44,"mat-label"),a._uU(45,"CNPJ/CPF"),a.qZA(),a._UZ(46,"input",16),a.YNc(47,ia,2,1,"mat-error",12),a.qZA(),a.qZA(),a.TgZ(48,"div",17),a.TgZ(49,"mat-form-field",18),a.TgZ(50,"mat-label"),a._uU(51,"Endere\xe7o:"),a.qZA(),a._UZ(52,"input",19),a.YNc(53,sa,2,1,"mat-error",12),a.qZA(),a.TgZ(54,"mat-form-field",8),a.TgZ(55,"mat-label"),a._uU(56,"N\xfamero"),a.qZA(),a._UZ(57,"input",20),a.YNc(58,na,2,1,"mat-error",12),a.qZA(),a.qZA(),a.TgZ(59,"div",21),a.TgZ(60,"mat-form-field",8),a.TgZ(61,"mat-label"),a._uU(62,"Complemento:"),a.qZA(),a._UZ(63,"input",22),a.YNc(64,ua,2,1,"mat-error",12),a.qZA(),a.qZA(),a.TgZ(65,"div",17),a.TgZ(66,"mat-form-field",8),a.TgZ(67,"mat-label"),a._uU(68,"Bairro:"),a.qZA(),a._UZ(69,"input",23),a.YNc(70,la,2,1,"mat-error",12),a.qZA(),a.TgZ(71,"mat-form-field",8),a.TgZ(72,"mat-label"),a._uU(73,"Cidade:"),a.qZA(),a._UZ(74,"input",24),a.YNc(75,ma,2,1,"mat-error",12),a.qZA(),a.YNc(76,pa,5,1,"mat-form-field",25),a.YNc(77,da,4,1,"mat-form-field",25),a.TgZ(78,"mat-form-field",8),a.TgZ(79,"mat-label"),a._uU(80,"CEP:"),a.qZA(),a._UZ(81,"input",26),a.YNc(82,ha,2,1,"mat-error",12),a.qZA(),a.qZA(),a.TgZ(83,"div",17),a.TgZ(84,"mat-form-field",8),a.TgZ(85,"mat-label"),a._uU(86,"E-Mail:"),a.qZA(),a._UZ(87,"input",27),a.YNc(88,ga,2,0,"mat-error",12),a.qZA(),a.TgZ(89,"mat-form-field",8),a.TgZ(90,"mat-label"),a._uU(91,"Telefone 1:"),a.qZA(),a._UZ(92,"input",28),a.YNc(93,fa,2,1,"mat-error",12),a.qZA(),a.TgZ(94,"mat-form-field",8),a.TgZ(95,"mat-label"),a._uU(96,"Telefone 2:"),a.qZA(),a._UZ(97,"input",29),a.YNc(98,_a,2,1,"mat-error",12),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(99,"mat-tab"),a.YNc(100,Za,3,0,"ng-template",5),a.TgZ(101,"div",6),a.TgZ(102,"div",7),a.TgZ(103,"mat-form-field",8),a.TgZ(104,"mat-label"),a._uU(105,"C\xd3DIGO"),a.qZA(),a._UZ(106,"input",30),a.qZA(),a.TgZ(107,"mat-form-field",8),a.TgZ(108,"mat-label"),a._uU(109,"Ativo"),a.qZA(),a._UZ(110,"input",10),a.qZA(),a.TgZ(111,"mat-form-field",8),a.TgZ(112,"mat-label"),a._uU(113,"Raz\xe3o Social"),a.qZA(),a._UZ(114,"input",31),a.qZA(),a.TgZ(115,"mat-form-field",8),a.TgZ(116,"mat-label"),a._uU(117,"Cadastro"),a.qZA(),a._UZ(118,"input",32),a.qZA(),a.qZA(),a.TgZ(119,"div",33),a.YNc(120,Aa,5,1,"mat-form-field",34),a.YNc(121,ba,4,1,"mat-form-field",34),a.YNc(122,Ta,5,1,"mat-form-field",34),a.YNc(123,Ua,4,1,"mat-form-field",34),a.qZA(),a.TgZ(124,"div",7),a.TgZ(125,"mat-form-field",8),a.TgZ(126,"mat-label"),a._uU(127,"Manh\xe3 Entrada"),a.qZA(),a._UZ(128,"input",35),a.qZA(),a.TgZ(129,"mat-form-field",8),a.TgZ(130,"mat-label"),a._uU(131,"Manh\xe3 Saida"),a.qZA(),a._UZ(132,"input",36),a.qZA(),a.TgZ(133,"mat-form-field",8),a.TgZ(134,"mat-label"),a._uU(135,"Tarde Entrada"),a.qZA(),a._UZ(136,"input",37),a.qZA(),a.TgZ(137,"mat-form-field",8),a.TgZ(138,"mat-label"),a._uU(139,"Tarde Saida"),a.qZA(),a._UZ(140,"input",38),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t){let r,u,m,h,C,T,U,f,w,E,L;a.xp6(4),a.Oqu(o.labelCadastro),a.xp6(2),a.Q6J("ngIf",3!=o.idAcao),a.xp6(4),a.hij(" ",o.getLabelCancel()," "),a.xp6(1),a.Q6J("formGroup",o.formulario),a.xp6(17),a.Q6J("readonly",o.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(r=o.formulario.get("razao"))||null==r.errors?null:r.errors.ValidatorStringLen)&&o.touchedOrDirty("razao")),a.xp6(5),a.Q6J("ngIf",(null==(u=o.formulario.get("cadastr"))||null==u.errors?null:u.errors.ValidatorDate)&&o.touchedOrDirty("cadastr")),a.xp6(5),a.Q6J("readonly",o.readOnly),a.xp6(1),a.Q6J("ngIf","INVALID"==(null==(m=o.formulario.get("senha"))?null:m.status)&&o.touchedOrDirty("senha")),a.xp6(1),a.Q6J("ngIf",o.idAcao!=o.getAcoes().Consulta&&o.idAcao!=o.getAcoes().Exclusao&&o.idAcao!=o.getAcoes().Atualizacao),a.xp6(1),a.Q6J("ngIf",o.idAcao==o.getAcoes().Consulta||o.idAcao==o.getAcoes().Exclusao),a.xp6(4),a.Q6J("dropSpecialCharacters",!0)("readonly",o.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(h=o.formulario.get("cnpj_cpf"))||null==h.errors?null:h.errors.ValidadorCnpjCpf)&&o.touchedOrDirty("cnpj_cpf")),a.xp6(5),a.Q6J("readonly",o.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(C=o.formulario.get("rua"))||null==C.errors?null:C.errors.ValidatorStringLen)&&o.touchedOrDirty("rua")),a.xp6(4),a.Q6J("readonly",o.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(T=o.formulario.get("nro"))||null==T.errors?null:T.errors.ValidatorStringLen)&&o.touchedOrDirty("nro")),a.xp6(5),a.Q6J("readonly",o.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(U=o.formulario.get("complemento"))||null==U.errors?null:U.errors.ValidatorStringLen)&&o.touchedOrDirty("complemento")),a.xp6(5),a.Q6J("readonly",o.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(f=o.formulario.get("bairro"))||null==f.errors?null:f.errors.ValidatorStringLen)&&o.touchedOrDirty("bairro")),a.xp6(4),a.Q6J("readonly",o.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(w=o.formulario.get("cidade"))||null==w.errors?null:w.errors.ValidatorStringLen)&&o.touchedOrDirty("cidade")),a.xp6(1),a.Q6J("ngIf",o.idAcao!=o.getAcoes().Consulta&&o.idAcao!=o.getAcoes().Exclusao),a.xp6(1),a.Q6J("ngIf",o.idAcao==o.getAcoes().Consulta||o.idAcao==o.getAcoes().Exclusao),a.xp6(4),a.Q6J("dropSpecialCharacters",!0)("readonly",o.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(E=o.formulario.get("cep"))||null==E.errors?null:E.errors.ValidatorCep)&&o.touchedOrDirty("cep")),a.xp6(5),a.Q6J("readonly",o.setEmailReadOnly()),a.xp6(1),a.Q6J("ngIf","INVALID"==(null==(L=o.formulario.get("email"))?null:L.status)&&o.touchedOrDirty("email")),a.xp6(4),a.Q6J("dropSpecialCharacters",!0)("readonly",o.readOnly),a.xp6(1),a.Q6J("ngIf",o.getValidfield("tel1")),a.xp6(4),a.Q6J("dropSpecialCharacters",!0)("readonly",o.readOnly),a.xp6(1),a.Q6J("ngIf",o.getValidfield("tel2")),a.xp6(22),a.Q6J("ngIf",o.idAcao!=o.getAcoes().Consulta&&o.idAcao!=o.getAcoes().Exclusao&&o.idAcao!=o.getAcoes().Atualizacao),a.xp6(1),a.Q6J("ngIf",o.idAcao==o.getAcoes().Consulta||o.idAcao==o.getAcoes().Exclusao),a.xp6(1),a.Q6J("ngIf",o.idAcao!=o.getAcoes().Consulta&&o.idAcao!=o.getAcoes().Exclusao&&o.idAcao!=o.getAcoes().Atualizacao),a.xp6(1),a.Q6J("ngIf",o.idAcao==o.getAcoes().Consulta||o.idAcao==o.getAcoes().Exclusao),a.xp6(5),a.Q6J("readonly",o.readOnly),a.xp6(4),a.Q6J("readonly",o.readOnly),a.xp6(4),a.Q6J("readonly",o.readOnly),a.xp6(4),a.Q6J("readonly",o.readOnly)}},directives:[Y.Ye,x.hX,g.O5,F.lW,G.Hw,l._Y,l.JL,l.sg,N.SP,N.uX,N.uD,x.KE,z.Nt,l.Fj,l.JJ,l.u,M.hx,x.TO,B.gD,g.sg,D.ey],styles:[".button-container-right[_ngcontent-%COMP%]{display:flex;justify-content:right;height:min-content;width:100%}.button-container-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}"]}),e})();var c=s(7117),R=s(6468),P=s(3430),J=s(1441),qa=s(5062),O=s(9243),xa=s(5626),Oa=s(3968),Ia=s(1436),ya=s(7234);function Na(e,i){if(1&e&&(a.TgZ(0,"mat-option",19),a._uU(1),a.qZA()),2&e){const t=i.$implicit;a.Q6J("value",t),a.xp6(1),a.hij(" ",t," ")}}function Pa(e,i){if(1&e&&(a.TgZ(0,"mat-option",19),a._uU(1),a.qZA()),2&e){const t=i.$implicit;a.Q6J("value",t),a.xp6(1),a.hij(" ",t," ")}}function Ja(e,i){if(1&e&&(a.TgZ(0,"mat-option",19),a._uU(1),a.qZA()),2&e){const t=i.$implicit;a.Q6J("value",t.id),a.xp6(1),a.hij(" ",t.grupo," ")}}function wa(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"mat-form-field",20),a.TgZ(1,"mat-label"),a._uU(2,"Pesquisar Por"),a.qZA(),a.TgZ(3,"mat-select",21),a.NdJ("selectionChange",function(){return a.CHM(t),a.oxw().onChangeParametros()}),a.YNc(4,Ja,2,2,"mat-option",11),a.qZA(),a.qZA()}if(2&e){const t=a.oxw();a.xp6(4),a.Q6J("ngForOf",t.grupos)}}function Ea(e,i){1&e&&(a.TgZ(0,"mat-form-field",22),a.TgZ(1,"mat-label"),a._uU(2,"Descri\xe7\xe3o"),a.qZA(),a._UZ(3,"input",23),a.qZA())}function Va(e,i){if(1&e){const t=a.EpF();a.TgZ(0,"tr"),a.TgZ(1,"td"),a.TgZ(2,"div"),a.TgZ(3,"mat-label",24),a._uU(4),a.qZA(),a.qZA(),a.qZA(),a.TgZ(5,"td"),a.TgZ(6,"div"),a.TgZ(7,"mat-label",24),a._uU(8),a.ALo(9,"simNao"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(10,"td"),a.TgZ(11,"div"),a.TgZ(12,"mat-label",24),a._uU(13),a.qZA(),a.qZA(),a.qZA(),a.TgZ(14,"td"),a.TgZ(15,"div"),a.TgZ(16,"mat-label",24),a._uU(17),a.qZA(),a.qZA(),a.qZA(),a.TgZ(18,"td"),a.TgZ(19,"div"),a.TgZ(20,"mat-label",25),a._uU(21),a.qZA(),a.qZA(),a.qZA(),a.TgZ(22,"td",26),a.TgZ(23,"barra-acoes",27),a.NdJ("changeOpcao",function(r){const m=a.CHM(t).$implicit;return a.oxw().escolha(r,m)}),a.qZA(),a.qZA(),a.qZA()}if(2&e){const t=i.$implicit;a.xp6(4),a.Oqu(t.id),a.xp6(4),a.Oqu(a.lcZ(9,8,t.ativo)),a.xp6(5),a.Oqu(t.razao),a.xp6(4),a.Oqu(t.grupo),a.xp6(4),a.Oqu(t.email),a.xp6(2),a.Q6J("BARRA_VERTICAL",!0)("BARRA_ATIVIDADES",!1)("EXCLUIR",!1)}}let $=(()=>{class e{constructor(t,o,r,u,m,h,C,T){this.formBuilder=t,this.usuariosService=o,this.grupoUserService=r,this.parametrosService=u,this.globalService=m,this.route=h,this.router=C,this.appSnackBar=T,this.usuarios=[],this.grupos=[],this.erro="",this.opcoesOrdenacao=[],this.opcoesCampo=[],this.controlePaginas=new P.e(0,0),this.tamPagina=50,this.retorno=!1,this.parametro=new J.M,this.parametros=t.group({ordenacao:[null],campo:[null],filtro:[null],grupo:[]}),this.inscricaoRota=h.params.subscribe(U=>{void 0===U.retorno?this.retorno=!1:(this.retorno=!0,this.globalService.estadoFind("usuario"))}),this.loadParametros(),this.getGrupos()}ngOnInit(){this.getUsuariosContador()}ngOnDestroy(){var t,o,r,u,m;null===(t=this.inscricaoGetAll)||void 0===t||t.unsubscribe(),null===(o=this.inscricaoGetFiltro)||void 0===o||o.unsubscribe(),null===(r=this.inscricaoGetGrupo)||void 0===r||r.unsubscribe(),null===(u=this.inscricaoParametro)||void 0===u||u.unsubscribe(),null===(m=this.inscricaoRota)||void 0===m||m.unsubscribe()}escolha(t,o){if(void 0!==o){let r=this.parametro.getParametro();Object(r).new=!1,Object(r).id_retorno=o.id,Object(r).page=this.controlePaginas.getPaginalAtual(),Object(r).op_ordenacao=this.opcoesOrdenacao.findIndex(u=>this.parametros.value.ordenacao==u),Object(r).op_pesquisar=this.opcoesCampo.findIndex(u=>this.parametros.value.campo==u),Object(r).descricao=this.parametros.value.filtro,this.parametro.parametro=JSON.stringify(r),this.globalService.estadoSave(this.parametro),this.router.navigate(["/usuarios/usuario",o.id_empresa,o.id,t])}else{let r=this.parametro.getParametro();Object(r).new=!1,Object(r).id_retorno=0,Object(r).page=this.controlePaginas.getPaginalAtual(),Object(r).op_ordenacao=this.opcoesOrdenacao.findIndex(u=>this.parametros.value.ordenacao==u),Object(r).op_pesquisar=this.opcoesCampo.findIndex(u=>this.parametros.value.campo==u),Object(r).descricao=this.parametros.value.filtro,this.parametro.parametro=JSON.stringify(r),this.globalService.estadoSave(this.parametro),this.router.navigate(["/usuarios/usuario",1,0,t])}}onHome(){this.router.navigate([""])}getAcoes(){return n.I}getUsuarios(){let t=new R.w;if(t.id_empresa=this.globalService.getIdEmpresa(),"C\xf3digo"==this.parametros.value.campo){let o=parseInt(this.parametros.value.filtro,10);t.id=isNaN(o)?0:o}"Raz\xe3o"==this.parametros.value.campo&&(t.razao=this.parametros.value.filtro.toUpperCase()),"Grupo"==this.parametros.value.campo&&t.grupo.push(this.parametros.value.grupo),t.orderby=this.parametros.value.ordenacao,t.pagina=this.controlePaginas.getPaginalAtual(),this.globalService.setSpin(!0),this.inscricaoGetFiltro=this.usuariosService.getusuarios_01(t).subscribe(o=>{this.globalService.setSpin(!1),this.usuarios=o;const r=this.usuarios.findIndex(m=>m.id==(0,c.P0)(this.parametro.getParametro(),"id_retorno"));setTimeout(()=>this.viewPort.scrollToIndex(r),10),this.retorno=!1;let u=this.parametro.getParametro();Object(u).id_retorno=0,Object(u).new=!1,this.parametro.parametro=JSON.stringify(u)},o=>{this.globalService.setSpin(!1),this.usuarios=[],this.appSnackBar.openSuccessSnackBar(`Pesquisa Nos Usu\xe1rios ${(0,c.bZ)(o)}`,"OK")})}getUsuariosContador(){let t=new R.w;if(t.id_empresa=this.globalService.getIdEmpresa(),"C\xf3digo"==this.parametros.value.campo){let o=parseInt(this.parametros.value.filtro,10);t.id=isNaN(o)?0:o}"Raz\xe3o"==this.parametros.value.campo&&(t.razao=this.parametros.value.filtro.toUpperCase()),"Grupo"==this.parametros.value.campo&&t.grupo.push(this.parametros.value.grupo),t.orderby=this.parametros.value.ordenacao,t.contador="S",this.globalService.setSpin(!0),this.inscricaoGetFiltro=this.usuariosService.getusuarios_01(t).subscribe(o=>{if(this.globalService.setSpin(!1),this.controlePaginas=new P.e(this.tamPagina,0==o.total?1:o.total),this.retorno)if((0,c.xc)(this.parametro.getParametro(),"new"))this.controlePaginas.goLast();else{let r=this.parametro.getParametro();this.controlePaginas.setPaginaAtual(Object(r).page)}this.getUsuarios()},o=>{this.globalService.setSpin(!1),this.controlePaginas=new P.e(this.tamPagina,0),this.usuarios=[],this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Usu\xe1rios ${(0,c.bZ)(o)}`,"OK")})}getGrupos(){this.globalService.setSpin(!0),this.inscricaoGetGrupo=this.grupoUserService.getGrupoUsers().subscribe(t=>{this.globalService.setSpin(!1),this.grupos=t},t=>{this.globalService.setSpin(!1),this.erro=t,this.grupos=[],console.log("this.erro",this.erro)})}isGrupo(){return"Grupo"==this.parametros.value.campo}setValues(){this.parametros.setValue({ordenacao:this.opcoesOrdenacao[(0,c.P0)(this.parametro.getParametro(),"op_ordenacao")],campo:this.opcoesCampo[(0,c.P0)(this.parametro.getParametro(),"op_pesquisar")],filtro:(0,c.SL)(this.parametro.getParametro(),"descricao"),grupo:900})}getTexto(){return c.fd}onChangePage(){this.getUsuariosContador()}onChangeParametros(){this.getUsuariosContador()}onSaveConfig(){this.updateParametros()}loadParametros(){if(this.parametro=new J.M,this.parametro.id_empresa=this.globalService.getIdEmpresa(),this.parametro.modulo="usuario",this.parametro.assinatura="V1.00 29/08/23",this.parametro.id_usuario=this.globalService.usuario.id,this.parametro.parametro='\n    {\n      "op_ordenacao": 0,\n      "ordenacao": ["C\xf3digo", "Raz\xe3o", "Grupo"],\n      "op_pesquisar": 1,\n      "pesquisar": ["C\xf3digo", "Raz\xe3o", "Grupo"],\n      "descricao": "",\n      "page": 1,\n      "new": false,\n      "id_retorno":0\n    }',this.opcoesOrdenacao=(0,c.FO)(this.parametro.getParametro(),"ordenacao"),this.opcoesCampo=(0,c.FO)(this.parametro.getParametro(),"pesquisar"),this.retorno&&null!==this.globalService.estadoFind("usuario")){const t=this.globalService.estadoFind("usuario");if(null!=t){if((0,c.xc)(t.getParametro(),"new")){let o=this.parametro.getParametro();Object(o).id_retorno=(0,c.P0)(t.getParametro(),"id_retorno"),this.parametro.parametro=JSON.stringify(o),this.setPosicaoInclusao()}else this.controlePaginas.setPaginaAtual((0,c.P0)(t.getParametro(),"page")),this.parametro.setParametro(t.getParametro());this.globalService.estadoDelete(t),this.setValues()}}else this.getParametro()}setPosicaoInclusao(){const t=this.parametro.getParametro();Object(t).op_ordenacao=0,Object(t).op_pesquisar=0,Object(t).descricao="",Object(t).new=!0,this.parametro.setParametro(t)}getParametro(){this.globalService.setSpin(!0);let t=new qa.E;t.id_empresa=this.parametro.id_empresa,t.modulo=this.parametro.modulo,t.assinatura=this.parametro.assinatura,t.id_usuario=this.parametro.id_usuario,t.orderby="Usu\xe1rio",this.inscricaoParametro=this.parametrosService.getParametrosParametro01(t).subscribe(o=>{this.globalService.setSpin(!1),this.parametro=new J.M,this.parametro.id_empresa=o[0].id_empresa,this.parametro.modulo=o[0].modulo,this.parametro.id_usuario=o[0].id_usuario,this.parametro.assinatura=o[0].assinatura,this.parametro.parametro=o[0].parametro,this.parametro.user_insert=o[0].user_insert,this.parametro.user_update=o[0].user_update,this.opcoesOrdenacao=(0,c.FO)(this.parametro.getParametro(),"ordenacao"),this.opcoesCampo=(0,c.FO)(this.parametro.getParametro(),"pesquisar"),this.setValues()},o=>{this.globalService.setSpin(!1),this.setValues()})}updateParametros(){this.globalService.setSpin(!0),this.parametro.user_insert=this.globalService.usuario.id,this.parametro.user_update=this.globalService.usuario.id;let t=this.parametro.getParametro();Object(t).op_ordenacao=this.opcoesOrdenacao.findIndex(o=>this.parametros.value.ordenacao==o),Object(t).op_pesquisar=this.opcoesCampo.findIndex(o=>this.parametros.value.campo==o),Object(t).descricao=this.parametros.value.filtro,Object(t).page=0,Object(t).new=!1,this.parametro.parametro=JSON.stringify(t),this.inscricaoParametro=this.parametrosService.ParametroAtualiza(this.parametro).subscribe(o=>{this.globalService.setSpin(!1),this.appSnackBar.openSuccessSnackBar("Par\xe2metros Atualizados","OK")},o=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Grava\xe7\xe3o Dos Parametros ${(0,c.bZ)(o)}`,"OK")})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(l.qu),a.Y36(q.J),a.Y36(Q.c),a.Y36(xa.u),a.Y36(k.U),a.Y36(v.gz),a.Y36(v.F0),a.Y36(y.W))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-crud-usuario"]],viewQuery:function(t,o){if(1&t&&a.Gf(O.N7,5),2&t){let r;a.iGM(r=a.CRH())&&(o.viewPort=r.first)}},decls:47,vars:9,consts:[[1,"div-barra"],[1,"example-spacer"],[3,"controle","changePage"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","Retorno","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon","matTooltip","Atualizar","matTooltipPosition","above",1,"example-icon",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above","matTooltip","Salvar Par\xe2metros","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above",3,"matTooltip","click"],[1,"parametros"],["autocomplete","off",1,"col-med-4",3,"formGroup"],["field","","appearance","outline",1,"col-max"],["formControlName","ordenacao",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","campo",3,"selectionChange"],["field","","appearance","outline","class","col-max column-span-2",4,"ngIf"],["appearance","outline","class","col-max column-span-2",4,"ngIf"],[1,"content",3,"itemSize"],[1,"Browse-Scroll"],[1,"coluna-cabec"],[4,"cdkVirtualFor","cdkVirtualForOf"],[3,"value"],["field","","appearance","outline",1,"col-max","column-span-2"],["formControlName","grupo",3,"selectionChange"],["appearance","outline",1,"col-max","column-span-2"],["matInput","","formControlName","filtro","oninput","this.value = this.value.toUpperCase()"],[1,"Browse_Lanc_td"],[1,"Browse_Lanc_td_medium"],[1,"acoes"],[3,"BARRA_VERTICAL","BARRA_ATIVIDADES","EXCLUIR","changeOpcao"]],template:function(t,o){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"mat-toolbar"),a.TgZ(2,"span",1),a._uU(3,"Usu\xe1rios: "),a.qZA(),a.TgZ(4,"app-navegator",2),a.NdJ("changePage",function(){return o.onChangePage()}),a.qZA(),a.TgZ(5,"button",3),a.NdJ("click",function(){return o.onHome()}),a.TgZ(6,"mat-icon"),a._uU(7,"home"),a.qZA(),a.qZA(),a.TgZ(8,"button",4),a.NdJ("click",function(){return o.getUsuarios()}),a.TgZ(9,"mat-icon"),a._uU(10,"rotate_right"),a.qZA(),a.qZA(),a.TgZ(11,"button",5),a.NdJ("click",function(){return o.onSaveConfig()}),a.TgZ(12,"mat-icon"),a._uU(13,"brightness_high"),a.qZA(),a.qZA(),a.TgZ(14,"button",6),a.NdJ("click",function(){return o.escolha(o.getAcoes().Inclusao)}),a.TgZ(15,"mat-icon"),a._uU(16,"add_circle_outline"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(17,"div",7),a.TgZ(18,"form",8),a.TgZ(19,"mat-form-field",9),a.TgZ(20,"mat-label"),a._uU(21,"Ordena\xe7\xe3o"),a.qZA(),a.TgZ(22,"mat-select",10),a.NdJ("selectionChange",function(){return o.onChangeParametros()}),a.YNc(23,Na,2,2,"mat-option",11),a.qZA(),a.qZA(),a.TgZ(24,"mat-form-field",9),a.TgZ(25,"mat-label"),a._uU(26,"Pesquisar Por"),a.qZA(),a.TgZ(27,"mat-select",12),a.NdJ("selectionChange",function(){return o.onChangeParametros()}),a.YNc(28,Pa,2,2,"mat-option",11),a.qZA(),a.qZA(),a.YNc(29,wa,5,1,"mat-form-field",13),a.YNc(30,Ea,4,0,"mat-form-field",14),a.qZA(),a.qZA(),a.TgZ(31,"cdk-virtual-scroll-viewport",15),a.TgZ(32,"table",16),a.TgZ(33,"tr",17),a.TgZ(34,"th"),a._uU(35,"C\xf3digo"),a.qZA(),a.TgZ(36,"th"),a._uU(37,"Ativo"),a.qZA(),a.TgZ(38,"th"),a._uU(39,"Raz\xe3o"),a.qZA(),a.TgZ(40,"th"),a._uU(41,"Grupo"),a.qZA(),a.TgZ(42,"th"),a._uU(43,"E-Mail"),a.qZA(),a.TgZ(44,"th"),a._uU(45,"A\xc7\xd5ES"),a.qZA(),a.qZA(),a.YNc(46,Va,24,10,"tr",18),a.qZA(),a.qZA()),2&t&&(a.xp6(4),a.Q6J("controle",o.controlePaginas),a.xp6(10),a.Q6J("matTooltip",o.getTexto().incluir),a.xp6(4),a.Q6J("formGroup",o.parametros),a.xp6(5),a.Q6J("ngForOf",o.opcoesOrdenacao),a.xp6(5),a.Q6J("ngForOf",o.opcoesCampo),a.xp6(1),a.Q6J("ngIf",o.isGrupo()),a.xp6(1),a.Q6J("ngIf",!o.isGrupo()),a.xp6(1),a.Q6J("itemSize",50),a.xp6(15),a.Q6J("cdkVirtualForOf",o.usuarios))},directives:[Y.Ye,Oa.J,F.lW,Ia.gM,G.Hw,l._Y,l.JL,l.sg,x.KE,x.hX,B.gD,l.JJ,l.u,g.sg,g.O5,O.N7,O.xd,O.x0,D.ey,z.Nt,l.Fj,ya.C],pipes:[j.r],styles:['.content[_ngcontent-%COMP%]{height:60%;overflow:auto}td[_ngcontent-%COMP%]{font-size:small;color:#00f;font-family:"Times New Roman",Times,serif}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2aa}tr[_ngcontent-%COMP%]:hover{background-color:#caa99d}.acoes[_ngcontent-%COMP%]{color:#8b0000;width:100px}.go-up[_ngcontent-%COMP%]{margin-top:-10px}']}),e})(),Qa=(()=>{class e{constructor(t,o,r,u){this.route=t,this.usuariosService=o,this.router=r,this.appSnackBar=u,this.usuario=new d.g,this.idAcao=5,this.durationInSeconds=2,this.inscricaoRota=t.params.subscribe(m=>{this.usuario.id_empresa=m.id_empresa,this.usuario.email=m.email})}ngOnInit(){this.getUsuario()}ngOnDestroy(){var t,o;null===(t=this.incricaoGetUsuario)||void 0===t||t.unsubscribe(),null===(o=this.inscricaoRota)||void 0===o||o.unsubscribe()}getUsuario(){this.incricaoGetUsuario=this.usuariosService.getUsuarioByEmail(this.usuario.id_empresa,this.usuario.email).subscribe(t=>{this.usuario=t,this.router.navigate(["usuarios/usuario",this.usuario.id_empresa,this.usuario.id,this.idAcao])},t=>{this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Usu\xe1rios ${t.error.tabela} - ${t.error.erro} - ${t.error.message}`,"OK")})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(v.gz),a.Y36(q.J),a.Y36(v.F0),a.Y36(y.W))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-atualizacao-cadastral"]],decls:2,vars:0,template:function(t,o){1&t&&(a.TgZ(0,"h1"),a._uU(1,"ESTOU NA ATULIZA\xc7\xc3O CADASTRAL"),a.qZA())},styles:[""]}),e})();const ja=[{path:"",redirectTo:"usuarios",pathMatch:"full"},{path:"usuarios",component:$},{path:"usuarios/:retorno",component:$},{path:"usuario/:id_empresa/:id/:acao",component:Sa,canActivate:[s(1759).C]},{path:"atualizacao",component:Qa}];let Ya=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[v.Bz.forChild(ja)],v.Bz]}),e})();var Fa=s(5426),Ga=s(4466);let za=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({providers:[I],imports:[[g.ez,Ya,Fa.q,l.u5,O.Cl,l.UX,Ga.m,M.yI.forChild()]]}),e})()},6468:(V,S,s)=>{s.d(S,{w:()=>a});class a{constructor(){this.id_empresa=0,this.id=0,this.ativo="",this.razao="",this.cnpj_cpf="",this.grupo=[],this.timer="",this.ticket="",this.flag_ponte="",this.data="",this.pagina=0,this.tamPagina=50,this.contador="N",this.orderby="",this.sharp=!1}}},8239:(V,S,s)=>{function a(g,_,d,l,n,p,A){try{var b=g[p](A),Z=b.value}catch(q){return void d(q)}b.done?_(Z):Promise.resolve(Z).then(l,n)}function I(g){return function(){var _=this,d=arguments;return new Promise(function(l,n){var p=g.apply(_,d);function A(Z){a(p,l,n,A,b,"next",Z)}function b(Z){a(p,l,n,A,b,"throw",Z)}A(void 0)})}}s.d(S,{Z:()=>I})}}]);