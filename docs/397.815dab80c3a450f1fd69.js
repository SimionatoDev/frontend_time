"use strict";(self.webpackChunktimer=self.webpackChunktimer||[]).push([[397],{9397:(f,u,i)=>{i.r(u),i.d(u,{GerencialModule:()=>R});var o=i(8583),p=i(4655),c=i(3639),d=i(4782),T=i(6468),l=i(3430),P=i(7117),t=i(7716),h=i(7006),v=i(1209),S=i(1843),Z=i(789),b=i(2522),A=i(3968),_=i(1095),O=i(1436),j=i(6627),m=i(3679),C=i(8295),E=i(7441),D=i(2458);function N(n,s){if(1&n&&(t.TgZ(0,"mat-option",6),t._uU(1),t.qZA()),2&n){const a=s.$implicit;t.Q6J("value",a.id),t.xp6(1),t.hij(" ",a.razao," ")}}function M(n,s){if(1&n&&(t.TgZ(0,"mat-option",6),t._uU(1),t.qZA()),2&n){const a=s.$implicit;t.Q6J("value",a.idx),t.xp6(1),t.hij(" ",a.descricao," ")}}let B=(()=>{class n{constructor(a,e,r,g){this.globalService=e,this.usuariosService=r,this.router=g,this.changeDiretor=new t.vpe,this.changeSituacao=new t.vpe,this.parametro=a.group({diretor:[{value:""}],situacao:[{value:""}]}),this.setParametro()}ngOnInit(){}onChangeDiretor(){this.changeDiretor.emit(this.parametro.value.diretor)}onChangeSituacao(){this.changeSituacao.emit(this.parametro.value.situacao)}setParametro(){this.parametro.setValue({diretor:0,situacao:-1})}}return n.\u0275fac=function(a){return new(a||n)(t.Y36(m.qu),t.Y36(h.U),t.Y36(v.J),t.Y36(p.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["barra-parametrosv02"]],inputs:{diretores:"diretores",situacoes:"situacoes"},outputs:{changeDiretor:"changeDiretor",changeSituacao:"changeSituacao"},decls:12,vars:3,consts:[["autocomplete","off",3,"formGroup"],[1,"col-med-6"],["field","","appearance","outline",1,"col-max"],["formControlName","diretor",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","situacao",3,"selectionChange"],[3,"value"]],template:function(a,e){1&a&&(t.TgZ(0,"form",0),t.TgZ(1,"div",1),t.TgZ(2,"mat-form-field",2),t.TgZ(3,"mat-label"),t._uU(4,"Diretores"),t.qZA(),t.TgZ(5,"mat-select",3),t.NdJ("selectionChange",function(){return e.onChangeDiretor()}),t.YNc(6,N,2,2,"mat-option",4),t.qZA(),t.qZA(),t.TgZ(7,"mat-form-field",2),t.TgZ(8,"mat-label"),t._uU(9,"Situa\xe7\xf5es"),t.qZA(),t.TgZ(10,"mat-select",5),t.NdJ("selectionChange",function(){return e.onChangeSituacao()}),t.YNc(11,M,2,2,"mat-option",4),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&a&&(t.Q6J("formGroup",e.parametro),t.xp6(6),t.Q6J("ngForOf",e.diretores),t.xp6(5),t.Q6J("ngForOf",e.situacoes))},directives:[m._Y,m.JL,m.sg,C.KE,C.hX,E.gD,m.JJ,m.u,o.sg,D.ey],styles:[""]}),n})();var J=i(7775);function y(n,s){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"mat-icon",7),t._uU(2,"arrow_back"),t.qZA(),t.TgZ(3,"mat-label",8),t._uU(4),t.qZA(),t.TgZ(5,"mat-label",8),t._uU(6),t.ALo(7,"situacaoProjeto"),t.qZA(),t.qZA()),2&n){const a=s.$implicit;t.xp6(1),t.Q6J("inline",!0),t.xp6(3),t.AsE("",a.descricao.trim(),"(",a.id,")"),t.xp6(2),t.Oqu(t.lcZ(7,4,a.status))}}const F=[{path:"",redirectTo:"visaoa",pathMatch:"full"},{path:"visaoa",component:(()=>{class n{constructor(a,e,r,g){this.globalService=a,this.usuariosService=e,this.projetosServices=r,this.appSnackBar=g,this.diretor=0,this.diretores=[],this.situacao="",this.situacoes=(0,P.js)(),this.projetos=[],this.controlePaginas=new l.e(50,1),this.tamPagina=50,this.getDiretores()}ngOnInit(){this.getProjetosContador(),this.getProjetos()}ngOnDestroy(){var a,e,r;null===(a=this.inscricaoDiretor)||void 0===a||a.unsubscribe(),null===(e=this.inscricaoProjetos)||void 0===e||e.unsubscribe(),null===(r=this.inscricaoProjetosCt)||void 0===r||r.unsubscribe()}onChangeDiretor(a){this.diretor=a,this.onAtualizar()}onChangeSituacao(a){this.situacao=a.toString(),this.onAtualizar()}onAtualizar(){this.getProjetosContador()}onChangePage(){this.getProjetos()}getDiretores(){const a=new T.w;a.id_empresa=this.globalService.id_empresa,a.grupo=this.usuariosService.getGruposDiretoria(),a.orderby="Raz\xe3o",this.globalService.setSpin(!0),this.inscricaoDiretor=this.usuariosService.getusuarios_01(a).subscribe(e=>{this.globalService.setSpin(!1),this.diretor=0;const r=new c.j;r.id=0,r.razao="TODOS",this.diretores.push(r),e.forEach(g=>{this.diretores.push(g)})},e=>{this.globalService.setSpin(!1),this.diretor=0,this.appSnackBar.openFailureSnackBar(`${e.error.tabela} - ${e.error.erro} - ${e.error.message}`,"OK")})}getProjetosContador(){let a=new d.m;a.id_empresa=1,"-1"!=this.situacao&&(a.status=this.situacao.toString()),a.id_diretor=this.diretor,a.orderby="",a.contador="S",this.globalService.setSpin(!0),this.inscricaoProjetosCt=this.projetosServices.getProjetos_01(a).subscribe(e=>{this.globalService.setSpin(!1),this.controlePaginas=new l.e(this.tamPagina,0==e.total?1:e.total),this.getProjetos()},e=>{this.globalService.setSpin(!1),"Nehuma Informa\xe7\xe3o Para Esta Consulta."==e.error.message?(this.controlePaginas=new l.e(this.tamPagina,0),this.appSnackBar.openSuccessSnackBar("Nenhuma Informa\xe7\xe3o Encontrada Para Esta Consulta!","OK")):(this.controlePaginas=new l.e(this.tamPagina,0),this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Projetos ${e.error.tabela} - ${e.error.erro} - ${e.error.message}`,"OK"))})}getProjetos(){let a=new d.m;a.id_empresa=1,"-1"!=this.situacao&&(a.status=this.situacao.toString()),a.id_diretor=this.diretor,a.orderby="Descri\xe7\xe3o",a.pagina=this.controlePaginas.getPaginalAtual(),this.globalService.setSpin(!0),this.inscricaoProjetos=this.projetosServices.getProjetos_01(a).subscribe(e=>{this.globalService.setSpin(!1),this.projetos=e},e=>{this.globalService.setSpin(!1),"Nehuma Informa\xe7\xe3o Para Esta Consulta."==e.error.message?(this.projetos=[],this.appSnackBar.openSuccessSnackBar("Nenhuma Informa\xe7\xe3o Encontrada Para Esta Consulta!","OK")):(this.projetos=[],this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Projetos ${(0,P.bZ)(e)}`,"OK"))})}}return n.\u0275fac=function(a){return new(a||n)(t.Y36(h.U),t.Y36(v.J),t.Y36(S.T),t.Y36(Z.W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-visaoa"]],decls:13,vars:4,consts:[[1,"div-barra"],[1,"example-spacer"],[3,"controle","changePage"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","Atualizar","matTooltipPosition","above",1,"button",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon",1,"example-icon"],[3,"diretores","situacoes","changeDiretor","changeSituacao"],[4,"ngFor","ngForOf"],[1,"icon-display",3,"inline"],[1,"Linha_browse"]],template:function(a,e){1&a&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-toolbar"),t.TgZ(2,"span",1),t._uU(3,"CONTROLE DE CONTRATOS"),t.qZA(),t.TgZ(4,"app-navegator",2),t.NdJ("changePage",function(){return e.onChangePage()}),t.qZA(),t.TgZ(5,"button",3),t.NdJ("click",function(){return e.onAtualizar()}),t.TgZ(6,"mat-icon"),t._uU(7,"rotate_right"),t.qZA(),t.qZA(),t.TgZ(8,"button",4),t.TgZ(9,"mat-icon"),t._uU(10,"arrow_back"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"barra-parametrosv02",5),t.NdJ("changeDiretor",function(g){return e.onChangeDiretor(g)})("changeSituacao",function(g){return e.onChangeSituacao(g)}),t.qZA(),t.YNc(12,y,8,6,"div",6)),2&a&&(t.xp6(4),t.Q6J("controle",e.controlePaginas),t.xp6(7),t.Q6J("diretores",e.diretores)("situacoes",e.situacoes),t.xp6(1),t.Q6J("ngForOf",e.projetos))},directives:[b.Ye,A.J,_.lW,O.gM,j.Hw,B,o.sg,C.hX],pipes:[J.T],styles:[".Linha_browse[_ngcontent-%COMP%]{font-size:small;color:#000;margin-left:5px}.icon-small[_ngcontent-%COMP%]{color:red;width:10px;height:inherit}.icon-display[_ngcontent-%COMP%]{transform:scale(1.6)}.linha[_ngcontent-%COMP%]:nth-child(even){background:#fff}.linha[_ngcontent-%COMP%]:nth-child(odd){background:#000}"]}),n})()}];let U=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.Bz.forChild(F)],p.Bz]}),n})();var x=i(5426),I=i(2559),z=i(4466);let R=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[o.ez,U,x.q,m.u5,m.UX,z.m,I.yI.forChild()]]}),n})()},6468:(f,u,i)=>{i.d(u,{w:()=>o});class o{constructor(){this.id_empresa=0,this.id=0,this.ativo="",this.razao="",this.cnpj_cpf="",this.grupo=[],this.timer="",this.ticket="",this.flag_ponte="",this.data="",this.pagina=0,this.tamPagina=50,this.contador="N",this.orderby="",this.sharp=!1}}},3430:(f,u,i)=>{i.d(u,{e:()=>o});class o{constructor(c,d){this.tamPagina=c,this.totalRegistros=d,this.paginaInicial=1,this.paginaFinal=1,this.totalPaginas=1,this.setTamPagina(this.tamPagina),this.paginaAtual=1}goFirst(){return this.paginaAtual=this.paginaInicial,this.paginaAtual}goLast(){return this.paginaAtual=this.paginaFinal,this.paginaAtual}nextPage(){this.paginaAtual++,this.paginaAtual>this.paginaFinal&&(this.paginaAtual=this.paginaFinal)}forwardPage(){this.paginaAtual--,this.paginaAtual<1&&(this.paginaAtual=1)}getPaginalAtual(){return this.paginaAtual}getTotalPaginas(){return this.totalPaginas}setTamPagina(c){this.tamPagina=c,this.totalPaginas=this.totalRegistros%this.tamPagina==0?Math.trunc(this.totalRegistros/this.tamPagina):Math.trunc(this.totalRegistros/this.tamPagina)+1,this.paginaFinal=this.totalPaginas}setPaginaAtual(c){this.paginaAtual=c}}},3968:(f,u,i)=>{i.d(u,{J:()=>T});var o=i(7716),p=i(1095),c=i(1436),d=i(6627);let T=(()=>{class l{constructor(){this.change=new o.vpe}ngOnInit(){}getAtual(){return`${this.controlePaginas.getPaginalAtual()}/${this.controlePaginas.getTotalPaginas()}`}firstPage(){this.controlePaginas.goFirst(),this.change.emit("")}lastPage(){this.controlePaginas.goLast(),this.change.emit("")}forwardPage(){this.controlePaginas.forwardPage(),this.change.emit("")}nextPage(){this.controlePaginas.nextPage(),this.change.emit("")}}return l.\u0275fac=function(t){return new(t||l)},l.\u0275cmp=o.Xpm({type:l,selectors:[["app-navegator"]],inputs:{controlePaginas:["controle","controlePaginas"]},outputs:{change:"changePage"},decls:15,vars:1,consts:[[1,"pagina"],["mat-icon-button","","aria-label","Example icon-button with share icon","matTooltip","In\xedcio","matTooltipPosition","above",1,"mat-icon-button",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon","matTooltip","Voltar","matTooltipPosition","above",1,"mat-icon-button",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon","matTooltip","Avan\xe7ar","matTooltipPosition","above",1,"mat-icon-button",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon","matTooltip","Final","matTooltipPosition","above",1,"mat-icon-button",3,"click"]],template:function(t,h){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"button",1),o.NdJ("click",function(){return h.firstPage()}),o.TgZ(2,"mat-icon"),o._uU(3,"first_page"),o.qZA(),o.qZA(),o.TgZ(4,"button",2),o.NdJ("click",function(){return h.forwardPage()}),o.TgZ(5,"mat-icon"),o._uU(6,"chevron_left"),o.qZA(),o.qZA(),o.TgZ(7,"span"),o._uU(8),o.qZA(),o.TgZ(9,"button",3),o.NdJ("click",function(){return h.nextPage()}),o.TgZ(10,"mat-icon"),o._uU(11,"chevron_right"),o.qZA(),o.qZA(),o.TgZ(12,"button",4),o.NdJ("click",function(){return h.lastPage()}),o.TgZ(13,"mat-icon"),o._uU(14,"last_page"),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(8),o.Oqu(h.getAtual()))},directives:[p.lW,c.gM,d.Hw],styles:[".pagina[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;font-size:inherit;font-weight:inherit;font:inherit}.pagina[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:2px}"]}),l})()}}]);