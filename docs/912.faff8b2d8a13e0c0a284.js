"use strict";(self.webpackChunktimer=self.webpackChunktimer||[]).push([[912],{2912:(X,I,c)=>{c.r(I),c.d(I,{ProjetoModule:()=>Bo});var _=c(8583),p=c(3032),u=c(7117),w=c(3430),D=c(4782),N=c(1441),y=c(5062),C=c(9243),t=c(7716),l=c(3679),A=c(1843),q=c(7006),Zt=c(5626),Z=c(4655),S=c(789),O=c(2522),bt=c(3968),x=c(1095),U=c(1436),T=c(6627),f=c(8295),J=c(7441),k=c(9983),F=c(2458),rt=c(7234);let nt=(()=>{class o{constructor(e,a){this.hostElement=e,this.renderer=a,this.tipo="",this.nivel=0}ngOnInit(){this.setColor()}setColor(){let e="white";if("P"==this.tipo)switch(this.nivel){case 1:e="green";break;case 2:e="yellow";break;case 3:e="red";break;case 4:e="black";break;default:e="white"}else switch(this.nivel){case 1:e="green";break;case 2:e="yellow";break;case 3:e="red";break;case 4:e="black";break;default:e="white"}this.renderer.setStyle(this.hostElement.nativeElement,"background-color",e)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.SBq),t.Y36(t.Qsj))},o.\u0275dir=t.lG2({type:o,selectors:[["","CorStatusProj",""]],inputs:{tipo:["CorStatusProj","tipo"],nivel:"nivel"}}),o})();var tt=c(980),st=c(7775);let At=(()=>{class o{transform(e){return"0"==e?"Em Aberto":"1"==e?"Em Andamento":"2"==e?"Em Finalizado":"3"==e?"Em Atraso":"Em Aberto"}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275pipe=t.Yjl({name:"situacaoPadrao",type:o,pure:!0}),o})();function xt(o,n){if(1&o&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function Tt(o,n){if(1&o&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function Ct(o,n){1&o&&(t.TgZ(0,"mat-icon",25),t._uU(1,"check_box"),t.qZA())}function qt(o,n){if(1&o&&(t.TgZ(0,"mat-icon",26),t._uU(1," crop_square"),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("inline",!0)("CorStatusProj","E")("nivel",e.nivelplan)}}function Pt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t.YNc(2,Ct,2,0,"mat-icon",20),t.YNc(3,qt,2,3,"mat-icon",21),t.qZA(),t.TgZ(4,"td"),t.TgZ(5,"div"),t.TgZ(6,"mat-label",22),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"td"),t.TgZ(9,"div"),t.TgZ(10,"mat-label",22),t._uU(11),t.qZA(),t.qZA(),t.TgZ(12,"div"),t.TgZ(13,"mat-label",22),t._uU(14),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"td"),t.TgZ(16,"div"),t.TgZ(17,"mat-label",22),t._uU(18),t.qZA(),t.qZA(),t.TgZ(19,"div"),t.TgZ(20,"mat-label",22),t._uU(21),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"td"),t.TgZ(23,"div"),t.TgZ(24,"mat-label",22),t._uU(25),t.ALo(26,"firstName"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"td"),t.TgZ(28,"div"),t.TgZ(29,"mat-label",22),t._uU(30),t.qZA(),t.qZA(),t.TgZ(31,"div"),t.TgZ(32,"mat-label",22),t._uU(33),t.qZA(),t.qZA(),t.qZA(),t.TgZ(34,"td"),t.TgZ(35,"div"),t.TgZ(36,"mat-label",22),t._uU(37),t.ALo(38,"situacaoProjeto"),t.qZA(),t.qZA(),t.TgZ(39,"div"),t.TgZ(40,"mat-label",22),t._uU(41),t.ALo(42,"situacaoPadrao"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(43,"td",23),t.TgZ(44,"barra-acoes",24),t.NdJ("changeOpcao",function(i){const s=t.CHM(e).$implicit;return t.oxw().escolha(i,s)}),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=n.$implicit,a=t.oxw();t.xp6(2),t.Q6J("ngIf",e.status>="3"),t.xp6(1),t.Q6J("ngIf",e.status<="2"),t.xp6(4),t.Oqu(e.id),t.xp6(4),t.Oqu(a.getTipo(e.id_tipo)),t.xp6(3),t.Oqu(e.tem_atividade),t.xp6(4),t.Oqu(e.descricao),t.xp6(3),t.Oqu(e.cliente_razao),t.xp6(4),t.Oqu(t.lcZ(26,17,e.diretor_razao)),t.xp6(5),t.Oqu(e.dataproj),t.xp6(3),t.Oqu(e.dataenc),t.xp6(4),t.Oqu(t.lcZ(38,19,e.status)),t.xp6(4),t.Oqu(t.lcZ(42,21,e.status_ex)),t.xp6(3),t.Q6J("BARRA_VERTICAL",e.status<="2")("BARRA_FINANCEIRO",a.autorizado&&e.valor>0)("ALTERAR",e.status<="2")("EXCLUIR",!1)("BARRA_DASHBOARDV1",0!=e.horasexec)}}let lt=(()=>{class o{constructor(e,a,i,r,s,d,m){this.formBuilder=e,this.projetosServices=a,this.globalService=i,this.parametrosService=r,this.route=s,this.router=d,this.appSnackBar=m,this.projetos=[],this.erro="",this.opcoesOrdenacao=["C\xf3digo","Descri\xe7\xe3o","Fantasia"],this.opcoesCampo=["C\xf3digo","Descri\xe7\xe3o","Fantasia"],this.controlePaginas=new w.e(0,0),this.tamPagina=50,this.retorno=!1,this.parametro=new N.M,this.autorizado=!1,this.parametros=e.group({ordenacao:[null],campo:[null],filtro:[null]}),this.inscricaoRota=s.params.subscribe(h=>{void 0===h.retorno?this.retorno=!1:(this.retorno=!0,this.globalService.estadoFind("projetos"))}),this.autorizado=this.globalService.okDirAdm()}ngOnInit(){this.loadParametros()}ngOnDestroy(){var e,a,i,r,s;null===(e=this.inscricaoGetAll)||void 0===e||e.unsubscribe(),null===(a=this.inscricaoGetFiltro)||void 0===a||a.unsubscribe(),null===(i=this.inscricaoGetGrupo)||void 0===i||i.unsubscribe(),null===(r=this.inscricaoParametro)||void 0===r||r.unsubscribe(),null===(s=this.inscricaoRota)||void 0===s||s.unsubscribe()}escolha(e,a){if(99==e){if(void 0!==a){let i=this.parametro.getParametro();Object(i).new=!1,Object(i).id_retorno=a.id,Object(i).page=this.controlePaginas.getPaginalAtual(),Object(i).op_ordenacao=this.opcoesOrdenacao.findIndex(r=>this.parametros.value.ordenacao==r),Object(i).op_pesquisar=this.opcoesCampo.findIndex(r=>this.parametros.value.campo==r),Object(i).descricao=this.parametros.value.filtro,this.parametro.parametro=JSON.stringify(i),this.globalService.estadoSave(this.parametro)}this.router.navigate(["projetos/anexaratividade",null==a?void 0:a.id_empresa,null==a?void 0:a.id,"NULL"])}if(98==e){let i=this.parametro.getParametro();Object(i).new=!1,Object(i).id_retorno=null==a?void 0:a.id,Object(i).page=this.controlePaginas.getPaginalAtual(),Object(i).op_ordenacao=this.opcoesOrdenacao.findIndex(r=>this.parametros.value.ordenacao==r),Object(i).op_pesquisar=this.opcoesCampo.findIndex(r=>this.parametros.value.campo==r),Object(i).descricao=this.parametros.value.filtro,this.parametro.parametro=JSON.stringify(i),this.globalService.estadoSave(this.parametro),this.router.navigate(["projetos/dashboardv1",null==a?void 0:a.id_empresa,null==a?void 0:a.id])}if(97==e){let i=this.parametro.getParametro();Object(i).new=!1,Object(i).id_retorno=null==a?void 0:a.id,Object(i).page=this.controlePaginas.getPaginalAtual(),Object(i).op_ordenacao=this.opcoesOrdenacao.findIndex(r=>this.parametros.value.ordenacao==r),Object(i).op_pesquisar=this.opcoesCampo.findIndex(r=>this.parametros.value.campo==r),Object(i).descricao=this.parametros.value.filtro,this.parametro.parametro=JSON.stringify(i),this.globalService.estadoSave(this.parametro),this.router.navigate(["projetos/financeiro",null==a?void 0:a.id_empresa,null==a?void 0:a.id])}if(e<97)if(void 0!==a){let i=this.parametro.getParametro();Object(i).new=!1,Object(i).id_retorno=a.id,Object(i).page=this.controlePaginas.getPaginalAtual(),Object(i).op_ordenacao=this.opcoesOrdenacao.findIndex(r=>this.parametros.value.ordenacao==r),Object(i).op_pesquisar=this.opcoesCampo.findIndex(r=>this.parametros.value.campo==r),Object(i).descricao=this.parametros.value.filtro,this.parametro.parametro=JSON.stringify(i),this.globalService.estadoSave(this.parametro),this.router.navigate(["projetos/projeto",a.id_empresa,a.id,e])}else{let i=this.parametro.getParametro();Object(i).new=!1,Object(i).id_retorno=0,Object(i).page=this.controlePaginas.getPaginalAtual(),Object(i).op_ordenacao=this.opcoesOrdenacao.findIndex(r=>this.parametros.value.ordenacao==r),Object(i).op_pesquisar=this.opcoesCampo.findIndex(r=>this.parametros.value.campo==r),Object(i).descricao=this.parametros.value.filtro,this.parametro.parametro=JSON.stringify(i),this.globalService.estadoSave(this.parametro),this.router.navigate(["/projetos/projeto",1,0,e])}}getAcoes(){return p.I}getProjetos(){let e=new D.m;if(e.id_empresa=this.globalService.getIdEmpresa(),"C\xf3digo"==this.parametros.value.campo){let a=parseInt(this.parametros.value.filtro,10);e.id=isNaN(a)?0:a}"Descri\xe7\xe3o"==this.parametros.value.campo&&(e.descricao=this.parametros.value.filtro.toUpperCase()),"Fantasia"==this.parametros.value.campo&&(e.cli_razao=this.parametros.value.filtro.toUpperCase()),e.orderby=this.parametros.value.ordenacao,e.pagina=this.controlePaginas.getPaginalAtual(),e.contador="N",16==this.globalService.getUsuario().id&&(e.controle=""),this.globalService.setSpin(!0),this.inscricaoGetFiltro=this.projetosServices.getProjetos_01(e).subscribe(a=>{this.globalService.setSpin(!1),this.projetos=a;const i=this.projetos.findIndex(s=>s.id==(0,u.P0)(this.parametro.getParametro(),"id_retorno"));setTimeout(()=>this.viewPort.scrollToIndex(i),10),this.retorno=!1;let r=this.parametro.getParametro();Object(r).id_retorno=0,Object(r).new=!1,this.parametro.parametro=JSON.stringify(r)},a=>{this.globalService.setSpin(!1),"Nehuma Informa\xe7\xe3o Para Esta Consulta."==a.error.message&&(this.projetos=[],this.appSnackBar.openSuccessSnackBar("Nenhuma Informa\xe7\xe3o Encontrada Para Esta Consulta!","OK"))})}getProjetosContador(){let e=new D.m;if(e.id_empresa=this.globalService.getIdEmpresa(),"C\xf3digo"==this.parametros.value.campo){let a=parseInt(this.parametros.value.filtro,10);e.id=isNaN(a)?0:a}"Descri\xe7\xe3o"==this.parametros.value.campo&&(e.descricao=this.parametros.value.filtro.toUpperCase()),"Fantasia"==this.parametros.value.campo&&(e.cli_razao=this.parametros.value.filtro.toUpperCase()),e.orderby=this.parametros.value.ordenacao,e.contador="S",e.tamPagina=this.tamPagina,16==this.globalService.getUsuario().id&&(e.controle=""),this.globalService.setSpin(!0),this.inscricaoGetFiltro=this.projetosServices.getProjetos_01(e).subscribe(a=>{if(this.globalService.setSpin(!1),this.controlePaginas=new w.e(this.tamPagina,0==a.total?1:a.total),this.retorno)if((0,u.xc)(this.parametro.getParametro(),"new"))this.controlePaginas.goLast();else{let i=this.parametro.getParametro();this.controlePaginas.setPaginaAtual(Object(i).page)}this.getProjetos()},a=>{this.globalService.setSpin(!1),this.projetos=[],this.controlePaginas=new w.e(this.tamPagina,0),this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Projetos ${(0,u.bZ)(a)}`,"OK")})}setValues(){this.parametros.setValue({ordenacao:this.opcoesOrdenacao[(0,u.P0)(this.parametro.getParametro(),"op_ordenacao")],campo:this.opcoesCampo[(0,u.P0)(this.parametro.getParametro(),"op_pesquisar")],filtro:(0,u.SL)(this.parametro.getParametro(),"descricao")})}getTexto(){return u.fd}onChangePage(){this.getProjetos()}onHome(){this.router.navigate([""])}onChangeParametros(){this.getProjetosContador()}onSaveConfig(){this.updateParametros()}loadParametros(){if(this.parametro=new N.M,this.parametro.id_empresa=this.globalService.getIdEmpresa(),this.parametro.modulo="projeto",this.parametro.assinatura="V1.00 29/08/23",this.parametro.id_usuario=this.globalService.usuario.id,this.parametro.parametro='\n    {\n      "op_ordenacao": 0,\n      "ordenacao": ["C\xf3digo", "Descri\xe7\xe3o", "Fantasia"],\n      "op_pesquisar": 1,\n      "pesquisar": ["C\xf3digo", "Descri\xe7\xe3o", "Fantasia"],\n      "descricao": "",\n      "page": 1,\n      "new": false,\n      "id_retorno":0\n    }',this.opcoesOrdenacao=(0,u.FO)(this.parametro.getParametro(),"ordenacao"),this.opcoesCampo=(0,u.FO)(this.parametro.getParametro(),"pesquisar"),this.retorno&&null!==this.globalService.estadoFind("projeto")){const e=this.globalService.estadoFind("projeto");if(null!=e){if((0,u.xc)(e.getParametro(),"new")){let a=this.parametro.getParametro();Object(a).id_retorno=(0,u.P0)(e.getParametro(),"id_retorno"),this.parametro.parametro=JSON.stringify(a),this.setPosicaoInclusao()}else this.controlePaginas.setPaginaAtual((0,u.P0)(e.getParametro(),"page")),this.parametro.setParametro(e.getParametro());this.globalService.estadoDelete(e),this.setValues()}this.getProjetosContador()}else this.getParametro()}setPosicaoInclusao(){const e=this.parametro.getParametro();Object(e).op_ordenacao=0,Object(e).op_pesquisar=0,Object(e).descricao="",Object(e).new=!0,this.parametro.setParametro(e)}getParametro(){this.globalService.setSpin(!0);let e=new y.E;e.id_empresa=this.parametro.id_empresa,e.modulo=this.parametro.modulo,e.assinatura=this.parametro.assinatura,e.id_usuario=this.parametro.id_usuario,e.orderby="Usu\xe1rio",this.inscricaoParametro=this.parametrosService.getParametrosParametro01(e).subscribe(a=>{this.globalService.setSpin(!1),this.parametro=new N.M,this.parametro.id_empresa=a[0].id_empresa,this.parametro.modulo=a[0].modulo,this.parametro.id_usuario=a[0].id_usuario,this.parametro.assinatura=a[0].assinatura,this.parametro.parametro=a[0].parametro,this.parametro.user_insert=a[0].user_insert,this.parametro.user_update=a[0].user_update,this.opcoesOrdenacao=(0,u.FO)(this.parametro.getParametro(),"ordenacao"),this.opcoesCampo=(0,u.FO)(this.parametro.getParametro(),"pesquisar"),this.setValues(),this.getProjetosContador()},a=>{this.globalService.setSpin(!1),this.setValues(),this.getProjetosContador()})}updateParametros(){this.globalService.setSpin(!0),this.parametro.user_insert=this.globalService.usuario.id,this.parametro.user_update=this.globalService.usuario.id;let e=this.parametro.getParametro();Object(e).op_ordenacao=this.opcoesOrdenacao.findIndex(a=>this.parametros.value.ordenacao==a),Object(e).op_pesquisar=this.opcoesCampo.findIndex(a=>this.parametros.value.campo==a),Object(e).descricao=this.parametros.value.filtro,Object(e).page=0,Object(e).new=!1,this.parametro.parametro=JSON.stringify(e),this.inscricaoParametro=this.parametrosService.ParametroAtualiza(this.parametro).subscribe(a=>{this.globalService.setSpin(!1),this.appSnackBar.openSuccessSnackBar("Par\xe2metros Atualizados","OK")},a=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Grava\xe7\xe3o Dos Parametros ${(0,u.bZ)(a)}`,"OK")})}getTipo(e){return this.globalService.getTipoContrato(e)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.qu),t.Y36(A.T),t.Y36(q.U),t.Y36(Zt.u),t.Y36(Z.gz),t.Y36(Z.F0),t.Y36(S.W))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-crud-projeto"]],viewQuery:function(e,a){if(1&e&&t.Gf(C.N7,5),2&e){let i;t.iGM(i=t.CRH())&&(a.viewPort=i.first)}},decls:53,vars:6,consts:[[1,"div-barra"],[1,"example-spacer"],[3,"controle","changePage"],["mat-icon-button","","aria-label","Example icon-button with share icon","matTooltip","Atualizar","matTooltipPosition","above",1,"example-icon",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above","matTooltip","Salvar Par\xe2metros","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above","matTooltip","Retorno","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","Novo Contrato","matTooltipPosition","above",1,"example-icon",3,"click"],[1,"parametros"],["autocomplete","off",1,"col-med-4",3,"formGroup"],["field","","appearance","outline",1,"col-max"],["formControlName","ordenacao",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","campo",3,"selectionChange"],["appearance","outline",1,"column-span-2"],["matInput","","formControlName","filtro","oninput","this.value = this.value.toUpperCase()"],[1,"content",3,"itemSize"],[1,"Browse-Scroll"],[1,"coluna-cabec"],[4,"cdkVirtualFor","cdkVirtualForOf"],[3,"value"],["class","blue-icon",3,"inline",4,"ngIf"],[3,"inline","CorStatusProj","nivel",4,"ngIf"],[1,"Browse_Lanc_td"],[1,"acoes"],[3,"BARRA_VERTICAL","BARRA_FINANCEIRO","ALTERAR","EXCLUIR","BARRA_DASHBOARDV1","changeOpcao"],[1,"blue-icon",3,"inline"],[3,"inline","CorStatusProj","nivel"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-toolbar"),t.TgZ(2,"span",1),t._uU(3,"Contratos: "),t.qZA(),t.TgZ(4,"app-navegator",2),t.NdJ("changePage",function(){return a.onChangePage()}),t.qZA(),t.TgZ(5,"button",3),t.NdJ("click",function(){return a.getProjetosContador()}),t.TgZ(6,"mat-icon"),t._uU(7,"rotate_right"),t.qZA(),t.qZA(),t.TgZ(8,"button",4),t.NdJ("click",function(){return a.onSaveConfig()}),t.TgZ(9,"mat-icon"),t._uU(10,"brightness_high"),t.qZA(),t.qZA(),t.TgZ(11,"button",5),t.NdJ("click",function(){return a.onHome()}),t.TgZ(12,"mat-icon"),t._uU(13,"home"),t.qZA(),t.qZA(),t.TgZ(14,"button",6),t.NdJ("click",function(){return a.escolha(a.getAcoes().Inclusao)}),t.TgZ(15,"mat-icon"),t._uU(16,"add_circle_outline"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",7),t.TgZ(18,"form",8),t.TgZ(19,"mat-form-field",9),t.TgZ(20,"mat-label"),t._uU(21,"Ordena\xe7\xe3o"),t.qZA(),t.TgZ(22,"mat-select",10),t.NdJ("selectionChange",function(){return a.onChangeParametros()}),t.YNc(23,xt,2,2,"mat-option",11),t.qZA(),t.qZA(),t.TgZ(24,"mat-form-field",9),t.TgZ(25,"mat-label"),t._uU(26,"Pesquisar Por"),t.qZA(),t.TgZ(27,"mat-select",12),t.NdJ("selectionChange",function(){return a.onChangeParametros()}),t.YNc(28,Tt,2,2,"mat-option",11),t.qZA(),t.qZA(),t.TgZ(29,"mat-form-field",13),t.TgZ(30,"mat-label"),t._uU(31,"Descri\xe7\xe3o"),t.qZA(),t._UZ(32,"input",14),t.qZA(),t.qZA(),t.qZA(),t.TgZ(33,"cdk-virtual-scroll-viewport",15),t.TgZ(34,"table",16),t.TgZ(35,"tr",17),t.TgZ(36,"th"),t._uU(37,"SIT"),t.qZA(),t.TgZ(38,"th"),t._uU(39,"C\xf3digo"),t.qZA(),t.TgZ(40,"th"),t._uU(41,"Tipo/Tem Atividade"),t.qZA(),t.TgZ(42,"th"),t._uU(43,"Descri\xe7\xe3o/Cliente"),t.qZA(),t.TgZ(44,"th"),t._uU(45,"Diretor"),t.qZA(),t.TgZ(46,"th"),t._uU(47,"DT Cont./DT Enc."),t.qZA(),t.TgZ(48,"th"),t._uU(49,"Situacao"),t.qZA(),t.TgZ(50,"th"),t._uU(51,"A\xc7\xd5ES"),t.qZA(),t.qZA(),t.YNc(52,Pt,45,23,"tr",18),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.Q6J("controle",a.controlePaginas),t.xp6(14),t.Q6J("formGroup",a.parametros),t.xp6(5),t.Q6J("ngForOf",a.opcoesOrdenacao),t.xp6(5),t.Q6J("ngForOf",a.opcoesCampo),t.xp6(5),t.Q6J("itemSize",50),t.xp6(19),t.Q6J("cdkVirtualForOf",a.projetos))},directives:[O.Ye,bt.J,x.lW,U.gM,T.Hw,l._Y,l.JL,l.sg,f.KE,f.hX,J.gD,l.JJ,l.u,_.sg,k.Nt,l.Fj,C.N7,C.xd,C.x0,F.ey,_.O5,rt.C,nt],pipes:[tt.z,st.T,At],styles:['.content[_ngcontent-%COMP%]{height:60%;overflow:auto}.Browse-Scroll[_ngcontent-%COMP%]{border-collapse:collapse;margin-left:auto;margin-right:auto;width:100%;height:inherit}td[_ngcontent-%COMP%]{font-size:small;color:#00f;font-family:"Times New Roman",Times,serif}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2aa}tr[_ngcontent-%COMP%]:hover{background-color:#caa99d}.acoes[_ngcontent-%COMP%]{color:#8b0000;width:100px}.go-up[_ngcontent-%COMP%]{margin-top:-10px}']}),o})();var P=c(8239),ct=c(6746),L=c(6468),b=c(3525),v=c(2238);class dt{constructor(){this.titulo="",this.texto="",this.titulo_data1="Data Inicial:",this.dataInicial=(0,u.zp)(new Date),this.titulo_data2="Data Final:",this.dataFinal=(0,u.zp)(new Date),this.processar=!1,this.justificativa="",this.dataHota=new Date,this.usuarioNome="",this.temJustificativa=!0}}var V=c(9267),Y=c(3220);function jt(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(e.getMensafield("justificativa"))}}function St(o,n){if(1&o&&(t.TgZ(0,"mat-form-field",15),t.TgZ(1,"mat-label"),t._uU(2,"Justificativa"),t.qZA(),t._UZ(3,"textarea",16),t.YNc(4,jt,2,1,"mat-error",17),t.qZA()),2&o){const e=t.oxw();let a;t.xp6(4),t.Q6J("ngIf","INVALID"==(null==(a=e.formulario.get("justificativa"))?null:a.status)&&e.touchedOrDirty("justificativa"))}}function Ot(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){return t.CHM(e),t.oxw().actionFunction()}),t.TgZ(1,"mat-icon"),t._uU(2,"check"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Gravar"),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("mat-dialog-close",e.data)}}let ut=(()=>{class o{constructor(e,a,i){this.formBuilder=e,this.dialogRef=a,this.data=i,this.formulario=e.group({dataInicial:[],dataFinal:[],justificativa:[{value:""},[(0,V.S)(5,200,i.temJustificativa)]]})}ngOnInit(){this.setValue()}setValue(){this.formulario.setValue({dataInicial:this.data.dataInicial,dataFinal:this.data.dataFinal,justificativa:this.data.justificativa})}actionFunction(){this.data.processar=!0,this.data.dataInicial=this.formulario.value.dataInicial,this.data.dataFinal=this.formulario.value.dataFinal,this.data.temJustificativa&&(this.data.justificativa=this.formulario.value.justificativa),this.closeModal()}closeModal(){this.dialogRef.close()}touchedOrDirty(e){var a,i;return!(!(null===(a=this.formulario.get(e))||void 0===a?void 0:a.touched)&&!(null===(i=this.formulario.get(e))||void 0===i?void 0:i.dirty))}getValidfield(e){var a,i;return(null===(i=null===(a=this.formulario.get(e))||void 0===a?void 0:a.errors)||void 0===i?void 0:i.ValidatorStringLen)&&this.touchedOrDirty(e)}getMensafield(e){var a,i;return null===(i=null===(a=this.formulario.get(e))||void 0===a?void 0:a.errors)||void 0===i?void 0:i.message}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.qu),t.Y36(v.so),t.Y36(v.WI))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-periodo-dialog"]],decls:33,vars:15,consts:[["autocomplete","off",3,"formGroup"],[1,"col-med-2"],["appearance","outline",1,"col-max"],["matInput","","formControlName","dataInicial",3,"matDatepicker"],["matSuffix","",3,"for"],["inicialDatePicker",""],["matInput","","formControlName","dataFinal",3,"matDatepicker"],["finalDatePicker",""],["class","full-width","appearance","outline",4,"ngIf"],[1,"button-container-right"],["mat-raised-button","","color","accent","cdkFocusInitial","",3,"click"],["mat-raised-button","","color","primary",3,"mat-dialog-close","click",4,"ngIf"],[1,"button-container-left"],["color","accent"],["color","primary"],["appearance","outline",1,"full-width"],["matInput","","formControlName","justificativa","oninput","this.value = this.value.toUpperCase()"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"mat-dialog-close","click"]],template:function(e,a){if(1&e&&(t.TgZ(0,"h1"),t._uU(1),t.qZA(),t.TgZ(2,"form",0),t.TgZ(3,"div",1),t.TgZ(4,"mat-form-field",2),t.TgZ(5,"mat-label"),t._uU(6),t.qZA(),t._UZ(7,"input",3),t._UZ(8,"mat-datepicker-toggle",4),t._UZ(9,"mat-datepicker",null,5),t.qZA(),t.TgZ(11,"mat-form-field",2),t.TgZ(12,"mat-label"),t._uU(13),t.qZA(),t._UZ(14,"input",6),t._UZ(15,"mat-datepicker-toggle",4),t._UZ(16,"mat-datepicker",null,7),t.qZA(),t.qZA(),t.YNc(18,St,5,1,"mat-form-field",8),t.TgZ(19,"div",9),t.TgZ(20,"button",10),t.NdJ("click",function(){return a.closeModal()}),t.TgZ(21,"mat-icon"),t._uU(22,"cancel"),t.qZA(),t.TgZ(23,"span"),t._uU(24,"Cancelar"),t.qZA(),t.qZA(),t.YNc(25,Ot,5,1,"button",11),t.qZA(),t.TgZ(26,"div",12),t.TgZ(27,"mat-label",13),t._uU(28),t.ALo(29,"date"),t.qZA(),t.qZA(),t.TgZ(30,"div",12),t.TgZ(31,"mat-label",14),t._uU(32),t.qZA(),t.qZA(),t.qZA()),2&e){const i=t.MAs(10),r=t.MAs(17);t.xp6(1),t.Oqu(a.data.titulo),t.xp6(1),t.Q6J("formGroup",a.formulario),t.xp6(4),t.Oqu(a.data.titulo_data1),t.xp6(1),t.Q6J("matDatepicker",i),t.xp6(1),t.Q6J("for",i),t.xp6(5),t.Oqu(a.data.titulo_data2),t.xp6(1),t.Q6J("matDatepicker",r),t.xp6(1),t.Q6J("for",r),t.xp6(3),t.Q6J("ngIf",a.data.temJustificativa),t.xp6(7),t.Q6J("ngIf",a.formulario.valid),t.xp6(3),t.hij("Hora: ",t.xi3(29,12,a.data.dataHota,"dd-MM-yyyy HH:mm:ss"),""),t.xp6(4),t.hij("Respons\xe1vel:",a.data.usuarioNome,"")}},directives:[l._Y,l.JL,l.sg,f.KE,f.hX,k.Nt,l.Fj,Y.hl,l.JJ,l.u,Y.nW,f.R9,Y.Mq,_.O5,x.lW,T.Hw,f.TO,v.ZT],pipes:[_.uU],styles:["h1[_ngcontent-%COMP%]{text-align:left;font-family:Arial,Helvetica,sans-serif;font-size:x-large;color:#00f}.full-width[_ngcontent-%COMP%]{width:100%}"]}),o})();function Ut(o=!1,n=!1){return e=>{let a="",i=!0,r=e.value;if(!o&&null==r)return null;if(o&&null==r)return{ValidatorStringLen:!0,message:"Dado Obrigat\xf3rio"};let s=r.toString(),d=s.split(".").length-1,m=(s.match(/,/g)||[]).length;return d>1||m>1?(a="Valor Inv\xe1lido, Usar Apenas V\xedrgula Na Casa Decimal e N\xe3o Coloque Separador De Milhar.",i=!1):(s=s.replace(".",""),s=s.replace(",","."),isNaN(Number(s))?(a="Valor Inv\xe1lido, Usar Apenas V\xedrgula Na Casa Decimal e N\xe3o Coloque Separador De Milhar",i=!1):0==Number(s)&&!n&&(a="Valor N\xe3o Poder\xe1 Ser Zero!",i=!1)),i?null:{ValidatorCurrency:!0,message:a}}}var B=c(2401),H=c(1209),pt=c(6940),j=c(3935),et=c(5939),G=c(2559);function kt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",34),t.NdJ("click",function(){return t.CHM(e),t.oxw().onSubmit()}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw();t.xp6(1),t.Oqu(e.acao)}}function It(o,n){if(1&o&&(t.TgZ(0,"button",35),t.TgZ(1,"mat-icon"),t._uU(2,"calendar_today"),t.qZA(),t.qZA()),2&o){t.oxw();const e=t.MAs(11);t.Q6J("matMenuTriggerFor",e)}}function Nt(o,n){1&o&&(t.TgZ(0,"mat-icon",36),t._uU(1,"border_color"),t.qZA(),t._uU(2," Auditoria "))}function wt(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw();let a;t.xp6(1),t.hij(" ",null==(a=e.formulario.get("dataprop"))||null==a.errors?null:a.errors.message,"")}}function Et(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw();let a;t.xp6(1),t.hij(" ",null==(a=e.formulario.get("dataproj"))||null==a.errors?null:a.errors.message,"")}}function Dt(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw();let a;t.xp6(1),t.hij(" ",null==(a=e.formulario.get("dataenc"))||null==a.errors?null:a.errors.message,"")}}function yt(o,n){if(1&o&&(t.TgZ(0,"mat-option",40),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.descricao," ")}}function Jt(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Informe O Tipo"),t.qZA())}function Ft(o,n){if(1&o&&(t.TgZ(0,"mat-form-field",37),t.TgZ(1,"mat-label"),t._uU(2,"Tipo"),t.qZA(),t.TgZ(3,"mat-select",38),t.YNc(4,yt,2,2,"mat-option",39),t.qZA(),t.YNc(5,Jt,2,0,"mat-error",17),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.tipo_contratos),t.xp6(1),t.Q6J("ngIf",e.NoValidtouchedOrDirty("tipo"))}}function Yt(o,n){if(1&o&&(t.TgZ(0,"mat-form-field",37),t.TgZ(1,"mat-label"),t._uU(2,"Tipo"),t.qZA(),t._UZ(3,"input",41),t.qZA()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("readonly",e.readOnly)}}function Mt(o,n){if(1&o&&(t.TgZ(0,"mat-option",40),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.descricao," ")}}function Qt(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Informe A Parceira"),t.qZA())}function Vt(o,n){if(1&o&&(t.TgZ(0,"mat-form-field",37),t.TgZ(1,"mat-label"),t._uU(2,"Parceira"),t.qZA(),t.TgZ(3,"mat-select",42),t.YNc(4,Mt,2,2,"mat-option",39),t.qZA(),t.YNc(5,Qt,2,0,"mat-error",17),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.parceiras),t.xp6(1),t.Q6J("ngIf",e.NoValidtouchedOrDirty("parceira"))}}function Rt(o,n){if(1&o&&(t.TgZ(0,"mat-form-field",37),t.TgZ(1,"mat-label"),t._uU(2,"Parceira"),t.qZA(),t._UZ(3,"input",43),t.qZA()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("readonly",e.readOnly)}}function $t(o,n){if(1&o&&(t.TgZ(0,"mat-option",40),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.razao," ")}}function Lt(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Informe O Diretor"),t.qZA())}function Bt(o,n){if(1&o&&(t.TgZ(0,"mat-form-field",37),t.TgZ(1,"mat-label"),t._uU(2,"Diretor"),t.qZA(),t.TgZ(3,"mat-select",44),t.YNc(4,$t,2,2,"mat-option",39),t.qZA(),t.YNc(5,Lt,2,0,"mat-error",17),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.diretores),t.xp6(1),t.Q6J("ngIf",e.NoValidtouchedOrDirty("id_diretor"))}}function Ht(o,n){if(1&o&&(t.TgZ(0,"mat-form-field",37),t.TgZ(1,"mat-label"),t._uU(2,"Diretor"),t.qZA(),t._UZ(3,"input",45),t.qZA()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("readonly",e.readOnly)}}function Gt(o,n){if(1&o&&(t.TgZ(0,"mat-option",40),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.fantasi," ")}}function zt(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Informe O Diretor"),t.qZA())}function Kt(o,n){if(1&o&&(t.TgZ(0,"mat-form-field",37),t.TgZ(1,"mat-label"),t._uU(2,"Cliente"),t.qZA(),t.TgZ(3,"mat-select",46),t.YNc(4,Gt,2,2,"mat-option",39),t.qZA(),t.YNc(5,zt,2,0,"mat-error",17),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.clientes),t.xp6(1),t.Q6J("ngIf",e.NoValidtouchedOrDirty("id_cliente"))}}function Wt(o,n){if(1&o&&(t.TgZ(0,"mat-form-field",37),t.TgZ(1,"mat-label"),t._uU(2,"Cliente"),t.qZA(),t._UZ(3,"input",47),t.qZA()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("readonly",e.readOnly)}}function Xt(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Descri\xe7\xe3o - No m\xednimo 03 letras e no m\xe1ximo 50 letras "),t.qZA())}function te(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw();let a;t.xp6(1),t.hij(" ",null==(a=e.formulario.get("objeto"))||null==a.errors?null:a.errors.message,"")}}function ee(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw();let a;t.xp6(1),t.hij(" ",null==(a=e.formulario.get("observacao"))||null==a.errors?null:a.errors.message,"")}}function ae(o,n){1&o&&(t.TgZ(0,"mat-icon",48),t._uU(1," attach_money"),t.qZA(),t._uU(2," Administrativo "))}function oe(o,n){1&o&&t.YNc(0,ae,3,0,"ng-template",9)}function ie(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Valor M\xednimo 1 Hora"),t.qZA())}function re(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw();let a;t.xp6(1),t.hij(" ",null==(a=e.formulario.get("valor"))||null==a.errors?null:a.errors.message,"")}}function ne(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw();let a;t.xp6(1),t.hij(" ",null==(a=e.formulario.get("assinatura"))||null==a.errors?null:a.errors.message,"")}}function se(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw();let a;t.xp6(1),t.hij(" ",null==(a=e.formulario.get("reajuste"))||null==a.errors?null:a.errors.message,"")}}let le=(()=>{class o{constructor(e,a,i,r,s,d,m,h,g,E,W){this.decimalPipe=e,this.formBuilder=a,this.projetosService=i,this.usuariosService=r,this.clientesService=s,this.globalService=d,this.route=m,this.router=h,this.justificaticaPeriodoDialog=g,this.appSnackBar=E,this.situacaoProjetoPipe=W,this.projeto=new b.w,this.diretores=[],this.clientes=[],this.acao="Sem Defini\xe7\xe3o",this.idAcao=p.I.Inclusao,this.readOnly=!0,this.parceiras=[],this.tipo_contratos=[],this.labelCadastro="",this.formulario=a.group({id:[{value:"",disabled:!0}],tipo:[{value:0},[l.kI.required,l.kI.min(1)]],tipo_descricao:[{value:""}],parceira:[{value:0},[l.kI.required,l.kI.min(1)]],parceira_descricao:[{value:""}],descricao:[{value:""},[l.kI.required,l.kI.minLength(3),l.kI.maxLength(50)]],id_diretor:[{value:0},[l.kI.required,l.kI.min(1)]],diretor_razao:[],id_cliente:[{value:0},[l.kI.required,l.kI.min(1)]],cliente_razao:[],dataprop:[{value:""},[(0,B.K)(!0)]],dataproj:[],dataenc:[],horasve:[{value:""},[l.kI.required,l.kI.min(1)]],horasplan:[],horasexec:[],horasdir:[],objeto:[{value:""},[(0,V.S)(0,200,!1)]],observacao:[{value:""},[(0,V.S)(0,250,!1)]],valor:[{value:""},[Ut(!1,!0)]],id_contrato:[],assinatura:[],reajuste:[],status:[]}),this.projeto=new b.w,this.parceiras=this.globalService.lsParceiras,this.tipo_contratos=this.globalService.lsTpoContratos,this.inscricaoRota=m.params.subscribe(Q=>{this.projeto.id_empresa=Q.id_empresa,this.projeto.id=Q.id,this.idAcao=Q.acao,this.setAcao(Q.acao),this.load()})}ngOnInit(){this.idAcao==p.I.Inclusao?(this.projeto=new b.w,this.projeto.id_empresa=1,this.setValue()):this.getProjeto()}ngOnDestroy(){var e,a,i,r,s;null===(e=this.inscricaoGet)||void 0===e||e.unsubscribe(),null===(a=this.inscricaoRota)||void 0===a||a.unsubscribe(),null===(i=this.inscricaoAcao)||void 0===i||i.unsubscribe(),null===(r=this.inscricaoGetDiretor)||void 0===r||r.unsubscribe(),null===(s=this.inscricaoGetClientes)||void 0===s||s.unsubscribe()}onSubmit(){this.formulario.valid||this.idAcao==p.I.Exclusao?this.executaAcao():(this.formulario.markAllAsTouched(),this.appSnackBar.openSuccessSnackBar("Formul\xe1rio Com Campos Inv\xe1lidos.","OK"))}onRetorno(){const e=this.globalService.estadoFind("projeto");if(null!=e){let a=e.getParametro();Object(a).new=this.idAcao==p.I.Inclusao,Object(a).id_retorno=this.projeto.id,e.parametro=JSON.stringify(a),this.globalService.estadoSave(e)}this.router.navigate(["/projetos/projetos","SIM"])}onCancel(){const e=this.globalService.estadoFind("projeto");if(null!=e){let a=e.getParametro();Object(a).new=!1,Object(a).id_retorno=this.idAcao==p.I.Consulta?this.projeto.id:0,e.parametro=JSON.stringify(a),this.globalService.estadoSave(e)}this.router.navigate(["/projetos/projetos","SIM"])}getProjeto(){this.inscricaoGet=this.projetosService.getProjeto(this.projeto.id_empresa,this.projeto.id).subscribe(e=>{this.projeto=e,this.setValue()},e=>{this.appSnackBar.openFailureSnackBar(`Pesquisa No Cadastro De Projetos ${(0,u.bZ)(e)}`,"OK")})}setValue(){let e="";this.parceiras.forEach(i=>{i.id==this.projeto.id_parceira&&(e=i.descricao)});let a="";this.tipo_contratos.forEach(i=>{i.id==this.projeto.id_tipo&&(a=i.descricao)}),this.formulario.setValue({id:this.projeto.id,tipo:this.projeto.id_tipo,tipo_descricao:a,parceira:this.projeto.id_parceira,parceira_descricao:e,descricao:this.projeto.descricao,id_diretor:this.projeto.id_diretor,diretor_razao:this.idAcao==p.I.Consulta||this.idAcao==p.I.Exclusao?this.projeto.diretor_razao:"",id_cliente:this.projeto.id_cliente,cliente_razao:this.idAcao==p.I.Consulta||this.idAcao==p.I.Exclusao?this.projeto.cliente_razao:"",dataprop:this.projeto.dataprop,dataproj:this.projeto.dataproj,dataenc:this.projeto.dataenc,horasve:this.projeto.horasve,objeto:this.projeto.objeto,observacao:this.projeto.obs,valor:this.decimalPipe.transform(this.projeto.valor,"1.2-2"),id_contrato:this.projeto.id_contrato,assinatura:this.projeto.assinatura,reajuste:this.projeto.reajuste,horasplan:(0,u.Nm)(this.projeto.horasplan),horasexec:(0,u.Nm)(this.projeto.horasexec),horasdir:(0,u.Nm)(this.projeto.horasdir),status:this.situacaoProjetoPipe.transform(this.projeto.status)})}getLabelCancel(){return this.idAcao==p.I.Consulta?"Voltar":"Cancelar"}setAcao(e){switch(+e){case p.I.Inclusao:this.acao="Gravar",this.labelCadastro="Projetos - Inclus\xe3o.",this.readOnly=!1;break;case p.I.Edicao:this.acao="Gravar",this.labelCadastro="Projetos - Altera\xe7\xe3o.",this.readOnly=!1;break;case p.I.Consulta:this.acao="Voltar",this.labelCadastro="Projetos - Consulta.",this.readOnly=!0;break;case p.I.Exclusao:this.acao="Excluir",this.labelCadastro="Projetos - Exclus\xe3o.",this.readOnly=!0}}executaAcao(){var e=this;let a=this.formulario.value.valor.toString();if(a=a.replace(".",""),a=a.replace(",","."),isNaN(Number(a)))return void alert("Valor Do Contrato Inv\xe1lido!");const i=Number(a);switch(this.projeto.id_tipo=this.formulario.value.tipo,this.projeto.id_parceira=this.formulario.value.parceira,this.projeto.descricao=this.formulario.value.descricao,this.projeto.id_diretor=this.formulario.value.id_diretor,this.projeto.id_cliente=this.formulario.value.id_cliente,this.projeto.dataprop=this.formulario.value.dataprop,this.projeto.dataproj=this.formulario.value.dataproj,this.projeto.dataenc=this.formulario.value.dataenc,this.projeto.horasve=this.formulario.value.horasve,this.projeto.objeto=this.formulario.value.objeto,this.projeto.obs=this.formulario.value.observacao,this.projeto.valor=i,this.projeto.id_contrato=this.formulario.value.id_contrato,this.projeto.assinatura=this.formulario.value.assinatura,this.projeto.reajuste=this.formulario.value.reajuste,+this.idAcao){case p.I.Inclusao:this.projeto.user_insert=this.globalService.getUsuario().id,this.inscricaoAcao=this.projetosService.ProjetoInsert(this.projeto).subscribe(function(){var r=(0,P.Z)(function*(s){e.projeto.id=s.id,e.onRetorno()});return function(s){return r.apply(this,arguments)}}(),r=>{this.appSnackBar.openFailureSnackBar(`Erro Na INclus\xe3o ${r.error.tabela} - ${r.error.erro} - ${r.error.message}`,"OK")});break;case p.I.Edicao:this.projeto.user_update=this.globalService.getUsuario().id,this.inscricaoAcao=this.projetosService.ProjetoUpdate(this.projeto).subscribe(function(){var r=(0,P.Z)(function*(s){e.onRetorno()});return function(s){return r.apply(this,arguments)}}(),r=>{this.appSnackBar.openFailureSnackBar(`Erro Na Altera\xe7\xe3o ${r.error.tabela} - ${r.error.erro} - ${r.error.message}`,"OK")});break;case p.I.Exclusao:this.inscricaoAcao=this.projetosService.ProjetoDelete(this.projeto.id_empresa,this.projeto.id).subscribe(function(){var r=(0,P.Z)(function*(s){e.onRetorno()});return function(s){return r.apply(this,arguments)}}(),r=>{this.appSnackBar.openFailureSnackBar(`Erro Na Exclusao ${r.error.tabela} - ${r.error.erro} - ${r.error.message}`,"OK")})}}getAcoes(){return p.I}NoValidtouchedOrDirty(e){var a,i,r;return!((null===(a=this.formulario.get(e))||void 0===a?void 0:a.valid)||!(null===(i=this.formulario.get(e))||void 0===i?void 0:i.touched)&&!(null===(r=this.formulario.get(e))||void 0===r?void 0:r.dirty))}load(){let e=new L.w;e.id_empresa=1,e.grupo=this.usuariosService.getGruposDiretoria(),e.orderby="Grupo",this.inscricaoGetDiretor=this.usuariosService.getusuarios_01(e).subscribe(i=>{this.diretores=i},i=>{this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Usu\xe1rios ${i.error.tabela} - ${i.error.erro} - ${i.error.message}`,"OK")});let a=new ct.j;a.id_empresa=1,a.orderby="Fantasia",this.inscricaoGetClientes=this.clientesService.getClientes_01(a).subscribe(i=>{this.clientes=i},i=>{this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Clientes ${i.error.tabela} - ${i.error.erro} - ${i.error.message}`,"OK")})}openJustficativaPeriodoDialog(){const e=new dt;e.titulo="ALTERA\xc7\xc3O DO PER\xcdDO",e.titulo_data1="Data Do Contrato",e.dataInicial=this.projeto.dataproj,e.titulo_data2="Data Do Encerramento",e.dataFinal=this.projeto.dataenc,e.justificativa="",e.dataHota=new Date,e.usuarioNome=this.globalService.getNomeusuarioLogado();const a=new v.vA;a.disableClose=!0,a.id="question",a.width="600px",a.data=e,this.justificaticaPeriodoDialog.open(ut,a).beforeClosed().subscribe(r=>{void 0!==r&&r.processar&&(this.formulario.patchValue({dataproj:r.dataInicial}),this.formulario.patchValue({dataenc:r.dataFinal}),this.onSubmit())})}onDataPeriodo(){this.openJustficativaPeriodoDialog()}isDirAdm(){return this.globalService.okDirAdm()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(_.JJ),t.Y36(l.qu),t.Y36(A.T),t.Y36(H.J),t.Y36(pt.Y),t.Y36(q.U),t.Y36(Z.gz),t.Y36(Z.F0),t.Y36(v.uw),t.Y36(S.W),t.Y36(st.T))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-projeto-view"]],features:[t._Bn([_.JJ])],decls:120,vars:39,consts:[[1,"div-barra"],[1,"example-spacer"],[1,"button-container-right"],["type","submit","mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],["mat-icon-button","","aria-label","Example icon-button with a menu","matTooltip","Manuten\xe7\xe3o Datas","matTooltipPosition","above",3,"matMenuTriggerFor",4,"ngIf"],["menu","matMenu"],["mat-menu-item","",3,"click"],["autocomplete","off",3,"formGroup"],["mat-tab-label",""],[1,"moldura"],[1,"col-med-2"],["appearance","outline",1,"col-max"],["matInput","","formControlName","id"],["matInput","","formControlName","status",3,"readonly"],[1,"col-med-3"],["matInput","","formControlName","dataprop","mask","00/00/0000","placeholder","dd/mm/aaaa",3,"readonly"],[4,"ngIf"],["matInput","","formControlName","dataproj","mask","00/00/0000","placeholder","dd/mm/aaaa",3,"readonly"],["matInput","","formControlName","dataenc","mask","00/00/0000","placeholder","dd/mm/aaaa",3,"readonly"],["field","","appearance","outline","class","col-max",4,"ngIf"],[1,"col-med-1"],["matInput","","formControlName","descricao","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","objeto","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","observacao","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","horasplan",3,"readonly"],["matInput","","formControlName","horasexec",3,"readonly"],["matInput","","formControlName","horasdir",3,"readonly"],["matInput","","formControlName","horasve",3,"readonly"],["matInput","","formControlName","valor",3,"readonly"],["matInput","","formControlName","id_contrato",3,"readonly"],["matSuffix","","mat-icon-button","","aria-label","Clear"],["matInput","","formControlName","assinatura","mask","00/00/0000","placeholder","dd/mm/aaaa",3,"readonly"],["matInput","","formControlName","reajuste","mask","00/00/0000","placeholder","dd/mm/aaaa",3,"readonly"],["type","submit","mat-raised-button","","color","primary",3,"click"],["mat-icon-button","","aria-label","Example icon-button with a menu","matTooltip","Manuten\xe7\xe3o Datas","matTooltipPosition","above",3,"matMenuTriggerFor"],[1,"example-tab-icon","red-icon"],["field","","appearance","outline",1,"col-max"],["formControlName","tipo"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","","formControlName","tipo_descricao",3,"readonly"],["formControlName","parceira"],["matInput","","formControlName","parceira_descricao",3,"readonly"],["formControlName","id_diretor"],["matInput","","formControlName","diretor_razao",3,"readonly"],["formControlName","id_cliente"],["matInput","","formControlName","cliente_razao",3,"readonly"],[1,"example-tab-icon","blue-icon"]],template:function(e,a){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-toolbar"),t.TgZ(2,"span",1),t.TgZ(3,"mat-label"),t._uU(4),t.qZA(),t.qZA(),t.TgZ(5,"div",2),t.YNc(6,kt,2,1,"button",3),t.TgZ(7,"button",4),t.NdJ("click",function(){return a.onCancel()}),t._uU(8),t.qZA(),t.qZA(),t.YNc(9,It,3,1,"button",5),t.TgZ(10,"mat-menu",null,6),t.TgZ(12,"button",7),t.NdJ("click",function(){return a.onDataPeriodo()}),t.TgZ(13,"mat-icon"),t._uU(14,"calendar_view_day"),t.qZA(),t.TgZ(15,"span"),t._uU(16,"Per\xedodo Do Contrato"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"form",8),t.TgZ(18,"div"),t.TgZ(19,"mat-tab-group"),t.TgZ(20,"mat-tab"),t.YNc(21,Nt,3,0,"ng-template",9),t.TgZ(22,"div",10),t.TgZ(23,"div",11),t.TgZ(24,"mat-form-field",12),t.TgZ(25,"mat-label"),t._uU(26,"C\xf3digo"),t.qZA(),t._UZ(27,"input",13),t.qZA(),t.TgZ(28,"mat-form-field",12),t.TgZ(29,"mat-label"),t._uU(30,"Situa\xe7\xe3o"),t.qZA(),t._UZ(31,"input",14),t.qZA(),t.qZA(),t.TgZ(32,"div",15),t.TgZ(33,"mat-form-field",12),t.TgZ(34,"mat-label"),t._uU(35,"Data Proposta"),t.qZA(),t._UZ(36,"input",16),t.YNc(37,wt,2,1,"mat-error",17),t.qZA(),t.TgZ(38,"mat-form-field",12),t.TgZ(39,"mat-label"),t._uU(40,"Data Contrato"),t.qZA(),t._UZ(41,"input",18),t.YNc(42,Et,2,1,"mat-error",17),t.qZA(),t.TgZ(43,"mat-form-field",12),t.TgZ(44,"mat-label"),t._uU(45,"Data Encerramento"),t.qZA(),t._UZ(46,"input",19),t.YNc(47,Dt,2,1,"mat-error",17),t.qZA(),t.qZA(),t.TgZ(48,"div",11),t.YNc(49,Ft,6,2,"mat-form-field",20),t.YNc(50,Yt,4,1,"mat-form-field",20),t.YNc(51,Vt,6,2,"mat-form-field",20),t.YNc(52,Rt,4,1,"mat-form-field",20),t.qZA(),t.TgZ(53,"div",11),t.YNc(54,Bt,6,2,"mat-form-field",20),t.YNc(55,Ht,4,1,"mat-form-field",20),t.YNc(56,Kt,6,2,"mat-form-field",20),t.YNc(57,Wt,4,1,"mat-form-field",20),t.qZA(),t.TgZ(58,"div",21),t.TgZ(59,"mat-form-field",12),t.TgZ(60,"mat-label"),t._uU(61,"Descri\xe7\xe3o"),t.qZA(),t._UZ(62,"input",22),t.YNc(63,Xt,2,0,"mat-error",17),t.qZA(),t.qZA(),t.TgZ(64,"div",11),t.TgZ(65,"mat-form-field",12),t.TgZ(66,"mat-label"),t._uU(67,"Objeto"),t.qZA(),t._UZ(68,"input",23),t.YNc(69,te,2,1,"mat-error",17),t.qZA(),t.TgZ(70,"mat-form-field",12),t.TgZ(71,"mat-label"),t._uU(72,"Observa\xe7\xe3o"),t.qZA(),t._UZ(73,"input",24),t.YNc(74,ee,2,1,"mat-error",17),t.qZA(),t.qZA(),t.TgZ(75,"div",15),t.TgZ(76,"mat-form-field",12),t.TgZ(77,"mat-label"),t._uU(78,"Horas Planejadas"),t.qZA(),t._UZ(79,"input",25),t.qZA(),t.TgZ(80,"mat-form-field",12),t.TgZ(81,"mat-label"),t._uU(82,"Horas Executadas"),t.qZA(),t._UZ(83,"input",26),t.qZA(),t.TgZ(84,"mat-form-field",12),t.TgZ(85,"mat-label"),t._uU(86,"Horas Diretoria"),t.qZA(),t._UZ(87,"input",27),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(88,"mat-tab"),t.YNc(89,oe,1,0,void 0,17),t.TgZ(90,"div",10),t.TgZ(91,"div",15),t.TgZ(92,"mat-form-field",12),t.TgZ(93,"mat-label"),t._uU(94,"Horas Vendidas"),t.qZA(),t._UZ(95,"input",28),t.YNc(96,ie,2,0,"mat-error",17),t.qZA(),t.TgZ(97,"mat-form-field",12),t.TgZ(98,"mat-label"),t._uU(99,"Valor"),t.qZA(),t._UZ(100,"input",29),t.YNc(101,re,2,1,"mat-error",17),t.qZA(),t.TgZ(102,"mat-form-field",12),t.TgZ(103,"mat-label"),t._uU(104,"Contrato"),t.qZA(),t._UZ(105,"input",30),t.TgZ(106,"button",31),t.TgZ(107,"mat-icon"),t._uU(108,"close"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(109,"div",11),t.TgZ(110,"mat-form-field",12),t.TgZ(111,"mat-label"),t._uU(112,"Data Assinatura"),t.qZA(),t._UZ(113,"input",32),t.YNc(114,ne,2,1,"mat-error",17),t.qZA(),t.TgZ(115,"mat-form-field",12),t.TgZ(116,"mat-label"),t._uU(117,"Data Reajuste"),t.qZA(),t._UZ(118,"input",33),t.YNc(119,se,2,1,"mat-error",17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){let i,r,s,d,m,h,g,E;t.xp6(4),t.Oqu(a.labelCadastro),t.xp6(2),t.Q6J("ngIf",3!=a.idAcao),t.xp6(2),t.Oqu(a.getLabelCancel()),t.xp6(1),t.Q6J("ngIf",a.idAcao==a.getAcoes().Edicao),t.xp6(8),t.Q6J("formGroup",a.formulario),t.xp6(14),t.Q6J("readonly",a.readOnly),t.xp6(5),t.Q6J("readonly",a.readOnly),t.xp6(1),t.Q6J("ngIf",(null==(i=a.formulario.get("dataprop"))||null==i.errors?null:i.errors.ValidatorDate)&&a.NoValidtouchedOrDirty("dataprop")),t.xp6(4),t.Q6J("readonly",a.readOnly),t.xp6(1),t.Q6J("ngIf",(null==(r=a.formulario.get("dataproj"))||null==r.errors?null:r.errors.ValidatorDate)&&a.NoValidtouchedOrDirty("dataproj")),t.xp6(4),t.Q6J("readonly",a.readOnly),t.xp6(1),t.Q6J("ngIf",(null==(s=a.formulario.get("dataenc"))||null==s.errors?null:s.errors.ValidatorDate)&&a.NoValidtouchedOrDirty("dataenc")),t.xp6(2),t.Q6J("ngIf",a.idAcao!=a.getAcoes().Consulta&&a.idAcao!=a.getAcoes().Exclusao),t.xp6(1),t.Q6J("ngIf",a.idAcao==a.getAcoes().Consulta||a.idAcao==a.getAcoes().Exclusao),t.xp6(1),t.Q6J("ngIf",a.idAcao!=a.getAcoes().Consulta&&a.idAcao!=a.getAcoes().Exclusao),t.xp6(1),t.Q6J("ngIf",a.idAcao==a.getAcoes().Consulta||a.idAcao==a.getAcoes().Exclusao),t.xp6(2),t.Q6J("ngIf",a.idAcao!=a.getAcoes().Consulta&&a.idAcao!=a.getAcoes().Exclusao),t.xp6(1),t.Q6J("ngIf",a.idAcao==a.getAcoes().Consulta||a.idAcao==a.getAcoes().Exclusao),t.xp6(1),t.Q6J("ngIf",a.idAcao!=a.getAcoes().Consulta&&a.idAcao!=a.getAcoes().Exclusao),t.xp6(1),t.Q6J("ngIf",a.idAcao==a.getAcoes().Consulta||a.idAcao==a.getAcoes().Exclusao),t.xp6(5),t.Q6J("readonly",a.readOnly),t.xp6(1),t.Q6J("ngIf",a.NoValidtouchedOrDirty("descricao")),t.xp6(5),t.Q6J("readonly",a.readOnly),t.xp6(1),t.Q6J("ngIf",(null==(d=a.formulario.get("objeto"))||null==d.errors?null:d.errors.ValidatorStringLen)&&a.NoValidtouchedOrDirty("objeto")),t.xp6(4),t.Q6J("readonly",a.readOnly),t.xp6(1),t.Q6J("ngIf",(null==(m=a.formulario.get("observacao"))||null==m.errors?null:m.errors.ValidatorStringLen)&&a.NoValidtouchedOrDirty("observacao")),t.xp6(5),t.Q6J("readonly",!0),t.xp6(4),t.Q6J("readonly",!0),t.xp6(4),t.Q6J("readonly",!0),t.xp6(2),t.Q6J("ngIf",a.isDirAdm()),t.xp6(6),t.Q6J("readonly",a.readOnly),t.xp6(1),t.Q6J("ngIf",a.NoValidtouchedOrDirty("horasve")),t.xp6(4),t.Q6J("readonly",a.readOnly),t.xp6(1),t.Q6J("ngIf",(null==(h=a.formulario.get("valor"))||null==h.errors?null:h.errors.ValidatorCurrency)&&a.NoValidtouchedOrDirty("valor")),t.xp6(4),t.Q6J("readonly",!0),t.xp6(8),t.Q6J("readonly",a.readOnly),t.xp6(1),t.Q6J("ngIf",(null==(g=a.formulario.get("assinatura"))||null==g.errors?null:g.errors.ValidatorDate)&&a.NoValidtouchedOrDirty("assinatura")),t.xp6(4),t.Q6J("readonly",a.readOnly),t.xp6(1),t.Q6J("ngIf",(null==(E=a.formulario.get("reajuste"))||null==E.errors?null:E.errors.ValidatorDate)&&a.NoValidtouchedOrDirty("reajuste"))}},directives:[O.Ye,f.hX,_.O5,x.lW,j.VK,j.OP,T.Hw,l._Y,l.JL,l.sg,et.SP,et.uX,et.uD,f.KE,k.Nt,l.Fj,l.JJ,l.u,G.hx,f.R9,U.gM,j.p6,f.TO,J.gD,_.sg,F.ey],styles:[".moldura[_ngcontent-%COMP%]{margin-top:5px;width:99%;box-shadow:10px 10px 5px 6px gray}"]}),o})();function ce(o,n){if(1&o&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.razao," ")}}function de(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(e.getMensafield("justificativa"))}}function ue(o,n){if(1&o&&(t.TgZ(0,"mat-form-field",13),t.TgZ(1,"mat-label"),t._uU(2,"Justificativa"),t.qZA(),t._UZ(3,"textarea",14),t.YNc(4,de,2,1,"mat-error",15),t.qZA()),2&o){const e=t.oxw();let a;t.xp6(4),t.Q6J("ngIf","INVALID"==(null==(a=e.formulario.get("justificativa"))?null:a.status)&&e.touchedOrDirty("justificativa"))}}function pe(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){return t.CHM(e),t.oxw().actionFunction()}),t.TgZ(1,"mat-icon"),t._uU(2,"check"),t.qZA(),t._uU(3," Gravar "),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("mat-dialog-close",e.data)}}let me=(()=>{class o{constructor(e,a,i){this.formBuilder=e,this.dialogRef=a,this.data=i,this.formulario=e.group({usuario:[{value:0}],justificativa:[{value:""},[(0,V.S)(5,200,i.temJustificativa)]]})}ngOnInit(){this.setValue()}setValue(){this.formulario.setValue({usuario:this.data.id_usuario,justificativa:this.data.justificativa})}actionFunction(){this.data.processar=!0,this.data.justificativa=this.formulario.value.justificativa,this.closeModal()}closeModal(){this.dialogRef.close()}onChangeUsuario(e){this.data.id_usuario=e.value}touchedOrDirty(e){var a,i;return!(!(null===(a=this.formulario.get(e))||void 0===a?void 0:a.touched)&&!(null===(i=this.formulario.get(e))||void 0===i?void 0:i.dirty))}getValidfield(e){var a,i;return(null===(i=null===(a=this.formulario.get(e))||void 0===a?void 0:a.errors)||void 0===i?void 0:i.ValidatorStringLen)&&this.touchedOrDirty(e)}getMensafield(e){var a,i;return null===(i=null===(a=this.formulario.get(e))||void 0===a?void 0:a.errors)||void 0===i?void 0:i.message}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.qu),t.Y36(v.so),t.Y36(v.WI))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-resp-exec-dialog"]],decls:23,vars:11,consts:[["autocomplete","off",3,"formGroup"],[1,"col-med-1"],["field","","appearance","outline",1,"col-max"],["formControlName","usuario",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","full-width","appearance","outline",4,"ngIf"],[1,"button-container-right"],["mat-raised-button","","color","accent","cdkFocusInitial","",3,"click"],["mat-raised-button","","color","primary",3,"mat-dialog-close","click",4,"ngIf"],[1,"button-container-left"],["color","accent"],["color","primary"],[3,"value"],["appearance","outline",1,"full-width"],["matInput","","formControlName","justificativa","oninput","this.value = this.value.toUpperCase()"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"mat-dialog-close","click"]],template:function(e,a){1&e&&(t.TgZ(0,"h1"),t._uU(1),t.qZA(),t.TgZ(2,"form",0),t.TgZ(3,"div",1),t.TgZ(4,"mat-form-field",2),t.TgZ(5,"mat-label"),t._uU(6),t.qZA(),t.TgZ(7,"mat-select",3),t.NdJ("selectionChange",function(r){return a.onChangeUsuario(r)}),t.YNc(8,ce,2,2,"mat-option",4),t.qZA(),t.qZA(),t.qZA(),t.YNc(9,ue,5,1,"mat-form-field",5),t.TgZ(10,"div",6),t.TgZ(11,"button",7),t.NdJ("click",function(){return a.closeModal()}),t.TgZ(12,"mat-icon"),t._uU(13,"cancel"),t.qZA(),t._uU(14," Cancelar "),t.qZA(),t.YNc(15,pe,4,1,"button",8),t.qZA(),t.TgZ(16,"div",9),t.TgZ(17,"mat-label",10),t._uU(18),t.ALo(19,"date"),t.qZA(),t.qZA(),t.TgZ(20,"div",9),t.TgZ(21,"mat-label",11),t._uU(22),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Oqu(a.data.texto),t.xp6(1),t.Q6J("formGroup",a.formulario),t.xp6(4),t.Oqu(a.data.titulo),t.xp6(2),t.Q6J("ngForOf",a.data.usuarios),t.xp6(1),t.Q6J("ngIf",a.data.temJustificativa),t.xp6(6),t.Q6J("ngIf",a.formulario.valid),t.xp6(3),t.hij("Hora: ",t.xi3(19,8,a.data.dataHota,"dd-MM-yyyy HH:mm:ss"),""),t.xp6(4),t.hij("Respons\xe1vel:",a.data.usuarioNome,""))},directives:[l._Y,l.JL,l.sg,f.KE,f.hX,J.gD,l.JJ,l.u,_.sg,_.O5,x.lW,T.Hw,F.ey,k.Nt,l.Fj,f.TO,v.ZT],pipes:[_.uU],styles:["h1[_ngcontent-%COMP%]{text-align:left;font-family:Arial,Helvetica,sans-serif;font-size:x-large;color:#00f}.full-width[_ngcontent-%COMP%]{width:100%}"]}),o})();var _e=c(4705),he=c(4560);class ge{constructor(){this.executores=[],this.id_resp=-1,this.id_exec=-1,this.desconsiderar_resp=!0,this.desconsiderar_exec=!0,this.processar=!1}}class M{constructor(){this.id_empresa=0,this.id=0,this.id_projeto=0,this.conta="",this.versao="",this.subconta="",this.nivel=0,this.tipo="",this.controle="",this.id_resp=0,this.id_exec=0,this.id_subcliente=0,this.inicial=new Date,this.final=new Date,this.horasplan=0,this.horasexec=0,this.horasdir=0,this.obs="",this.user_insert=0,this.user_update=0,this.descricao_estru="",this.razao_cliente="",this.resp_nome=""}}var at=c(3962),mt=c(7183),z=c(7539);function fe(o,n){if(1&o&&(t.TgZ(0,"mat-option",13),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.razao," ")}}function ve(o,n){if(1&o&&(t.TgZ(0,"mat-option",13),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.razao," ")}}function Ze(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){return t.CHM(e),t.oxw().actionFunction()}),t.TgZ(1,"mat-icon"),t._uU(2,"check"),t.qZA(),t._uU(3," Confirmar "),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("mat-dialog-close",e.data)}}let be=(()=>{class o{constructor(e,a,i){this.formBuilder=e,this.dialogRef=a,this.data=i,this.formulario=e.group({desconsiderar_resp:[{value:""}],id_exec:[{value:""}],desconsiderar_exec:[{value:""}],id_resp:[{value:""}]})}ngOnInit(){this.setValue()}setValue(){this.formulario.setValue({desconsiderar_resp:this.data.desconsiderar_resp,id_resp:this.data.id_resp,desconsiderar_exec:this.data.desconsiderar_exec,id_exec:this.data.id_exec})}actionFunction(){this.data.processar=!0,this.data.id_resp=this.data.id_resp>-1?this.data.id_resp:0,this.data.id_exec=this.data.id_exec>-1?this.data.id_exec:0,this.closeModal()}closeModal(){this.dialogRef.close()}onChangeExecutor(e){this.data.id_exec=e.value,this.formulario.patchValue({desconsiderar_exec:!1})}onChangeResponsavel(e){this.data.id_resp=e.value,this.formulario.patchValue({desconsiderar_resp:!1})}onChangeResp(e){this.data.desconsiderar_resp=e.checked,this.formulario.patchValue({id_resp:-1}),this.data.id_resp=-1}onChangeExec(e){this.data.desconsiderar_exec=e.checked,this.formulario.patchValue({id_exec:-1}),this.data.id_exec=-1}itsOK(){let e=!1,a=!1;return e=!!(this.data.desconsiderar_resp||this.data.id_resp>-1),a=!!(this.data.desconsiderar_exec||this.data.id_exec>-1),e&&a}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.qu),t.Y36(v.so),t.Y36(v.WI))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-resp-audi-dialog"]],decls:28,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],[1,"col-med-1"],["formControlName","desconsiderar_resp",3,"change"],["field","","appearance","outline",1,"col-max"],["formControlName","id_resp",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","desconsiderar_exec",3,"change"],["formControlName","id_exec",3,"selectionChange"],[1,"button-container-right"],["mat-raised-button","","color","accent","cdkFocusInitial","",3,"click"],["mat-raised-button","","color","primary",3,"mat-dialog-close","click",4,"ngIf"],[3,"value"],["mat-raised-button","","color","primary",3,"mat-dialog-close","click"]],template:function(e,a){1&e&&(t.TgZ(0,"h1",0),t._uU(1,"Cadastro de Respons\xe1veis"),t.qZA(),t.TgZ(2,"div",1),t.TgZ(3,"form",2),t.TgZ(4,"div",3),t.TgZ(5,"mat-checkbox",4),t.NdJ("change",function(r){return a.onChangeResp(r)}),t._uU(6,"Desconsiderar"),t.qZA(),t.qZA(),t.TgZ(7,"div",3),t.TgZ(8,"mat-form-field",5),t.TgZ(9,"mat-label"),t._uU(10,"Respon\xe1vel"),t.qZA(),t.TgZ(11,"mat-select",6),t.NdJ("selectionChange",function(r){return a.onChangeResponsavel(r)}),t.YNc(12,fe,2,2,"mat-option",7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",3),t.TgZ(14,"mat-checkbox",8),t.NdJ("change",function(r){return a.onChangeExec(r)}),t._uU(15,"Desconsiderar"),t.qZA(),t.qZA(),t.TgZ(16,"div",3),t.TgZ(17,"mat-form-field",5),t.TgZ(18,"mat-label"),t._uU(19,"Executor"),t.qZA(),t.TgZ(20,"mat-select",9),t.NdJ("selectionChange",function(r){return a.onChangeExecutor(r)}),t.YNc(21,ve,2,2,"mat-option",7),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",10),t.TgZ(23,"button",11),t.NdJ("click",function(){return a.closeModal()}),t.TgZ(24,"mat-icon"),t._uU(25,"cancel"),t.qZA(),t._uU(26," Cancelar "),t.qZA(),t.YNc(27,Ze,4,1,"button",12),t.qZA()),2&e&&(t.xp6(3),t.Q6J("formGroup",a.formulario),t.xp6(9),t.Q6J("ngForOf",a.data.executores),t.xp6(9),t.Q6J("ngForOf",a.data.executores),t.xp6(6),t.Q6J("ngIf",a.itsOK()))},directives:[v.uh,v.xY,l._Y,l.JL,l.sg,z.oG,l.JJ,l.u,f.KE,f.hX,J.gD,_.sg,x.lW,T.Hw,_.O5,F.ey,v.ZT],styles:[""]}),o})();class Ae{constructor(){this.titulo="",this.texto="",this.usuarios=[],this.id_usuario=0,this.processar=!1,this.justificativa="",this.dataHota=new Date,this.usuarioNome="",this.temJustificativa=!0}}class R{constructor(){this.subconta="",this.nivel=0}}var xe=c(4343),$=c(9715),Te=c(1488),K=c(1790);let Ce=(()=>{class o{transform(e){return"0"==e?"N\xe3o Iniciado":"1"==e?"Em Andamento":"2"==e?"Encerrado":"3"==e?"Suspenso":"4"==e?"Cancelado":""}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275pipe=t.Yjl({name:"situacaoAtividadeProjeto",type:o,pure:!0}),o})();function qe(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"section"),t.TgZ(1,"button",6),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA(),t.qZA(),t.TgZ(4,"mat-menu",null,7),t.TgZ(6,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().onHorasDiretoria()}),t.TgZ(7,"mat-icon"),t._uU(8,"assignment"),t.qZA(),t.TgZ(9,"span"),t._uU(10,"Horas Diretoria"),t.qZA(),t.qZA(),t.TgZ(11,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().onManutencaoLote()}),t.TgZ(12,"mat-icon"),t._uU(13,"assignment_ind"),t.qZA(),t.TgZ(14,"span"),t._uU(15,"Manuten\xe7\xe3o Em Lote"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.MAs(5);t.xp6(1),t.Q6J("matMenuTriggerFor",e)}}function Pe(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"section"),t.TgZ(1,"button",9),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA(),t.qZA(),t.TgZ(4,"mat-menu",null,7),t.TgZ(6,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().onPeriodo()}),t.TgZ(7,"mat-icon"),t._uU(8,"assignment"),t.qZA(),t.TgZ(9,"span"),t._uU(10,"Per\xedodo"),t.qZA(),t.qZA(),t.TgZ(11,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().onResponsavel()}),t.TgZ(12,"mat-icon"),t._uU(13,"assignment_ind"),t.qZA(),t.TgZ(14,"span"),t._uU(15,"Respons\xe1vel"),t.qZA(),t.qZA(),t.TgZ(16,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().onExecutor()}),t.TgZ(17,"mat-icon"),t._uU(18,"assignment_ind"),t.qZA(),t.TgZ(19,"span"),t._uU(20,"Executor"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.MAs(5);t.xp6(1),t.Q6J("matMenuTriggerFor",e)}}function je(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){return t.CHM(e),t.oxw().onRetorno()}),t.TgZ(1,"mat-icon"),t._uU(2,"arrow_back"),t.qZA(),t.qZA()}}function Se(o,n){if(1&o&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.razao," ")}}function Oe(o,n){if(1&o&&(t.TgZ(0,"mat-form-field",31),t.TgZ(1,"mat-label"),t._uU(2,"Responsavel"),t.qZA(),t.TgZ(3,"mat-select",32),t.YNc(4,Se,2,2,"mat-option",33),t.qZA(),t.qZA()),2&o){const e=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",e.executores)}}function Ue(o,n){if(1&o&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.razao," ")}}function ke(o,n){if(1&o&&(t.TgZ(0,"mat-form-field",31),t.TgZ(1,"mat-label"),t._uU(2,"Executor"),t.qZA(),t.TgZ(3,"mat-select",35),t.YNc(4,Ue,2,2,"mat-option",33),t.qZA(),t.qZA()),2&o){const e=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",e.executores)}}function Ie(o,n){if(1&o&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.razao," ")}}function Ne(o,n){if(1&o&&(t.TgZ(0,"mat-form-field",31),t.TgZ(1,"mat-label"),t._uU(2,"SubCliente"),t.qZA(),t.TgZ(3,"mat-select",36),t.YNc(4,Ie,2,2,"mat-option",33),t.qZA(),t.qZA()),2&o){const e=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",e.subclientes)}}function we(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);let a;t.xp6(1),t.hij(" ",null==(a=e.formulario.get("obs"))||null==a.errors?null:a.errors.message,"")}}function Ee(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",37),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).onSubmit()}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(e.acao)}}function De(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"form",11),t.TgZ(1,"div",12),t.TgZ(2,"mat-form-field",13),t.TgZ(3,"mat-label"),t._uU(4,"Descricao Da Atividade:"),t.qZA(),t._UZ(5,"input",14),t.qZA(),t.qZA(),t.TgZ(6,"div",15),t.TgZ(7,"mat-form-field",13),t.TgZ(8,"mat-label"),t._uU(9,"Atividade"),t.qZA(),t._UZ(10,"input",16),t.qZA(),t.TgZ(11,"mat-form-field",13),t.TgZ(12,"mat-label"),t._uU(13,"Data Inicial"),t.qZA(),t._UZ(14,"input",17),t._UZ(15,"mat-datepicker-toggle",18),t._UZ(16,"mat-datepicker",null,19),t.qZA(),t.TgZ(18,"mat-form-field",13),t.TgZ(19,"mat-label"),t._uU(20,"Data Final"),t.qZA(),t._UZ(21,"input",20),t._UZ(22,"mat-datepicker-toggle",18),t._UZ(23,"mat-datepicker",null,21),t.qZA(),t.TgZ(25,"mat-form-field",13),t.TgZ(26,"mat-label"),t._uU(27,"Situa\xe7\xe3o"),t.qZA(),t._UZ(28,"input",22),t.qZA(),t.qZA(),t.TgZ(29,"div",23),t.YNc(30,Oe,5,1,"mat-form-field",24),t.YNc(31,ke,5,1,"mat-form-field",24),t.YNc(32,Ne,5,1,"mat-form-field",24),t.qZA(),t.TgZ(33,"div",12),t.TgZ(34,"mat-form-field",25),t.TgZ(35,"mat-label"),t._uU(36,"Observa\xe7\xe3o"),t.qZA(),t._UZ(37,"input",26),t.YNc(38,we,2,1,"mat-error",2),t.qZA(),t.qZA(),t.TgZ(39,"div",27),t.TgZ(40,"div",28),t.YNc(41,Ee,2,1,"button",29),t.TgZ(42,"button",30),t.NdJ("click",function(){return t.CHM(e),t.oxw().onCancel()}),t._uU(43),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.MAs(17),a=t.MAs(24),i=t.oxw();let r;t.Q6J("formGroup",i.formulario),t.xp6(5),t.Q6J("readonly",!0),t.xp6(5),t.Q6J("readonly",!0),t.xp6(4),t.Q6J("matDatepicker",e)("readonly",i.readOnly),t.xp6(1),t.Q6J("for",e),t.xp6(6),t.Q6J("matDatepicker",a)("readonly",i.readOnly),t.xp6(1),t.Q6J("for",a),t.xp6(6),t.Q6J("readonly",!0),t.xp6(2),t.Q6J("ngIf",i.idAcao!=i.getAcoes().Consulta&&i.idAcao!=i.getAcoes().Exclusao),t.xp6(1),t.Q6J("ngIf",i.idAcao!=i.getAcoes().Consulta&&i.idAcao!=i.getAcoes().Exclusao),t.xp6(1),t.Q6J("ngIf",i.idAcao!=i.getAcoes().Consulta&&i.idAcao!=i.getAcoes().Exclusao),t.xp6(5),t.Q6J("readonly",i.readOnly),t.xp6(1),t.Q6J("ngIf",(null==(r=i.formulario.get("obs"))||null==r.errors?null:r.errors.ValidatorStringLen)&&i.touchedOrDirty("obs")),t.xp6(3),t.Q6J("ngIf",3!=i.idAcao),t.xp6(2),t.Oqu(i.getLabelCancel())}}function ye(o,n){if(1&o&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.conta),t.xp6(1),t.AsE(" ",e.subconta,"-",e.descricao," ")}}function Je(o,n){if(1&o&&(t.TgZ(0,"mat-option",34),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.conta),t.xp6(1),t.AsE(" ",e.subconta,"-",e.descricao," ")}}function Fe(o,n){if(1&o&&(t.TgZ(0,"td",49),t._uU(1),t.ALo(2,"subconta"),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.subconta)," ")}}function Ye(o,n){1&o&&(t.TgZ(0,"mat-label",58),t._uU(1,"Horas Diretoria.:"),t.qZA())}function Me(o,n){if(1&o&&(t.TgZ(0,"mat-label",53),t._uU(1),t.ALo(2,"horaSexagenal"),t.qZA()),2&o){const e=t.oxw(3).$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.horasdir))}}function Qe(o,n){if(1&o&&(t.TgZ(0,"div",55),t.TgZ(1,"mat-label",58),t._uU(2,"Horas Pl.:"),t.qZA(),t.TgZ(3,"mat-label",53),t._uU(4),t.ALo(5,"horaSexagenal"),t.qZA(),t.TgZ(6,"mat-label",58),t._uU(7,"Horas Ex.:"),t.qZA(),t.TgZ(8,"mat-label",53),t._uU(9),t.ALo(10,"horaSexagenal"),t.qZA(),t.YNc(11,Ye,2,0,"mat-label",56),t.YNc(12,Me,3,3,"mat-label",57),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(4),t.Oqu(t.lcZ(5,4,e.horasplan)),t.xp6(5),t.Oqu(t.lcZ(10,6,e.horasexec)),t.xp6(2),t.Q6J("ngIf",1==e.nivel),t.xp6(1),t.Q6J("ngIf",1==e.nivel)}}function Ve(o,n){1&o&&(t.TgZ(0,"mat-label",58),t._uU(1,"Status:"),t.qZA())}function Re(o,n){if(1&o&&(t.TgZ(0,"mat-label",53),t._uU(1),t.ALo(2,"situacaoAtividadeProjeto"),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.status)," ")}}function $e(o,n){1&o&&(t.TgZ(0,"mat-label",58),t._uU(1,"Planejamento:"),t.qZA())}function Le(o,n){if(1&o&&(t.TgZ(0,"mat-label",53),t._uU(1),t.ALo(2,"situacaoAtividadeProjeto"),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.status_pl)," ")}}function Be(o,n){1&o&&(t.TgZ(0,"mat-label",58),t._uU(1,"Execu\xe7\xe3o:"),t.qZA())}function He(o,n){if(1&o&&(t.TgZ(0,"mat-label",53),t._uU(1),t.ALo(2,"situacaoAtividadeProjeto"),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.status_ex)," ")}}function Ge(o,n){if(1&o&&(t.TgZ(0,"div",55),t.TgZ(1,"mat-label",58),t._uU(2,"Horas Pl.:"),t.qZA(),t.TgZ(3,"mat-label",53),t._uU(4),t.ALo(5,"horaSexagenal"),t.qZA(),t.TgZ(6,"mat-label",58),t._uU(7,"Horas Ex.:"),t.qZA(),t.TgZ(8,"mat-label",53),t._uU(9),t.ALo(10,"horaSexagenal"),t.qZA(),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(4),t.Oqu(t.lcZ(5,2,e.horasplan)),t.xp6(5),t.Oqu(t.lcZ(10,4,e.horasexec))}}function ze(o,n){if(1&o&&(t.TgZ(0,"div",55),t.TgZ(1,"mat-label",58),t._uU(2,"Status:"),t.qZA(),t.TgZ(3,"mat-label",53),t._uU(4),t.ALo(5,"situacaoAtividadeProjeto"),t.qZA(),t.TgZ(6,"mat-label",58),t._uU(7,"Planejamento:"),t.qZA(),t.TgZ(8,"mat-label",53),t._uU(9),t.ALo(10,"situacaoAtividadeProjeto"),t.qZA(),t.TgZ(11,"mat-label",58),t._uU(12,"Execu\xe7\xe3o:"),t.qZA(),t.TgZ(13,"mat-label",53),t._uU(14),t.ALo(15,"situacaoAtividadeProjeto"),t.qZA(),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(4),t.Oqu(t.lcZ(5,3,e.status)),t.xp6(5),t.Oqu(t.lcZ(10,5,e.status_pl)),t.xp6(5),t.Oqu(t.lcZ(15,7,e.status_ex))}}function Ke(o,n){if(1&o&&(t.TgZ(0,"div",55),t.TgZ(1,"mat-label",58),t._uU(2,"Respons\xe1vel:"),t.qZA(),t.TgZ(3,"mat-label",53),t._uU(4),t.qZA(),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(4),t.Oqu(e.resp_razao)}}function We(o,n){if(1&o&&(t.TgZ(0,"div",55),t.TgZ(1,"mat-label",58),t._uU(2,"Data Inicial:"),t.qZA(),t.TgZ(3,"mat-label",53),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"mat-label",58),t._uU(7,"Data Final:"),t.qZA(),t.TgZ(8,"mat-label",53),t._uU(9),t.ALo(10,"date"),t.qZA(),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(4),t.Oqu(t.xi3(5,2,e.inicial,"dd/MM/yyyy")),t.xp6(5),t.Oqu(t.xi3(10,5,e.final,"dd/MM/yyyy"))}}function Xe(o,n){if(1&o&&(t.TgZ(0,"div",55),t.TgZ(1,"mat-label",58),t._uU(2,"Executor:"),t.qZA(),t.TgZ(3,"mat-label",53),t._uU(4),t.qZA(),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(4),t.Oqu(e.exec_razao)}}function ta(o,n){if(1&o&&(t.TgZ(0,"div",55),t.TgZ(1,"mat-label",58),t._uU(2,"Obs:"),t.qZA(),t.TgZ(3,"mat-label",53),t._uU(4),t.qZA(),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(4),t.Oqu(e.obs)}}function ea(o,n){if(1&o&&(t.TgZ(0,"td",50),t.TgZ(1,"div",51),t._UZ(2,"div",52),t.TgZ(3,"mat-label",53),t._uU(4),t.qZA(),t.qZA(),t.YNc(5,Qe,13,8,"div",54),t.TgZ(6,"div",55),t.YNc(7,Ve,2,0,"mat-label",56),t.YNc(8,Re,3,3,"mat-label",57),t.YNc(9,$e,2,0,"mat-label",56),t.YNc(10,Le,3,3,"mat-label",57),t.YNc(11,Be,2,0,"mat-label",56),t.YNc(12,He,3,3,"mat-label",57),t.qZA(),t.YNc(13,Ge,11,6,"div",54),t.YNc(14,ze,16,9,"div",54),t.YNc(15,Ke,5,1,"div",54),t.YNc(16,We,11,8,"div",54),t.YNc(17,Xe,5,1,"div",54),t.YNc(18,ta,5,1,"div",54),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("CorStatusProj","E")("nivel",e.nivelexec),t.xp6(2),t.Oqu(e.estru_descri),t.xp6(1),t.Q6J("ngIf",1==e.nivel||"S"==e.tipo),t.xp6(2),t.Q6J("ngIf",1==e.nivel),t.xp6(1),t.Q6J("ngIf",1==e.nivel),t.xp6(1),t.Q6J("ngIf",1==e.nivel),t.xp6(1),t.Q6J("ngIf",1==e.nivel),t.xp6(1),t.Q6J("ngIf",1==e.nivel),t.xp6(1),t.Q6J("ngIf",1==e.nivel),t.xp6(1),t.Q6J("ngIf","O"==e.tipo),t.xp6(1),t.Q6J("ngIf","O"==e.tipo||"S"==e.tipo),t.xp6(1),t.Q6J("ngIf","O"==e.tipo),t.xp6(1),t.Q6J("ngIf","O"==e.tipo),t.xp6(1),t.Q6J("ngIf","O"==e.tipo),t.xp6(1),t.Q6J("ngIf","O"==e.tipo)}}function aa(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",66),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw(3).onSetFiltroSubConta(i.subconta,i.nivel)}),t.TgZ(1,"mat-icon"),t._uU(2,"filter_list"),t.qZA(),t.qZA()}}function oa(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",67),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw(3).onDesanexar(i)}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA(),t.qZA()}}function ia(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",68),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw(3).onIncluirNovaAtividade(i)}),t.TgZ(1,"mat-icon"),t._uU(2,"add_circle_outline"),t.qZA(),t.qZA()}}function ra(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",69),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,r=t.oxw(3);return r.escolha(i,r.getAcoes().Edicao)}),t.TgZ(1,"mat-icon"),t._uU(2,"edit"),t.qZA(),t.qZA()}}function na(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",70),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw(3).escolha(i,98)}),t.TgZ(1,"mat-icon"),t._uU(2,"assignment"),t.qZA(),t.qZA()}}function sa(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",71),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw(3).onExcluir(i)}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA(),t.qZA()}}function la(o,n){if(1&o&&(t.TgZ(0,"td",59),t.YNc(1,aa,3,0,"button",60),t.YNc(2,oa,3,0,"button",61),t.YNc(3,ia,3,0,"button",62),t.YNc(4,ra,3,0,"button",63),t.YNc(5,na,3,0,"button",64),t.YNc(6,sa,3,0,"button",65),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf","S"==e.tipo),t.xp6(1),t.Q6J("ngIf",1==e.nivel),t.xp6(1),t.Q6J("ngIf",1==e.nivel),t.xp6(1),t.Q6J("ngIf","O"==e.tipo),t.xp6(1),t.Q6J("ngIf","O"==e.tipo&&"S"==e.controle),t.xp6(1),t.Q6J("ngIf","O"==e.tipo||"S"==e.tipo)}}function ca(o,n){if(1&o&&(t.TgZ(0,"tr"),t.YNc(1,Fe,3,3,"td",46),t.YNc(2,ea,19,16,"td",47),t.YNc(3,la,7,6,"td",48),t.qZA()),2&o){const e=n.$implicit,a=t.oxw(3);t.xp6(1),t.Q6J("ngIf",a.getFiltro(e)),t.xp6(1),t.Q6J("ngIf",a.getFiltro(e)),t.xp6(1),t.Q6J("ngIf",a.getFiltro(e))}}function da(o,n){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"table"),t.TgZ(2,"tr",44),t.TgZ(3,"th"),t._uU(4,"CONTA"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"CONTE\xdaDO"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"A\xc7\xc3O"),t.qZA(),t.qZA(),t.YNc(9,ca,4,3,"tr",45),t.qZA(),t.qZA()),2&o){const e=t.oxw(2);t.xp6(9),t.Q6J("ngForOf",e.atividades)}}function ua(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",38),t.TgZ(1,"form",11),t.TgZ(2,"div",39),t.TgZ(3,"mat-form-field",31),t.TgZ(4,"mat-label"),t._uU(5,"Estruturas"),t.qZA(),t.TgZ(6,"mat-select",40),t.YNc(7,ye,2,3,"mat-option",33),t.qZA(),t.qZA(),t.TgZ(8,"div",41),t.TgZ(9,"button",37),t.NdJ("click",function(){return t.CHM(e),t.oxw().onAnexar()}),t._uU(10,"Anexar"),t.qZA(),t.qZA(),t.TgZ(11,"mat-form-field",42),t.TgZ(12,"mat-label"),t._uU(13,"Atividades"),t.qZA(),t.TgZ(14,"mat-select",43),t.NdJ("selectionChange",function(){return t.CHM(e),t.oxw().onVisualizar()}),t.YNc(15,Je,2,3,"mat-option",33),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(16,da,10,1,"div",2),t.qZA()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.parametros),t.xp6(6),t.Q6J("ngForOf",e.estruturasOff),t.xp6(8),t.Q6J("ngForOf",e.estruturasIn),t.xp6(1),t.Q6J("ngIf",e.atividades.length>0)}}let pa=(()=>{class o{constructor(e,a,i,r,s,d,m,h,g,E,W,Q,Ho,Go){this.questionDialog=e,this.respAudiDialog=a,this.jusPeriodoDialog=i,this.jusRespExecDialog=r,this.formBuilder=s,this.estruturasService=d,this.atividadesService=m,this.usuariosService=h,this.projetosService=g,this.clientesService=E,this.route=W,this.router=Q,this.appSnackBar=Ho,this.globalService=Go,this.projeto=new b.w,this.executores=[],this.subclientes=[],this.atividades=[],this.estruturasIn=[],this.estruturasOff=[],this.atividade=new M,this.erro="",this.id_empresa=0,this.id_projeto=0,this.durationInSeconds=3,this.acao="Sem Defini\xe7\xe3o",this.idAcao=p.I.Inclusao,this.readOnly=!0,this.readOnlyKey=!0,this.labelCadastro="",this.conta="",this.versao="",this.id_atividade_conta="",this.filtro=new R,this.id_exec=0,this.id_resp=0,this.formulario=s.group({descricao:[{value:""}],subconta:[{value:""}],inicial:[],final:[],id_resp:[{value:""},[l.kI.required,l.kI.min(1)]],status:[],id_exec:[{value:""}],id_subcliente:[{value:""},[l.kI.required,l.kI.min(1)]],obs:[{value:""}]}),this.parametros=s.group({conta:[{value:""}],atividade:[{value:""}]}),this.projeto=new b.w,this.inscricaoRota=W.params.subscribe(it=>{this.id_empresa=it.id_empresa,this.id_projeto=it.id_projeto,this.id_atividade_conta=it.id_atividade,this.idAcao=99,this.setAcao(99)}),this.getProjeto()}ngOnInit(){this.setParamentos(),this.getExecutores()}ngOnDestroy(){var e,a,i,r,s,d,m,h,g;null===(e=this.inscricaoAnexar)||void 0===e||e.unsubscribe(),null===(a=this.inscricaoGetFiltro)||void 0===a||a.unsubscribe(),null===(i=this.inscricaoAcao)||void 0===i||i.unsubscribe(),null===(r=this.inscricaoRota)||void 0===r||r.unsubscribe(),null===(s=this.inscricaoGetProjeto)||void 0===s||s.unsubscribe(),null===(d=this.inscricaoGetEstruturasIn)||void 0===d||d.unsubscribe(),null===(m=this.inscricaoGetEstruturasOff)||void 0===m||m.unsubscribe(),null===(h=this.inscricaoGetAtividade)||void 0===h||h.unsubscribe(),null===(g=this.inscricaoGetSubCliente)||void 0===g||g.unsubscribe()}openQuestionDialog(e,a){const i=new he.Z;"all"==a&&(i.mensagem01="Deseja Excluir TODA ATIVIDADE ?"),"one"==a&&(i.mensagem01="Deseja Excluir A Atividade ?"),"partial"==a&&(i.mensagem01="Deseja Excluir A SubAtividade ?"),i.mensagem02=e.estru_descri;const r=new v.vA;r.disableClose=!0,r.id="question",r.width="600px",r.data=i,this.questionDialog.open(_e.h,r).beforeClosed().subscribe(d=>{console.log("data",d),"S"==d.resposta&&("all"==a&&this.Desanexar(e),"one"==a&&this.excluir(e.id_empresa,e.id_projeto,e.conta,e.versao,e.subconta),"partial"==a&&this.excluirPartial(e.id_empresa,e.id_projeto,e.conta,e.versao,e.subconta,e.nivel))})}openDialogRespAudi(e){const a=new ge;a.executores=this.executores;const i=new v.vA;i.disableClose=!0,i.id="modal-component",i.height="430px",i.width="600px",i.data=a,this.respAudiDialog.open(be,i).beforeClosed().subscribe(s=>{var d;console.log("data",s),this.id_resp=s.id_resp,this.id_exec=s.id_exec,s.processar&&("INCLUSAO"==e?(this.conta=null===(d=this.parametros.value.conta)||void 0===d?void 0:d.trim(),this.versao="0101",this.filtro=new R,this.router.navigate(["/projetos/anexarv2",this.conta,this.versao,this.id_projeto,this.id_resp,this.id_exec])):(this.conta=this.atividades[0].conta,this.versao=this.atividades[0].versao,this.id_projeto=this.atividades[0].id_projeto,this.id_resp=s.id_resp,this.id_exec=s.id_exec,this.router.navigate(["/projetos/anexarv2",this.conta,this.versao,this.id_projeto,this.id_resp,this.id_exec])))})}getProjeto(){this.globalService.setSpin(!0),this.inscricaoGetProjeto=this.projetosService.getProjeto(this.id_empresa,this.id_projeto).subscribe(e=>{this.globalService.setSpin(!1),this.projeto=e,this.id_atividade_conta="",this.getEstruturasIn()},e=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Pesquisa  Projeto ${e.error.tabela} - ${e.error.erro} - ${e.error.message}`,"OK")})}getSubClientes(){console.log("Olha o projeto",this.projeto);let e=new ct.j;e.id_empresa=this.id_empresa,e.grupo=this.projeto.cliente_gru_econo,e.orderby="Raz\xe3o",this.globalService.setSpin(!0),this.inscricaoGetSubCliente=this.clientesService.getClientes_01(e).subscribe(a=>{this.globalService.setSpin(!1),this.subclientes=a},a=>{this.globalService.setSpin(!1),this.atividades=[],this.appSnackBar.openFailureSnackBar(`${a.error.tabela} - ${a.error.erro} - ${a.error.message}`,"OK")})}getAtividade(e,a){this.globalService.setSpin(!0),this.inscricaoGetAtividade=this.atividadesService.getAtividade(e,a).subscribe(i=>{this.globalService.setSpin(!1),this.atividade=i,this.setValue()},i=>{this.globalService.setSpin(!1),this.atividade=new M,this.appSnackBar.openFailureSnackBar(`${i.error.tabela} - ${i.error.erro} - ${i.error.message}`,"OK")})}getAtividades(){let e=new at.l;e.id_empresa=this.id_empresa,e.conta=this.id_atividade_conta,e.versao=this.versao,e.id_projeto=this.id_projeto,16==this.globalService.getUsuario().id&&(e.controle=""),e.orderby="projeto",this.globalService.setSpin(!0),this.inscricaoGetFiltro=this.atividadesService.getAtividades_01(e).subscribe(a=>{this.globalService.setSpin(!1),this.atividades=a,console.log("atividades",this.atividades)},a=>{this.globalService.setSpin(!1),this.atividades=[],this.appSnackBar.openFailureSnackBar(`${a.error.tabela} - ${a.error.erro} - ${a.error.message}`,"OK")})}getExecutores(){let e=new L.w;e.id_empresa=this.globalService.id_empresa;const a=this.usuariosService.getGruposDiretoria(),i=this.usuariosService.getGruposCoordenador(),r=this.usuariosService.getGruposAuditor();e.id_empresa=this.globalService.id_empresa,a.forEach(s=>{e.grupo.push(s)}),i.forEach(s=>{e.grupo.push(s)}),r.forEach(s=>{e.grupo.push(s)}),e.orderby="Raz\xe3o",this.globalService.setSpin(!0),this.inscricaoGetFiltro=this.usuariosService.getusuarios_01(e).subscribe(s=>{this.globalService.setSpin(!1),this.executores=s},s=>{this.globalService.setSpin(!1),this.executores=[],this.appSnackBar.openFailureSnackBar(`${s.error.tabela} - ${s.error.erro} - ${s.error.message}`,"OK")})}desanexarAtividades(e,a,i,r){this.globalService.setSpin(!1),this.inscricaoAnexar=this.atividadesService.desanexaatividade(e,a,i,r).subscribe(s=>{this.globalService.setSpin(!1),this.atividades=[],this.conta="",this.getProjeto(),this.appSnackBar.openSuccessSnackBar("Estrutura Exclu\xedda Com Sucesso!","OK")},s=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`${s.error.tabela} - ${s.error.erro} - ${s.error.message}`,"OK")})}excluir(e,a,i,r,s){this.globalService.setSpin(!0),this.inscricaoAnexar=this.atividadesService.atividadeDelete(e,a,i,r,s).subscribe(d=>{this.globalService.setSpin(!1),this.atividades=[],this.conta="",this.getProjeto(),this.appSnackBar.openSuccessSnackBar("Atividade Exclu\xedda Com Sucesso!","OK")},d=>{this.globalService.setSpin(!1),console.log(d),this.appSnackBar.openFailureSnackBar(`${d.error.tabela} - ${d.error.erro} - ${d.error.message}`,"OK")})}excluirPartial(e,a,i,r,s,d){this.globalService.setSpin(!0),this.inscricaoAnexar=this.atividadesService.desanexasubconta(e,a,i,r,s,d).subscribe(m=>{this.globalService.setSpin(!1),this.atividades=[],this.conta="",this.getProjeto(),this.appSnackBar.openSuccessSnackBar("SubAtividade Exclu\xedda Com Sucesso!","OK")},m=>{this.globalService.setSpin(!1),console.log(m),this.appSnackBar.openFailureSnackBar(`${m.error.tabela} - ${m.error.erro} - ${m.error.message}`,"OK")})}getEstruturasOff(){let e=new mt.W;e.id_empresa=this.id_empresa,e.nivel=1,e.projeto_off="S",e.id_projeto=this.id_projeto,e.orderby="Conta",16==this.globalService.getUsuario().id&&(e.controle=""),this.globalService.setSpin(!0),this.inscricaoGetEstruturasOff=this.estruturasService.getEstruturas(e).subscribe(a=>{this.globalService.setSpin(!1),this.estruturasOff=a},a=>{this.globalService.setSpin(!1),this.estruturasOff=[]})}getEstruturasIn(){let e=new mt.W;e.id_empresa=this.id_empresa,e.nivel=1,e.projeto_in="S",e.id_projeto=this.id_projeto,e.orderby="Conta",16==this.globalService.getUsuario().id&&(e.controle=""),this.globalService.setSpin(!0),this.inscricaoGetEstruturasIn=this.estruturasService.getEstruturas(e).subscribe(a=>{this.globalService.setSpin(!1),this.estruturasIn=a,""==this.id_atividade_conta&&this.estruturasIn.length>0&&(this.id_atividade_conta=this.estruturasIn[0].conta,this.setParametrosPath(),this.onVisualizar()),this.getSubClientes(),this.getEstruturasOff()},a=>{this.globalService.setSpin(!1),this.estruturasIn=[],this.getSubClientes(),this.getEstruturasOff(),console.log("erro in",a)})}escolha(e,a){98==a?0==e.id_exec||0==e.id_resp?this.appSnackBar.openSuccessSnackBar("Respons\xe1vel e Executor s\xe3o abrigatorios, para agendamento.","OK"):this.router.navigate(["/projetos/planejamentoagenda",e.id_empresa,e.id]):(this.idAcao=a,this.setAcao(this.idAcao),this.getAtividade(e.id_empresa,e.id))}setAcao(e){switch(+e){case p.I.Inclusao:this.acao="Gravar",this.labelCadastro="Atividade - Inclus\xe3o.",this.readOnly=!1;break;case p.I.Edicao:this.acao="Gravar",this.labelCadastro="Atividade - Altera\xe7\xe3o.",this.readOnly=!1;break;case p.I.Consulta:this.acao="Voltar",this.labelCadastro="Atividade - Consulta.",this.readOnly=!0;break;case p.I.Exclusao:this.acao="Excluir",this.labelCadastro="Atividade - Exclus\xe3o.",this.readOnly=!0;break;default:this.acao="",this.labelCadastro="",this.readOnly=!0}}executaAcao(){var e=this;switch(this.atividade.inicial=this.formulario.value.inicial,this.atividade.final=this.formulario.value.final,this.atividade.id_resp=this.formulario.value.id_resp,this.atividade.id_exec=this.formulario.value.id_exec,this.atividade.id_subcliente=this.formulario.value.id_subcliente,this.atividade.obs=this.formulario.value.obs,+this.idAcao){case p.I.Edicao:this.globalService.setSpin(!0),this.inscricaoAcao=this.atividadesService.atividadeUpdate(this.atividade).subscribe(function(){var a=(0,P.Z)(function*(i){e.globalService.setSpin(!1),e.onCancel(),e.refreshAtividade(e.atividade)});return function(i){return a.apply(this,arguments)}}(),a=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Erro Na Altera\xe7\xe3o ${a.error.tabela} - ${a.error.erro} - ${a.error.message}`,"OK")})}}onSubmit(){this.formulario.valid?this.executaAcao():this.appSnackBar.openFailureSnackBar("Formul\xe1rio Com Campos Inv\xe1lidos.","OK")}onAnexar(){var e;""!=(null===(e=this.parametros.value.conta)||void 0===e?void 0:e.trim())?this.openDialogRespAudi("INCLUSAO"):this.appSnackBar.openSuccessSnackBar("Informe Uma Estrutura Primeiro","OK")}onVisualizar(){var e,a;""!=(null===(e=this.parametros.value.atividade)||void 0===e?void 0:e.trim())?(this.id_atividade_conta=null===(a=this.parametros.value.atividade)||void 0===a?void 0:a.trim(),this.versao="0101",this.setParamentos(),this.filtro=new R,this.getAtividades()):this.appSnackBar.openSuccessSnackBar("Informe Uma Atividade Primeiro","OK")}setValue(){this.formulario.setValue({descricao:this.atividade.descricao_estru,subconta:this.atividade.subconta,inicial:this.atividade.inicial,final:this.atividade.final,id_resp:this.atividade.id_resp,id_exec:this.atividade.id_exec,id_subcliente:this.atividade.id_subcliente,obs:this.atividade.obs,status:""})}setParametrosPath(){this.parametros.patchValue({atividade:this.id_atividade_conta})}setParamentos(){this.parametros.setValue({conta:this.conta,atividade:this.id_atividade_conta})}getLabelCancel(){return this.idAcao==p.I.Consulta?"Voltar":"Cancelar"}onCancel(){this.idAcao=99,this.setAcao(99)}onRetorno(){const e=this.globalService.estadoFind("projeto");if(null!=e){let a=e.getParametro();Object(a).new=this.idAcao==p.I.Inclusao,Object(a).id_retorno=this.projeto.id,e.parametro=JSON.stringify(a),this.globalService.estadoSave(e)}this.router.navigate(["/projetos/projetos","SIM"])}onDesanexar(e){this.openQuestionDialog(e,"all")}Desanexar(e){this.desanexarAtividades(e.id_empresa,e.conta,e.versao,e.id_projeto)}onExcluir(e){this.openQuestionDialog(e,"S"==e.tipo?"partial":"one")}getAcoes(){return p.I}touchedOrDirty(e){var a,i;return!(!(null===(a=this.formulario.get(e))||void 0===a?void 0:a.touched)&&!(null===(i=this.formulario.get(e))||void 0===i?void 0:i.dirty))}getTexto(){return u.fd}getFiltro(e){return""==this.filtro.subconta||this.filtro.subconta.trim()==e.subconta.substring(0,2*this.filtro.nivel)}refreshAtividade(e){this.atividades.forEach(a=>{a.id==e.id&&(a.inicial=(0,u.JS)(this.formulario.value.inicial),a.final=(0,u.JS)(this.formulario.value.final),a.id_resp=this.formulario.value.id_resp,a.resp_razao=this.getRazao(this.formulario.value.id_resp),a.id_exec=this.formulario.value.id_exec,a.exec_razao=this.getRazao(this.formulario.value.id_exec),a.id_subcliente=this.formulario.value.id_subcliente,a.obs=this.formulario.value.obs)})}getRazao(e){let a="";return this.executores.forEach(i=>{i.id==e&&(a=i.razao)}),a}onSetFiltroSubConta(e,a){this.filtro.subconta==e?(this.filtro.subconta="",this.filtro.nivel=0):(this.filtro.subconta=e,this.filtro.nivel=a),console.log("Filtro Conta:",this.filtro.subconta,this.filtro.nivel)}onHorasDiretoria(){this.router.navigate(["/projetos/horasdiretoria",this.id_empresa,this.id_projeto])}onManutencaoLote(){console.log("this.id_atividade_conta)",this.id_atividade_conta),"NULL"==this.id_atividade_conta||""==this.id_atividade_conta.trim()?this.appSnackBar.openSuccessSnackBar("Selecione A Atividade Primeiro!","OK"):this.router.navigate(["/projetos/manuemlote",this.id_empresa,this.id_atividade_conta,this.id_projeto])}onPeriodo(){this.openJusPeriodoDialog()}onResponsavel(){this.openJusRespExecDialog("R")}onExecutor(){this.openJusRespExecDialog("E")}openJusPeriodoDialog(){const e=new dt;e.titulo="ALTERA\xc7\xc3O DO PER\xcdODO",e.titulo_data1="Data Inicial",e.dataInicial="01/01/2023",e.titulo_data2="Data Final",e.dataFinal="01/01/2023",e.justificativa="",e.dataHota=new Date,e.usuarioNome=this.globalService.getNomeusuarioLogado();const a=new v.vA;a.disableClose=!0,a.id="jus-Periodo",a.width="600px",a.data=e,this.jusPeriodoDialog.open(ut,a).beforeClosed().subscribe(r=>{console.log("Retorno data",r),void 0!==r&&r.processar&&(this.formulario.patchValue({inicial:r.dataInicial}),this.formulario.patchValue({final:r.dataFinal}),console.log("Fui....",this.formulario),this.onSubmit())})}openJusRespExecDialog(e){const a=new Ae;a.titulo="R"==e?"Respons\xe1vel":"Executor",a.texto="ALTERA\xc7\xc3O DO "+("R"==e?"RESPONS\xc1VEL":"EXECUTOR"),a.usuarios=this.executores,a.id_usuario="R"==e?this.atividade.id_resp:this.atividade.id_exec,a.justificativa="",a.dataHota=new Date,a.usuarioNome=this.globalService.getNomeusuarioLogado();const i=new v.vA;i.disableClose=!0,i.id="jus-Person",i.width="600px",i.data=a,this.jusRespExecDialog.open(me,i).beforeClosed().subscribe(s=>{console.log("Retorno data",s),void 0!==s&&s.processar&&((e="R")?this.formulario.patchValue({id_resp:s.id_usuario}):this.formulario.patchValue({id_exec:s.id_usuario}),console.log("Fui....",this.formulario),this.onSubmit())})}onIncluirNovaAtividade(e){this.openDialogRespAudi("EDICAO")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(v.uw),t.Y36(v.uw),t.Y36(v.uw),t.Y36(v.uw),t.Y36(l.qu),t.Y36(xe.K),t.Y36($.a),t.Y36(H.J),t.Y36(A.T),t.Y36(pt.Y),t.Y36(Z.gz),t.Y36(Z.F0),t.Y36(S.W),t.Y36(q.U))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-crud-atividade-projeto"]],decls:9,vars:7,consts:[[1,"div-barra"],[1,"example-spacer"],[4,"ngIf"],["mat-icon-button","","class","example-icon","aria-label","Example icon-button with share icon","matTooltip","Retorno","matTooltipPosition","above",3,"click",4,"ngIf"],["autocomplete","off",3,"formGroup",4,"ngIf"],["class","Atividade",4,"ngIf"],["mat-icon-button","","aria-label","Example icon-button with a menu","matTooltip","Manuten\xe7\xe3o Auxliar","matTooltipPosition","above",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-icon-button","","aria-label","Example icon-button with a menu","matTooltip","Manuten\xe7\xe3o Auditada ATIVIDADE","matTooltipPosition","above",3,"matMenuTriggerFor"],["mat-icon-button","","aria-label","Example icon-button with share icon","matTooltip","Retorno","matTooltipPosition","above",1,"example-icon",3,"click"],["autocomplete","off",3,"formGroup"],[1,"col-med-1"],["appearance","outline",1,"MidleWidth"],["matInput","","formControlName","descricao",3,"readonly"],[1,"col-med-4"],["matInput","","formControlName","subconta",3,"readonly"],["matInput","","formControlName","inicial",3,"matDatepicker","readonly"],["matSuffix","",3,"for"],["inicialDatePicker",""],["matInput","","formControlName","final",3,"matDatepicker","readonly"],["finalDatePicker",""],["matInput","","formControlName","status",3,"readonly"],[1,"col-med-3"],["field","","appearance","outline","class","col-max",4,"ngIf"],["appearance","outline",1,"col-max"],["matInput","","formControlName","obs","oninput","this.value = this.value.toUpperCase()",3,"readonly"],[1,"cad-container"],[1,"button-container-right"],["class","buttons","mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",1,"buttons",3,"click"],["field","","appearance","outline",1,"col-max"],["formControlName","id_resp"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["formControlName","id_exec"],["formControlName","id_subcliente"],["mat-raised-button","","color","primary",1,"buttons",3,"click"],[1,"Atividade"],[1,"col-med-5"],["formControlName","conta"],[1,"col-max"],["field","","appearance","outline",1,"col-max","column-span-2"],["formControlName","atividade",3,"selectionChange"],[1,"coluna-cabec"],[4,"ngFor","ngForOf"],["class","coluna-codigo",4,"ngIf"],["class","coluna-descricao",4,"ngIf"],["class","coluna-acao",4,"ngIf"],[1,"coluna-codigo"],[1,"coluna-descricao"],[1,"linha-status-projeto"],[1,"circulo",3,"CorStatusProj","nivel"],[1,"labelData"],["class","coluna-descricao cor-blue",4,"ngIf"],[1,"coluna-descricao","cor-blue"],["class","labelTitle",4,"ngIf"],["class","labelData",4,"ngIf"],[1,"labelTitle"],[1,"coluna-acao"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","Fixar T\xf3pico","matTooltipPosition","above",3,"click",4,"ngIf"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","Excluir Tudo","matTooltipPosition","above",3,"click",4,"ngIf"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","Incuir Novas Atividades","matTooltipPosition","above",3,"click",4,"ngIf"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","Editar Atividade","matTooltipPosition","above",3,"click",4,"ngIf"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","Agenda Da Atividade","matTooltipPosition","above",3,"click",4,"ngIf"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","Excluir Atividade","matTooltipPosition","above",3,"click",4,"ngIf"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","Fixar T\xf3pico","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","Excluir Tudo","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","Incuir Novas Atividades","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","Editar Atividade","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","Agenda Da Atividade","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","Excluir Atividade","matTooltipPosition","above",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-toolbar"),t.TgZ(2,"span",1),t._uU(3),t.qZA(),t.YNc(4,qe,16,1,"section",2),t.YNc(5,Pe,21,1,"section",2),t.YNc(6,je,3,0,"button",3),t.qZA(),t.qZA(),t.YNc(7,De,44,17,"form",4),t.YNc(8,ua,17,4,"div",5)),2&e&&(t.xp6(3),t.AsE("Contrato:",a.projeto.id," ",a.projeto.descricao," - Manuten\xe7\xe3o das Atividades"),t.xp6(1),t.Q6J("ngIf",99==a.idAcao),t.xp6(1),t.Q6J("ngIf",99!=a.idAcao),t.xp6(1),t.Q6J("ngIf",99==a.idAcao),t.xp6(1),t.Q6J("ngIf",99!=a.idAcao),t.xp6(1),t.Q6J("ngIf",99==a.idAcao))},directives:[O.Ye,_.O5,x.lW,U.gM,j.p6,T.Hw,j.VK,j.OP,l._Y,l.JL,l.sg,f.KE,f.hX,k.Nt,l.Fj,l.JJ,l.u,Y.hl,Y.nW,f.R9,Y.Mq,J.gD,_.sg,F.ey,f.TO,nt],pipes:[Te.M,K.X,Ce,_.uU],styles:["Atividade[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;overflow-y:scroll;width:100%;height:500px}table[_ngcontent-%COMP%]{width:100%;cursor:pointer}.coluna-codigo[_ngcontent-%COMP%]{background-color:#878684;font-weight:bolder}.coluna-descricao[_ngcontent-%COMP%]{background-color:#a9ad9e}.coluna-acao[_ngcontent-%COMP%]{background-color:#e1e7d3;text-align:center;font-weight:400}.coluna-cabec[_ngcontent-%COMP%]{background-color:#e3bd11;text-align:center}.buttons[_ngcontent-%COMP%]{margin-top:12px;align-items:center}"]}),o})();var ma=c(8440);class _t{constructor(){this.id_empresa=0,this.id=0,this.id_projeto=0,this.id_conta="",this.id_subconta="",this.id_resp=0,this.id_exec=0,this.inicial="",this.final="",this.horasapon=0,this.obs="",this.encerra="",this.user_insert=0,this.user_update=0,this.resp_razao="",this.exec_razao="",this.ativ_descricao=""}}class ht{constructor(){this.id_empresa=0,this.id_projeto=0,this.id_conta="",this.id_subconta="",this.agenda=[]}}var _a=c(98),ha=c(1872),ga=c(3073);function fa(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){return t.CHM(e),t.oxw().setFiltro()}),t.TgZ(1,"mat-icon"),t._uU(2,"filter_list"),t.qZA(),t.qZA()}}function va(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",15),t.TgZ(1,"button",16),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).onManha()}),t._uU(2,"Manh\xe3"),t.qZA(),t.TgZ(3,"button",16),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).onTarde()}),t._uU(4,"Tarde"),t.qZA(),t.qZA()}}function Za(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"form",6),t.TgZ(1,"h1"),t._uU(2),t.qZA(),t.YNc(3,va,5,0,"div",7),t.TgZ(4,"div",8),t.TgZ(5,"mat-form-field",9),t.TgZ(6,"mat-label"),t._uU(7,"Entrada"),t.qZA(),t._UZ(8,"input",10),t.qZA(),t.TgZ(9,"mat-form-field",9),t.TgZ(10,"mat-label"),t._uU(11,"Sa\xedda"),t.qZA(),t._UZ(12,"input",11),t.qZA(),t.TgZ(13,"mat-checkbox",12),t._uU(14,"Encerrar Atividade"),t.qZA(),t.qZA(),t.TgZ(15,"div",8),t.TgZ(16,"mat-form-field",13),t.TgZ(17,"mat-label"),t._uU(18,"Observa\xe7\xe3o"),t.qZA(),t._UZ(19,"input",14),t.qZA(),t.qZA(),t.TgZ(20,"div",15),t.TgZ(21,"button",16),t.NdJ("click",function(){return t.CHM(e),t.oxw().onSubmit()}),t._uU(22),t.qZA(),t.TgZ(23,"button",17),t.NdJ("click",function(){return t.CHM(e),t.oxw().onCancel()}),t._uU(24),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.formulario),t.xp6(2),t.hij("Lan\xe7amento:",e.labelCadastro,""),t.xp6(1),t.Q6J("ngIf",e.idAcao!=e.getAcoes().Consulta&&e.idAcao!=e.getAcoes().Exclusao),t.xp6(5),t.Q6J("dropSpecialCharacters",!1),t.xp6(4),t.Q6J("dropSpecialCharacters",!1),t.xp6(10),t.Oqu(e.acao),t.xp6(2),t.Oqu(e.getLabelCancel())}}function ba(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,r=t.oxw().$implicit,s=t.oxw(2);return s.outras(s.getAcoes().Edicao,r,i)}),t.TgZ(1,"mat-icon"),t._uU(2,"edit"),t.qZA(),t.qZA()}}function Aa(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,r=t.oxw().$implicit,s=t.oxw(2);return s.outras(s.getAcoes().Exclusao,r,i)}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA(),t.qZA()}}function xa(o,n){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"mat-label",25),t._uU(2,"Encerrado:"),t.qZA(),t.TgZ(3,"mat-label",26),t._uU(4),t.ALo(5,"simNao"),t.qZA(),t.TgZ(6,"mat-label",25),t._uU(7,"Horario:"),t.qZA(),t.TgZ(8,"mat-label",26),t._uU(9),t.ALo(10,"date"),t.ALo(11,"date"),t.qZA(),t.TgZ(12,"mat-label",25),t._uU(13,"Hora Apontadas:"),t.qZA(),t.TgZ(14,"mat-label",26),t._uU(15),t.ALo(16,"horaSexagenal"),t.qZA(),t.YNc(17,ba,3,0,"button",27),t.YNc(18,Aa,3,0,"button",28),t.qZA()),2&o){const e=t.oxw().$implicit,a=t.oxw(3);t.xp6(4),t.hij("",t.lcZ(5,6,e.encerra)," "),t.xp6(5),t.AsE("",t.xi3(10,8,e.inicial,"HH:mm")," as ",t.xi3(11,11,e.final,"HH:mm")," "),t.xp6(6),t.Oqu(t.lcZ(16,14,e.horasapon)),t.xp6(2),t.Q6J("ngIf",e.id_projeto==a.atividade.id_projeto),t.xp6(1),t.Q6J("ngIf",e.id_projeto==a.atividade.id_projeto)}}function Ta(o,n){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"mat-label",31),t._uU(2,"Contrato: "),t.qZA(),t.TgZ(3,"mat-label",26),t._uU(4),t.qZA(),t.qZA()),2&o){const e=t.oxw().$implicit,a=t.oxw(3);t.xp6(1),t.Q6J("matTooltip",a.showDadosProjeto(e)),t.xp6(3),t.AsE("",e.id_projeto,"-",e.proj_descricao,"")}}function Ca(o,n){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"mat-label",25),t._uU(2,"Atividade:"),t.qZA(),t.TgZ(3,"mat-label",26),t._uU(4),t.qZA(),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(4),t.AsE("",e.id_subconta,"-",e.estru_descricao,"")}}function qa(o,n){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"mat-label",25),t._uU(2,"Obs.:"),t.qZA(),t.TgZ(3,"mat-label",26),t._uU(4),t.qZA(),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(4),t.Oqu(e.obs)}}function Pa(o,n){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,xa,19,16,"div",4),t.YNc(2,Ta,5,3,"div",4),t.YNc(3,Ca,5,2,"div",4),t.YNc(4,qa,5,1,"div",4),t.qZA()),2&o){const e=n.$implicit,a=t.oxw(3);t.xp6(1),t.Q6J("ngIf",a.exibir(e)),t.xp6(1),t.Q6J("ngIf",a.exibir(e)),t.xp6(1),t.Q6J("ngIf",a.exibir(e)),t.xp6(1),t.Q6J("ngIf",a.exibir(e))}}function ja(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td",20),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td",21),t.YNc(5,Pa,5,4,"div",19),t.qZA(),t.TgZ(6,"td",22),t.TgZ(7,"button",23),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(2);return s.adicao(s.getAcoes().Inclusao,r)}),t.TgZ(8,"mat-icon"),t._uU(9,"add_circle_outline"),t.qZA(),t.qZA(),t.TgZ(10,"button",24),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).setFiltroData(r)}),t.TgZ(11,"mat-icon"),t._uU(12,"filter_list"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=n.$implicit;t.xp6(2),t.hij("",t.xi3(3,2,e.data,"dd/MM/yyyy")," "),t.xp6(3),t.Q6J("ngForOf",e.movimentos)}}function Sa(o,n){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"table"),t.TgZ(2,"tr",18),t.TgZ(3,"th"),t._uU(4,"DATA"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"ATIVIDADES"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"A\xc7\xc3O"),t.qZA(),t.qZA(),t.YNc(9,ja,13,5,"tr",19),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(9),t.Q6J("ngForOf",e.parametroAgendaPlanejamento03.agenda)}}let Oa=(()=>{class o{constructor(e,a,i,r,s,d,m,h){this.atividadesService=a,this.aponPlanejamentoService=i,this.route=r,this.globalService=s,this.router=d,this.appSnackBar=m,this.datePipe=h,this.durationInSeconds=2,this.parametroAgendaPlanejamento03=new ht,this.agendamento=new ma.Y,this.idAcao=0,this.acao="",this.labelCadastro="",this.id_empresa=0,this.id_atividade=0,this.atividade=new M,this.apontamento=new _t,this.dados_projetos="",this.intervalos=[],this.filtro=!1,this.filtroData=!1,this.dataFiltro="",this.formulario=e.group({entrada:[{value:""}],saida:[],encerra:[],obs:[{value:""}]}),this.setValue(),this.inscricaoRota=this.route.params.subscribe(g=>{this.id_empresa=g.id_empresa,this.id_atividade=g.id_atividade}),this.idAcao=99,this.setAcao(this.idAcao),this.setValue(),this.getAtividade()}ngOnInit(){}ngOnDestroy(){var e,a,i,r,s,d;null===(e=this.inscricaoGetAll)||void 0===e||e.unsubscribe(),null===(a=this.inscricaoAcao)||void 0===a||a.unsubscribe(),null===(i=this.inscricaoRota)||void 0===i||i.unsubscribe(),null===(r=this.inscricaoAtividade)||void 0===r||r.unsubscribe(),null===(s=this.inscricaoApontamento)||void 0===s||s.unsubscribe(),null===(d=this.inscricaoAponAgendas)||void 0===d||d.unsubscribe()}setAcao(e){switch(+e){case p.I.Inclusao:case p.I.Edicao:this.acao="Gravar";break;case p.I.Consulta:this.acao="Voltar";break;case p.I.Exclusao:this.acao="Excluir";break;default:this.acao="",this.labelCadastro=""}}adicao(e,a){this.apontamento=new _t,this.agendamento=a,this.intervalos=(0,u.qi)(a.movimentos,this.apontamento.id);const i=new Date((0,u.mu)(a.data_+" 00:00:00"));this.apontamento.id_empresa=this.id_empresa,this.apontamento.id_empresa=0,this.apontamento.id=0,this.apontamento.id_projeto=this.atividade.id_projeto,this.apontamento.id_conta=this.atividade.conta,this.apontamento.id_subconta=this.atividade.subconta,this.apontamento.id_resp=this.atividade.id_resp,this.apontamento.id_exec=this.atividade.id_exec,this.apontamento.inicial=(0,u.mu)((0,u.JS)(i)+" 00:00:00"),this.apontamento.final=(0,u.mu)((0,u.JS)(i)+" 00:00:00"),this.apontamento.horasapon=0,this.apontamento.obs="",this.apontamento.encerra="",this.apontamento.user_insert=1,this.apontamento.user_update=0,this.apontamento.resp_razao="",this.apontamento.exec_razao="",this.apontamento.ativ_descricao="",this.idAcao=e,this.setAcao(this.idAcao),this.labelCadastro=(this.datePipe.transform(a.data,"dd-MM-yyyy")||"").toString(),this.setValue()}outras(e,a,i){this.getApontamento(i.id_empresa,i.id,a),this.agendamento=a,this.labelCadastro=(this.datePipe.transform(this.agendamento.data,"dd-MM-yyyy")||"").toString(),this.idAcao=e,this.setAcao(this.idAcao)}executaAcao(){var e=this;let a=new Date(this.agendamento.data);switch(this.apontamento.id_empresa=this.id_empresa,this.apontamento.inicial=(0,u.B9)(a,(0,u.Lv)(this.formulario.value.entrada),(0,u.lj)(this.formulario.value.entrada)),this.apontamento.final=(0,u.B9)(a,(0,u.Lv)(this.formulario.value.saida),(0,u.lj)(this.formulario.value.saida)),this.apontamento.horasapon=(0,u.KB)((0,u.Hh)(this.apontamento.inicial,this.apontamento.final)),this.apontamento.encerra=this.formulario.value.encerra?"S":"N",this.apontamento.obs=this.formulario.value.obs,+this.idAcao){case p.I.Inclusao:this.apontamento.user_insert=this.globalService.getUsuario().id,this.inscricaoAcao=this.aponPlanejamentoService.ApoPlanejamentoInsert(this.apontamento).subscribe(function(){var i=(0,P.Z)(function*(r){e.getAponAgendas(),e.onCancel()});return function(r){return i.apply(this,arguments)}}(),i=>{this.appSnackBar.openFailureSnackBar(`${i.error.tabela} - ${i.error.erro} - ${i.error.message}`,"OK")});break;case p.I.Edicao:this.apontamento.user_update=this.globalService.getUsuario().id,this.inscricaoAcao=this.aponPlanejamentoService.ApoPlanejamentoUpdate(this.apontamento).subscribe(function(){var i=(0,P.Z)(function*(r){e.getAponAgendas(),yield e.appSnackBar.openSuccessSnackBar(r.message,"OK"),e.onCancel()});return function(r){return i.apply(this,arguments)}}(),i=>{console.log("Error",i.error),this.appSnackBar.openFailureSnackBar(`${i.error.tabela} - ${i.error.erro} - ${i.error.message}`,"OK")});break;case p.I.Exclusao:this.inscricaoAcao=this.aponPlanejamentoService.ApoPlanejamentoDelete(this.apontamento.id_empresa,this.apontamento.id).subscribe(function(){var i=(0,P.Z)(function*(r){e.getAponAgendas(),yield e.appSnackBar.openSuccessSnackBar(r.message,"OK"),e.onCancel()});return function(r){return i.apply(this,arguments)}}(),i=>{this.appSnackBar.openFailureSnackBar(`Erro Na Exclusao ${i.error.tabela} - ${i.error.erro} - ${i.error.message}`,"OK")})}}setValue(){this.formulario.setValue({entrada:this.apontamento.inicial.substring(this.apontamento.inicial.indexOf(" ")+1,16),saida:this.apontamento.final.substring(this.apontamento.final.indexOf(" ")+1,16),encerra:"S"==this.apontamento.encerra,obs:this.apontamento.obs})}getAtividade(){this.inscricaoAtividade=this.atividadesService.getAtividade(this.id_empresa,this.id_atividade).subscribe(e=>{console.log("atividade==>",e),this.atividade=e;let a=[];this.parametroAgendaPlanejamento03=new ht,this.parametroAgendaPlanejamento03.id_empresa=this.atividade.id_empresa,this.parametroAgendaPlanejamento03.id_projeto=this.atividade.id,this.parametroAgendaPlanejamento03.id_conta=this.atividade.conta,this.parametroAgendaPlanejamento03.id_subconta=this.atividade.subconta,a=""!==this.dataFiltro?(0,u.Bb)(this.dataFiltro,this.dataFiltro,this.atividade.id_exec):(0,u.Bb)((0,u.JS)(this.atividade.inicial),(0,u.JS)(this.atividade.final),this.atividade.id_exec),console.log("Agendamentos..",a),this.parametroAgendaPlanejamento03.agenda=a,console.log("parametroAgendaPlanejamento03",this.parametroAgendaPlanejamento03),this.getAponAgendas()},e=>{this.atividade=new M,this.appSnackBar.openFailureSnackBar(`${e.error.tabela} - ${e.error.erro} - ${e.error.message}`,"OK")})}getApontamento(e,a,i){this.inscricaoApontamento=this.aponPlanejamentoService.getApoPlanejamento(e,a).subscribe(r=>{this.apontamento=r,this.intervalos=(0,u.qi)(i.movimentos,a),this.setValue()},r=>{this.atividade=new M,this.appSnackBar.openFailureSnackBar(`${r.error.tabela} - ${r.error.erro} - ${r.error.message}`,"OK")})}getAponAgendas(){this.inscricaoAponAgendas=this.aponPlanejamentoService.getAponAgendaPlanejamentosV2(this.parametroAgendaPlanejamento03).subscribe(e=>{this.parametroAgendaPlanejamento03=e},e=>{this.atividade=new M,this.appSnackBar.openFailureSnackBar(`${e.error.tabela} - ${e.error.erro} - ${e.error.message}`,"OK")})}onSubmit(){try{(this.idAcao==p.I.Inclusao||this.idAcao==p.I.Edicao)&&(0,u.yQ)(this.intervalos,this.formulario.value.entrada,this.formulario.value.saida),this.formulario.valid?this.executaAcao():this.appSnackBar.openSuccessSnackBar("Formul\xe1rio Com Campos Inv\xe1lidos.","OK")}catch(e){e instanceof _a.i?this.appSnackBar.openSuccessSnackBar(`Lan\xe7amento Conflitando: ${e.message}`,"OK"):console.log(e)}}onCancel(){this.idAcao=99,this.setAcao(99)}getLabelCancel(){return this.idAcao==p.I.Consulta?"Voltar":"Cancelar"}getAcoes(){return p.I}touchedOrDirty(e){var a,i;return!(!(null===(a=this.formulario.get(e))||void 0===a?void 0:a.touched)&&!(null===(i=this.formulario.get(e))||void 0===i?void 0:i.dirty))}getTexto(){return u.fd}onRetorno(){this.router.navigate(["projetos/anexaratividade",this.atividade.id_empresa,this.atividade.id_projeto,this.atividade.conta])}setFiltro(){this.filtro=!this.filtro}setFiltroData(e){console.log("Filtro Entrando",(0,u.JS)(e.data)),this.filtroData=!this.filtroData,this.filtroData?(console.log("Filtro Ativado",e),this.dataFiltro=e.data_,this.getAtividade()):(this.dataFiltro="",this.getAtividade())}exibir(e){let a=!0;return this.filtro&&e.id_projeto!==this.atividade.id_projeto&&(a=!1),a}showDadosProjeto(e){let a="";return a=`Projeto: ${e.id_projeto} Descri\xe7\xe3o: ${e.proj_descricao} Resp.: ${e.resp_razao}`,a}onManha(){this.apontamento.inicial=this.apontamento.inicial.substring(0,this.apontamento.final.indexOf(" ")+1)+"07:45",this.apontamento.final=this.apontamento.final.substring(0,this.apontamento.final.indexOf(" ")+1)+"12:00",this.formulario.patchValue({entrada:this.apontamento.inicial.substring(this.apontamento.inicial.indexOf(" ")+1,16),saida:this.apontamento.final.substring(this.apontamento.final.indexOf(" ")+1,16)})}onTarde(){this.apontamento.inicial=this.apontamento.inicial.substring(0,this.apontamento.inicial.indexOf(" ")+1)+"13:00",this.apontamento.final=this.apontamento.final.substring(0,this.apontamento.final.indexOf(" ")+1)+"17:45",this.formulario.patchValue({entrada:this.apontamento.inicial.substring(this.apontamento.inicial.indexOf(" ")+1,16),saida:this.apontamento.final.substring(this.apontamento.final.indexOf(" ")+1,16)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.qu),t.Y36($.a),t.Y36(ha.G),t.Y36(Z.gz),t.Y36(q.U),t.Y36(Z.F0),t.Y36(S.W),t.Y36(_.uU))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-crud-planejamento-lancamento"]],decls:10,vars:5,consts:[[1,"example-spacer"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","Filtro Contratos","matTooltipPosition","above",3,"click",4,"ngIf"],["mat-icon-button","","aria-label","Example icon-button with share icon",1,"example-icon",3,"click"],["autocomplete","off",3,"formGroup",4,"ngIf"],[4,"ngIf"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","Filtro Contratos","matTooltipPosition","above",3,"click"],["autocomplete","off",3,"formGroup"],["class","button-container-right",4,"ngIf"],[1,"cad-container"],["appearance","outline",1,"MidleWidth"],["matInput","","autofocus","","formControlName","entrada","mask","00:00","onfocus","this.select()",3,"dropSpecialCharacters"],["matInput","","formControlName","saida","mask","00:00","onfocus","this.select()",3,"dropSpecialCharacters"],["formControlName","encerra",1,"encerramento"],["appearance","outline",1,"LargerWidth"],["matInput","","formControlName","obs"],[1,"button-container-right"],["mat-raised-button","","color","primary",1,"buttons",3,"click"],["mat-raised-button","","color","accent",1,"buttons",3,"click"],[1,"coluna-cabec"],[4,"ngFor","ngForOf"],[1,"coluna-codigo"],[1,"coluna-descricao"],[1,"coluna-acao"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","Novo Apontamento","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","Filtrar Esta Data","matTooltipPosition","above",3,"click"],[1,"labelTitle"],[1,"labelData"],["mat-icon-button","","class","example-icon","aria-label","Example icon-button with share icon","matTooltip","Alterar Apontamento","matTooltipPosition","above",3,"click",4,"ngIf"],["mat-icon-button","","class","example-icon","aria-label","Example icon-button with share icon","matTooltip","Excluir Apontamento","matTooltipPosition","above",3,"click",4,"ngIf"],["mat-icon-button","","aria-label","Example icon-button with share icon","matTooltip","Alterar Apontamento","matTooltipPosition","above",1,"example-icon",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon","matTooltip","Excluir Apontamento","matTooltipPosition","above",1,"example-icon",3,"click"],["matTooltipPosition","above",1,"labelTitle",3,"matTooltip"]],template:function(e,a){1&e&&(t.TgZ(0,"p"),t.TgZ(1,"mat-toolbar"),t.TgZ(2,"span",0),t._uU(3),t.qZA(),t.YNc(4,fa,3,0,"button",1),t.TgZ(5,"button",2),t.NdJ("click",function(){return a.onRetorno()}),t.TgZ(6,"mat-icon"),t._uU(7,"arrow_back"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(8,Za,25,7,"form",3),t.YNc(9,Sa,10,1,"div",4)),2&e&&(t.xp6(3),t.AsE("Contrato: ",a.atividade.id_projeto," C\xf3digo Da Atividade: ",a.atividade.subconta,""),t.xp6(1),t.Q6J("ngIf",99==a.idAcao),t.xp6(4),t.Q6J("ngIf",99!==a.idAcao),t.xp6(1),t.Q6J("ngIf",99==a.idAcao))},directives:[O.Ye,_.O5,x.lW,T.Hw,U.gM,l._Y,l.JL,l.sg,f.KE,f.hX,k.Nt,l.Fj,G.hx,l.JJ,l.u,z.oG,_.sg],pipes:[_.uU,ga.r,K.X],styles:[".cad-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}.button-container-right[_ngcontent-%COMP%]{display:flex;justify-content:right;height:min-content}.SmallWidth[_ngcontent-%COMP%]{width:40px}.MidleWidth[_ngcontent-%COMP%]{width:130px}.LargeWidth[_ngcontent-%COMP%]{width:350px}.LargerWidth[_ngcontent-%COMP%]{width:500px}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.buttons[_ngcontent-%COMP%]{margin-left:10px;align-items:center}.cabecalho[_ngcontent-%COMP%]{font:blue;font-size:15px;font-weight:300;justify-content:left}.Browse[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;overflow-y:scroll;width:100%;height:500px}table[_ngcontent-%COMP%]{width:100%;cursor:pointer}.Cabecalho[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;height:30px;background-color:coral;text-align:center}.Detalhe[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;height:30px;color:#000}.linha[_ngcontent-%COMP%]{background-color:#fff}.linha[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background-color:#cc9}.labelTitleFirst[_ngcontent-%COMP%]{font-size:large;color:#00c}.labelTitle[_ngcontent-%COMP%]{font-size:large;color:#00c;margin-left:5px}.labelData[_ngcontent-%COMP%]{font-size:large;color:#000;margin-left:5px}.notIE[_ngcontent-%COMP%]{position:relative;display:inline-block}.select_tb[_ngcontent-%COMP%]{display:inline-block;height:30px;width:150px;padding:2px 10px 2px 2px;outline:none;color:#74646e;border:1px solid #C8BFC4;border-radius:4px;box-shadow:inset 1px 1px 2px #ddd8dc;background:#fff;margin-left:10px;margin-right:5px}.notIE[_ngcontent-%COMP%]   .fancyArrow[_ngcontent-%COMP%]{width:23px;height:28px;position:absolute;display:inline-block;top:1px;right:3px;background:url(https://stackoverflow.com/favicon.ico) right / 90% no-repeat #fff;pointer-events:none;margin-left:10px;margin-right:5px}@media screen and (min-width:0\\fffd){.notIE[_ngcontent-%COMP%]   .fancyArrow[_ngcontent-%COMP%]{display:none}}.input_tb[_ngcontent-%COMP%]{display:inline-block;height:30px;width:400px;padding:2px 10px 2px 2px;outline:none;color:#74646e;border:1px solid #C8BFC4;border-radius:4px;box-shadow:inset 1px 1px 2px #ddd8dc;background:#fff;margin-left:10px;margin-right:5px;text-transform:uppercase}.label_tb[_ngcontent-%COMP%]{margin-left:10px;margin-right:5px;vertical-align:middle;font-size:small}.button-right[_ngcontent-%COMP%]{display:flex;justify-content:right}.bordas[_ngcontent-%COMP%]{border:#0000CC solid 1px;padding-top:10px}.coluna-codigo[_ngcontent-%COMP%]{background-color:#878684;text-align:center;font-weight:bolder}.coluna-descricao[_ngcontent-%COMP%]{background-color:#a9ad9e}.coluna-acao[_ngcontent-%COMP%]{background-color:#e1e7d3;text-align:center;font-weight:400}.coluna-cabec[_ngcontent-%COMP%]{background-color:#e3bd11;font-size:large;text-align:center}.encerramento[_ngcontent-%COMP%]{margin-left:10px;padding-bottom:10px}"]}),o})();var gt=c(3211),ft=c(3639);function Ua(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().onResponsavel()}),t.TgZ(1,"mat-icon"),t._uU(2,"person"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Respons\xe1vel"),t.qZA(),t.qZA(),t.TgZ(5,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().onExecutor()}),t.TgZ(6,"mat-icon"),t._uU(7,"person_outline"),t.qZA(),t.TgZ(8,"span"),t._uU(9,"Executor"),t.qZA(),t.qZA(),t.TgZ(10,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().onPeriodo()}),t.TgZ(11,"mat-icon"),t._uU(12,"date_range"),t.qZA(),t.TgZ(13,"span"),t._uU(14,"Per\xedodo"),t.qZA(),t.qZA()}}function ka(o,n){if(1&o&&(t.TgZ(0,"div",17),t.TgZ(1,"mat-label",18),t._uU(2,"Horas Pl.:"),t.qZA(),t.TgZ(3,"mat-label",13),t._uU(4),t.qZA(),t.TgZ(5,"mat-label",18),t._uU(6,"Horas Ex.:"),t.qZA(),t.TgZ(7,"mat-label",13),t._uU(8),t.qZA(),t.TgZ(9,"mat-label",18),t._uU(10,"Horas Diretoria.:"),t.qZA(),t.TgZ(11,"mat-label",13),t._uU(12),t.qZA(),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(4),t.Oqu(e.atividade.horasplan),t.xp6(4),t.Oqu(e.atividade.horasexec),t.xp6(4),t.Oqu(e.atividade.horasdir)}}function Ia(o,n){if(1&o&&(t.TgZ(0,"div",17),t.TgZ(1,"mat-label",18),t._uU(2,"Horas Pl.:"),t.qZA(),t.TgZ(3,"mat-label",13),t._uU(4),t.qZA(),t.TgZ(5,"mat-label",18),t._uU(6,"Horas Ex.:"),t.qZA(),t.TgZ(7,"mat-label",13),t._uU(8),t.qZA(),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(4),t.Oqu(e.atividade.horasplan),t.xp6(4),t.Oqu(e.atividade.horasexec)}}function Na(o,n){if(1&o&&(t.TgZ(0,"div",17),t.TgZ(1,"mat-label",18),t._uU(2,"Respons\xe1vel:"),t.qZA(),t.TgZ(3,"mat-label",13),t._uU(4),t.qZA(),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(4),t.Oqu(e.atividade.resp_razao)}}function wa(o,n){if(1&o&&(t.TgZ(0,"div",17),t.TgZ(1,"mat-label",18),t._uU(2,"Data Inicial:"),t.qZA(),t.TgZ(3,"mat-label",13),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"mat-label",18),t._uU(7,"Data Final:"),t.qZA(),t.TgZ(8,"mat-label",13),t._uU(9),t.ALo(10,"date"),t.qZA(),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(4),t.Oqu(t.xi3(5,2,e.atividade.inicial,"dd/MM/yyyy")),t.xp6(5),t.Oqu(t.xi3(10,5,e.atividade.final,"dd/MM/yyyy"))}}function Ea(o,n){if(1&o&&(t.TgZ(0,"div",17),t.TgZ(1,"mat-label",18),t._uU(2,"Executor:"),t.qZA(),t.TgZ(3,"mat-label",13),t._uU(4),t.qZA(),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(4),t.Oqu(e.atividade.exec_razao)}}function Da(o,n){if(1&o&&(t.TgZ(0,"div",17),t.TgZ(1,"mat-label",18),t._uU(2,"Obs:"),t.qZA(),t.TgZ(3,"mat-label",13),t._uU(4),t.qZA(),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(4),t.Oqu(e.atividade.obs)}}function ya(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).onFiltro(i.atividade.subconta,i.atividade.nivel)}),t.TgZ(1,"mat-icon"),t._uU(2,"filter_list"),t.qZA(),t.qZA()}}function Ja(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td",11),t.TgZ(2,"mat-checkbox",12),t.NdJ("change",function(i){const s=t.CHM(e).$implicit;return t.oxw(2).setAllItens(i.checked,s.atividade)}),t.qZA(),t.qZA(),t.TgZ(3,"td",11),t.TgZ(4,"mat-label",13),t._uU(5),t.qZA(),t.YNc(6,ka,13,3,"div",14),t.YNc(7,Ia,9,2,"div",14),t.YNc(8,Na,5,1,"div",14),t.YNc(9,wa,11,8,"div",14),t.YNc(10,Ea,5,1,"div",14),t.YNc(11,Da,5,1,"div",14),t.qZA(),t.TgZ(12,"td",15),t.YNc(13,ya,3,0,"button",16),t.qZA(),t.qZA()}if(2&o){const e=n.$implicit;t.xp6(2),t.Q6J("checked",e.checked),t.xp6(3),t.Oqu(e.atividade.estru_descri),t.xp6(1),t.Q6J("ngIf",1==e.atividade.nivel),t.xp6(1),t.Q6J("ngIf","O"==e.atividade.tipo),t.xp6(1),t.Q6J("ngIf","O"==e.atividade.tipo),t.xp6(1),t.Q6J("ngIf","O"==e.atividade.tipo),t.xp6(1),t.Q6J("ngIf","O"==e.atividade.tipo),t.xp6(1),t.Q6J("ngIf","O"==e.atividade.tipo),t.xp6(2),t.Q6J("ngIf","S"==e.atividade.tipo)}}function Fa(o,n){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"table"),t.TgZ(2,"tr",9),t.TgZ(3,"th"),t._uU(4,"CONTA"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"DESCRI\xc7\xc3O"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"FILTRO"),t.qZA(),t.qZA(),t.YNc(9,Ja,14,9,"tr",10),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(9),t.Q6J("ngForOf",e.displayAtividades)}}class Ya{constructor(){this.checked=!1,this.atividade=new gt.o}}let Ma=(()=>{class o{constructor(e,a,i,r,s,d,m,h){this.respExecDialog=e,this.periodoDialog=a,this.globalService=i,this.atividadesService=r,this.usuariosService=s,this.route=d,this.router=m,this.appSnackBar=h,this.displayAtividades=[],this.projeto=new b.w,this.id_empresa=0,this.conta="",this.id_projeto=0,this.atividades=[],this.durationInSeconds=2,this.filtro=new R,this.usuarios=[],this.inscricaoRota=d.params.subscribe(g=>{this.id_empresa=g.id_empresa,this.conta=g.conta,this.id_projeto=g.id_projeto})}ngOnInit(){this.getAtividades(),this.getUsuarios()}ngOnDestroy(){var e,a,i,r;null===(e=this.inscricaoGetFiltro)||void 0===e||e.unsubscribe(),null===(a=this.inscricaoRota)||void 0===a||a.unsubscribe(),null===(i=this.inscricaoSave)||void 0===i||i.unsubscribe(),null===(r=this.inscricaoUsuario)||void 0===r||r.unsubscribe()}getAtividades(){let e=new at.l;e.id_empresa=this.id_empresa,e.id_projeto=this.id_projeto,e.conta=this.conta,e.orderby="projeto",this.globalService.setSpin(!0),this.inscricaoGetFiltro=this.atividadesService.getAtividades_01(e).subscribe(a=>{this.globalService.setSpin(!1),this.atividades=a,this.loadDisplayItens()},a=>{this.globalService.setSpin(!1),this.atividades=[],"Nehuma Informa\xe7\xe3o Para Esta Consulta."==a.error.message?this.appSnackBar.openSuccessSnackBar("Nenhuma Atividade Encontrada Para Este Projeto!","OK"):this.appSnackBar.openFailureSnackBar(`${a.error.tabela} - ${a.error.erro} - ${a.error.message}`,"OK")})}getUsuarios(){let e=new L.w;e.id_empresa=this.id_empresa,e.orderby="Raz\xe3o",this.globalService.setSpin(!0),this.inscricaoUsuario=this.usuariosService.getusuarios_01(e).subscribe(a=>{this.globalService.setSpin(!1);const i=new ft.j;i.id=0,i.razao="N\xe3o Especificar.",this.usuarios=[],this.usuarios.push(i),a.forEach(r=>this.usuarios.push(r))},a=>{this.globalService.setSpin(!1),this.usuarios=[],this.appSnackBar.openFailureSnackBar(`${a.error.tabela} - ${a.error.erro} - ${a.error.message}`,"OK")})}onRetorno(){this.router.navigate(["/projetos"])}setAllItens(e,a){this.displayAtividades.forEach(i=>{console.log(a.subconta.substring(0,2*a.nivel),i.atividade.subconta.substring(0,2*a.nivel),a.subconta.substring(0,2*a.nivel)==i.atividade.subconta.substring(0,2*a.nivel),a.nivel,i.atividade.nivel),a.subconta.substring(0,2*a.nivel)==i.atividade.subconta.substring(0,2*a.nivel)&&i.atividade.nivel>=a.nivel&&(i.checked="O"==a.tipo?!i.checked:e)})}loadDisplayItens(){this.displayAtividades=[],this.atividades.forEach(e=>{if(this.getFiltro(e)){const a=new Ya;a.checked=!1,a.atividade=e,this.displayAtividades.push(a)}})}onFiltro(e,a){this.SetFiltroSubConta(e,a),this.loadDisplayItens()}SetFiltroSubConta(e,a){this.filtro.subconta==e?(this.filtro.subconta="",this.filtro.nivel=0):(this.filtro.subconta=e,this.filtro.nivel=a),console.log("Filtro Conta:",this.filtro.subconta,this.filtro.nivel)}getFiltro(e){return""==this.filtro.subconta||this.filtro.subconta.trim()==e.subconta.substring(0,2*this.filtro.nivel)}onResponsavel(){this.openRespExecDialog("Respons\xe1vel","Defina O Respons\xe1vel")}onExecutor(){this.openRespExecDialog("Executor","Defina O Executor")}openRespExecDialog(e,a){}onPeriodo(){this.openPeriodoDialog()}openPeriodoDialog(){}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(v.uw),t.Y36(v.uw),t.Y36(q.U),t.Y36($.a),t.Y36(H.J),t.Y36(Z.gz),t.Y36(Z.F0),t.Y36(S.W))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-manut-atividade-lote"]],decls:17,vars:7,consts:[[1,"div-barra"],[1,"example-spacer"],["mat-icon-button","","aria-label","Example icon-button with share icon ",3,"matMenuTriggerFor"],["appMenu","matMenu"],["matMenuContent",""],["mat-icon-button","","aria-label","Example icon-button with share icon",1,"example-icon",3,"click"],[1,"Atividade"],[4,"ngIf"],["mat-menu-item","",3,"click"],[1,"coluna-cabec"],[4,"ngFor","ngForOf"],[1,"coluna-descricao"],["color","accent",3,"checked","change"],[1,"labelData"],["class","coluna-descricao cor-blue",4,"ngIf"],[1,"coluna-acao"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","Fixar T\xf3pico","matTooltipPosition","above",3,"click",4,"ngIf"],[1,"coluna-descricao","cor-blue"],[1,"labelTitle"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","Fixar T\xf3pico","matTooltipPosition","above",3,"click"]],template:function(e,a){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-toolbar"),t.TgZ(2,"span",1),t._uU(3),t.qZA(),t.TgZ(4,"button",2),t.TgZ(5,"mat-icon"),t._uU(6,"more_vert"),t.qZA(),t.qZA(),t.TgZ(7,"mat-menu",null,3),t.YNc(9,Ua,15,0,"ng-template",4),t.qZA(),t.TgZ(10,"button",5),t.NdJ("click",function(){return a.onRetorno()}),t.TgZ(11,"mat-icon"),t._uU(12,"arrow_back"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"p"),t._uU(14),t.qZA(),t.TgZ(15,"div",6),t.YNc(16,Fa,10,1,"div",7),t.qZA()),2&e){const i=t.MAs(8);t.xp6(3),t.AsE("Contrato:",a.projeto.id," ",a.projeto.descricao," - Manuten\xe7\xe3o das Atividades "),t.xp6(1),t.Q6J("matMenuTriggerFor",i),t.xp6(10),t.lnq("",a.id_empresa,"-",a.conta,"-",a.id_projeto,""),t.xp6(2),t.Q6J("ngIf",a.displayAtividades.length>0)}},directives:[O.Ye,x.lW,j.p6,T.Hw,j.VK,j.KA,_.O5,j.OP,_.sg,z.oG,f.hX,U.gM],pipes:[_.uU],styles:[""]}),o})();class Qa{constructor(){this.id_empresa=0,this.id_atividade=0,this.horasdir=0,this.user_update=0}}class Va{constructor(){this.horasdir=0,this.processar=!1}}function Ra(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().actionFunction()}),t.TgZ(1,"mat-icon"),t._uU(2,"check"),t.qZA(),t._uU(3," Gravar "),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("mat-dialog-close",e.data)}}let $a=(()=>{class o{constructor(e,a,i){this.formBuilder=e,this.dialogRef=a,this.data=i,this.formulario=e.group({horasdir:[{value:0}]})}ngOnInit(){this.setValue()}setValue(){this.formulario.setValue({horasdir:this.data.horasdir})}actionFunction(){this.data.horasdir=Number(this.formulario.value.horasdir),this.data.processar=!0,this.closeModal()}closeModal(){this.dialogRef.close()}itsOk(){return!isNaN(Number(this.formulario.value.horasdir))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.qu),t.Y36(v.so),t.Y36(v.WI))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-horas-diretoria-dialog"]],decls:15,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],[1,"col-med-1"],["appearance","outline",1,"col-max"],["matInput","","formControlName","horasdir"],[1,"button-container-right"],["mat-raised-button","","color","accent","cdkFocusInitial","",3,"click"],["mat-raised-button","","color","primary",3,"mat-dialog-close","click",4,"ngIf"],["mat-raised-button","","color","primary",3,"mat-dialog-close","click"]],template:function(e,a){1&e&&(t.TgZ(0,"h1",0),t._uU(1,"Informa A Horas Diretoria"),t.qZA(),t.TgZ(2,"div",1),t.TgZ(3,"form",2),t.TgZ(4,"div",3),t.TgZ(5,"mat-form-field",4),t.TgZ(6,"mat-label"),t._uU(7,"Horas Diretoria"),t.qZA(),t._UZ(8,"input",5),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",6),t.TgZ(10,"button",7),t.NdJ("click",function(){return a.closeModal()}),t.TgZ(11,"mat-icon"),t._uU(12,"cancel"),t.qZA(),t._uU(13," Cancelar "),t.qZA(),t.YNc(14,Ra,4,1,"button",8),t.qZA()),2&e&&(t.xp6(3),t.Q6J("formGroup",a.formulario),t.xp6(11),t.Q6J("ngIf",a.itsOk()))},directives:[v.uh,v.xY,l._Y,l.JL,l.sg,f.KE,f.hX,k.Nt,l.Fj,l.JJ,l.u,x.lW,T.Hw,_.O5,v.ZT],styles:["h1[_ngcontent-%COMP%]{text-align:left;font-family:Arial,Helvetica,sans-serif;font-size:x-large;color:#00f}"]}),o})();function La(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td",13),t.TgZ(2,"mat-label",14),t._uU(3),t.qZA(),t.TgZ(4,"div",15),t.TgZ(5,"mat-label",16),t._uU(6,"Horas Pl.:"),t.qZA(),t.TgZ(7,"mat-label",14),t._uU(8),t.qZA(),t.TgZ(9,"mat-label",16),t._uU(10,"Horas Ex.:"),t.qZA(),t.TgZ(11,"mat-label",14),t._uU(12),t.qZA(),t.TgZ(13,"mat-label",16),t._uU(14,"Horas Diretoria.:"),t.qZA(),t.TgZ(15,"mat-label",14),t._uU(16),t.qZA(),t.qZA(),t.TgZ(17,"div",15),t.TgZ(18,"mat-label",16),t._uU(19,"Data Inicial:"),t.qZA(),t.TgZ(20,"mat-label",14),t._uU(21),t.ALo(22,"date"),t.qZA(),t.TgZ(23,"mat-label",16),t._uU(24,"Data Final:"),t.qZA(),t.TgZ(25,"mat-label",14),t._uU(26),t.ALo(27,"date"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"td",17),t.TgZ(29,"button",18),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).onHorasDiretoria(r)}),t.TgZ(30,"mat-icon"),t._uU(31,"edit"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=n.$implicit;t.xp6(3),t.Oqu(e.estru_descri),t.xp6(5),t.Oqu(e.horasplan),t.xp6(4),t.Oqu(e.horasexec),t.xp6(4),t.Oqu(e.horasdir),t.xp6(5),t.Oqu(t.xi3(22,6,e.inicial,"dd/MM/yyyy")),t.xp6(5),t.Oqu(t.xi3(27,9,e.final,"dd/MM/yyyy"))}}function Ba(o,n){if(1&o&&(t.TgZ(0,"div",10),t.TgZ(1,"table"),t.TgZ(2,"tr",11),t.TgZ(3,"th"),t._uU(4,"ATIVIDADES"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"AC\xc3O"),t.qZA(),t.qZA(),t.YNc(7,La,32,12,"tr",12),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(7),t.Q6J("ngForOf",e.atividades)}}let Ha=(()=>{class o{constructor(e,a,i,r,s,d,m,h){this.formBuilder=e,this.horasDiretoriaDialog=a,this.globalService=i,this.atividadesService=r,this.projetosService=s,this.route=d,this.router=m,this.appSnackBar=h,this.projeto=new b.w,this.id_empresa=0,this.conta="",this.versao="",this.id_projeto=0,this.atividades=[],this.durationInSeconds=2,this.inscricaoRota=d.params.subscribe(g=>{this.id_empresa=g.id_empresa,this.id_projeto=g.id_projeto}),this.formulario=e.group({horasplan:[{value:""}],horasexec:[{value:""}],horasdir:[{value:""}]}),this.setValue()}ngOnInit(){this.getProjeto(),this.getAtividades()}ngOnDestroy(){var e,a,i,r;null===(e=this.inscricaoGetFiltro)||void 0===e||e.unsubscribe(),null===(a=this.inscricaoRota)||void 0===a||a.unsubscribe(),null===(i=this.inscricaoSave)||void 0===i||i.unsubscribe(),null===(r=this.incricaoProjeto)||void 0===r||r.unsubscribe()}getAtividades(){let e=new at.l;e.id_empresa=this.id_empresa,e.id_projeto=this.id_projeto,e.nivel=1,e.orderby="projeto",this.globalService.setSpin(!0),this.inscricaoGetFiltro=this.atividadesService.getAtividades_01(e).subscribe(a=>{this.globalService.setSpin(!1),this.atividades=a},a=>{this.globalService.setSpin(!1),this.atividades=[],"Nehuma Informa\xe7\xe3o Para Esta Consulta."==a.error.message?this.appSnackBar.openSuccessSnackBar("Nenhuma Atividade Encontrada Para Este Projeto!","OK"):this.appSnackBar.openFailureSnackBar(`${a.error.tabela} - ${a.error.erro} - ${a.error.message}`,"OK")})}getProjeto(){this.globalService.setSpin(!0),this.incricaoProjeto=this.projetosService.getProjeto(this.id_empresa,this.id_projeto).subscribe(e=>{this.globalService.setSpin(!1),this.projeto=e,this.setValue()},e=>{this.globalService.setSpin(!1),this.projeto=new b.w,this.setValue(),"Nehuma Informa\xe7\xe3o Para Esta Consulta."==e.error.message?this.appSnackBar.openSuccessSnackBar("Nenhum Projeto! Encontrado","OK"):this.appSnackBar.openFailureSnackBar(`${e.error.tabela} - ${e.error.erro} - ${e.error.message}`,"OK")})}saveHorasDir(e,a){const i=new Qa;i.id_empresa=e.id_empresa,i.id_atividade=e.id,i.horasdir=a,i.user_update=this.globalService.getUsuario().id,this.globalService.setSpin(!0),this.inscricaoSave=this.atividadesService.atividadeUpdateHoraDir(i).subscribe(r=>{this.globalService.setSpin(!1),this.appSnackBar.openSuccessSnackBar("Horas Alteradas!","OK"),this.getProjeto(),this.getAtividades()},r=>{this.globalService.setSpin(!1),this.atividades=[],this.appSnackBar.openFailureSnackBar(`${r.error.tabela} - ${r.error.erro} - ${r.error.message}`,"OK")})}setValue(){this.formulario.setValue({horasplan:this.projeto.horasplan,horasexec:this.projeto.horasexec,horasdir:this.projeto.horasdir})}getLabelCabec(){return this.atividades.length>0?`Projeto:${this.atividades[0].id_projeto} ${this.atividades[0].proj_descri} - Horas Diretoria `:""}onHorasDiretoria(e){this.openHorasDiretoriaDialog(e)}openHorasDiretoriaDialog(e){const a=new Va;a.horasdir=e.horasdir;const i=new v.vA;i.disableClose=!0,i.id="horasdir",i.width="600px",i.data=a,this.horasDiretoriaDialog.open($a,i).beforeClosed().subscribe(s=>{console.log(s),s.processar?this.saveHorasDir(e,s.horasdir):alert("A\xe7\xe3o Ignorada")})}onRetorno(){this.router.navigate(["/projetos"])}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.qu),t.Y36(v.uw),t.Y36(q.U),t.Y36($.a),t.Y36(A.T),t.Y36(Z.gz),t.Y36(Z.F0),t.Y36(S.W))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-horas-diretoria"]],decls:24,vars:6,consts:[[1,"div-barra"],[1,"example-spacer"],["mat-icon-button","","aria-label","Example icon-button with share icon",1,"example-icon",3,"click"],["autocomplete","off",3,"formGroup"],[1,"col-med-3"],["appearance","outline",1,"col-max"],["matInput","","formControlName","horasplan",3,"readonly"],["matInput","","formControlName","horasexec",3,"readonly"],["matInput","","formControlName","horasdir",3,"readonly"],["class","atividades",4,"ngIf"],[1,"atividades"],[1,"coluna-cabec"],[4,"ngFor","ngForOf"],[1,"coluna-descricao"],[1,"labelData"],[1,"coluna-descricao","cor-blue"],[1,"labelTitle"],[1,"coluna-acao"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","Editar Atividade","matTooltipPosition","above",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-toolbar"),t.TgZ(2,"span",1),t._uU(3),t.qZA(),t.TgZ(4,"button",2),t.NdJ("click",function(){return a.onRetorno()}),t.TgZ(5,"mat-icon"),t._uU(6,"arrow_back"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"h3"),t._uU(8,"Resumo De Horas Do Projeto:"),t.qZA(),t.TgZ(9,"form",3),t.TgZ(10,"div",4),t.TgZ(11,"mat-form-field",5),t.TgZ(12,"mat-label"),t._uU(13,"Horas Planejadas"),t.qZA(),t._UZ(14,"input",6),t.qZA(),t.TgZ(15,"mat-form-field",5),t.TgZ(16,"mat-label"),t._uU(17,"Horas Executadas"),t.qZA(),t._UZ(18,"input",7),t.qZA(),t.TgZ(19,"mat-form-field",5),t.TgZ(20,"mat-label"),t._uU(21,"Horas Diretoria"),t.qZA(),t._UZ(22,"input",8),t.qZA(),t.qZA(),t.qZA(),t.YNc(23,Ba,8,1,"div",9)),2&e&&(t.xp6(3),t.Oqu(a.getLabelCabec()),t.xp6(6),t.Q6J("formGroup",a.formulario),t.xp6(5),t.Q6J("readonly",!0),t.xp6(4),t.Q6J("readonly",!0),t.xp6(4),t.Q6J("readonly",!0),t.xp6(1),t.Q6J("ngIf",a.atividades.length>0))},directives:[O.Ye,x.lW,T.Hw,l._Y,l.JL,l.sg,f.KE,f.hX,k.Nt,l.Fj,l.JJ,l.u,_.O5,_.sg,U.gM],pipes:[_.uU],styles:[".atividade[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;overflow-y:scroll;width:100%;height:500px}table[_ngcontent-%COMP%]{width:100%;cursor:pointer}.coluna-codigo[_ngcontent-%COMP%]{background-color:#878684;font-weight:bolder}.coluna-descricao[_ngcontent-%COMP%]{background-color:#a9ad9e}.coluna-acao[_ngcontent-%COMP%]{background-color:#e1e7d3;text-align:center;font-weight:400}.coluna-cabec[_ngcontent-%COMP%]{background-color:#e3bd11;text-align:center}.buttons[_ngcontent-%COMP%]{margin-top:12px;align-items:center}"]}),o})();class Ga{constructor(){this.checked=!1,this.show=!0,this.expandido=!0,this.vazia=!1,this.atividade=new gt.o}}class za{constructor(){this.status=!1,this.last=0}}class Ka{constructor(){this.id_empresa=0,this.conta="",this.versao="",this.id_projeto=0,this.id_resp=0,this.id_exec=0,this.controle="N"}}function Wa(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",13),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).expandeContrair(i)}),t.TgZ(2,"mat-icon"),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"mat-checkbox",14),t.NdJ("change",function(i){t.CHM(e);const r=t.oxw().$implicit;return t.oxw(2).setAllItens(i.checked,r.atividade)}),t.qZA(),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.xp6(3),t.Oqu(e.expandido?"expand_less":"expand_more"),t.xp6(1),t.Q6J("checked",e.checked)("disabled",!e.vazia)}}function Xa(o,n){1&o&&(t.TgZ(0,"div"),t._UZ(1,"mat-label",15),t.qZA())}function to(o,n){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"mat-label",15),t._uU(2),t.qZA(),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.atividade.estru_descri)}}function eo(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw(2).expandeContrair(i)}),t.TgZ(1,"mat-icon"),t._uU(2),t.qZA(),t.qZA()}if(2&o){const e=t.oxw(2).$implicit;t.xp6(2),t.Oqu(e.expandido?"expand_less":"expand_more")}}function ao(o,n){1&o&&t._UZ(0,"div",20)}function oo(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",16),t.YNc(1,eo,3,1,"button",17),t.TgZ(2,"mat-checkbox",18),t.NdJ("change",function(i){t.CHM(e);const r=t.oxw().$implicit;return t.oxw(2).setAllItens(i.checked,r.atividade)}),t.qZA(),t.TgZ(3,"mat-label",15),t._uU(4),t.qZA(),t.YNc(5,ao,1,0,"div",19),t.qZA()}if(2&o){const e=t.oxw().$implicit,a=t.oxw(2);t.xp6(1),t.Q6J("ngIf","O"!=e.atividade.tipo),t.xp6(1),t.Q6J("checked",e.checked)("ngStyle",a.setStyle(e.atividade))("disabled",!e.vazia),t.xp6(2),t.hij(" ",e.atividade.estru_descri," "),t.xp6(1),t.Q6J("ngIf",1==e.atividade.nivel)}}function io(o,n){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td",11),t.YNc(2,Wa,5,3,"div",7),t.YNc(3,Xa,2,0,"div",7),t.qZA(),t.TgZ(4,"td",11),t.YNc(5,to,3,1,"div",7),t.YNc(6,oo,6,6,"div",12),t.qZA(),t.qZA()),2&o){const e=n.$implicit;t.xp6(2),t.Q6J("ngIf",1==e.atividade.nivel),t.xp6(1),t.Q6J("ngIf",e.atividade.nivel>1),t.xp6(2),t.Q6J("ngIf",1==e.atividade.nivel),t.xp6(1),t.Q6J("ngIf",e.atividade.nivel>1)}}function ro(o,n){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"table",8),t.TgZ(2,"tr",9),t.TgZ(3,"th"),t._uU(4,"CONTA"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"DESCRI\xc7\xc3O"),t.qZA(),t.qZA(),t.YNc(7,io,7,4,"tr",10),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(7),t.Q6J("ngForOf",e.getVisiblesAtividades())}}let no=(()=>{class o{constructor(e,a,i,r,s,d){this.globalService=e,this.atividadesService=a,this.usuariosService=i,this.route=r,this.router=s,this.appSnackBar=d,this.displayAtividades=[],this.projeto=new b.w,this.conta="",this.conta_versao="",this.id_projeto=0,this.id_resp=0,this.id_exec=0,this.atividades=[],this.durationInSeconds=2,this.filtro=new R,this.usuarios=[],this.inscricaoRota=r.params.subscribe(m=>{this.conta=m.conta,this.conta_versao=m.conta_versao,this.id_projeto=m.id_projeto,this.id_resp=m.id_resp,this.id_exec=m.id_exec})}ngOnInit(){this.getAtividades(),this.getUsuarios()}ngOnDestroy(){var e,a,i,r;null===(e=this.inscricaoGetFiltro)||void 0===e||e.unsubscribe(),null===(a=this.inscricaoRota)||void 0===a||a.unsubscribe(),null===(i=this.inscricaoSave)||void 0===i||i.unsubscribe(),null===(r=this.inscricaoUsuario)||void 0===r||r.unsubscribe()}getAtividades(){let e=new Ka;e.id_empresa=this.globalService.id_empresa,e.id_projeto=this.id_projeto,e.conta=this.conta,e.versao=this.conta_versao,e.id_resp=this.id_resp,e.id_exec=this.id_exec,16==this.globalService.getUsuario().id&&(e.controle=""),this.globalService.setSpin(!0),this.inscricaoGetFiltro=this.atividadesService.getAtividades_02(e).subscribe(a=>{this.globalService.setSpin(!1),this.loadDisplayItens(a),this.displayAtividades[0].expandido=!0,this.expandeContrair(this.displayAtividades[0])},a=>{this.globalService.setSpin(!1),this.atividades=[],"Nehuma Informa\xe7\xe3o Para Esta Consulta."==a.error.message?this.appSnackBar.openSuccessSnackBar("Nenhuma Atividade Encontrada Para Este Projeto!","OK"):(console.log(a),this.appSnackBar.openFailureSnackBar(`${a}`,"OK"))})}getUsuarios(){let e=new L.w;e.id_empresa=this.globalService.id_empresa,e.orderby="Raz\xe3o",this.globalService.setSpin(!0),this.inscricaoUsuario=this.usuariosService.getusuarios_01(e).subscribe(a=>{this.globalService.setSpin(!1);const i=new ft.j;i.id=0,i.razao="N\xe3o Especificar.",this.usuarios=[],this.usuarios.push(i),a.forEach(r=>this.usuarios.push(r))},a=>{this.globalService.setSpin(!1),this.usuarios=[],this.appSnackBar.openFailureSnackBar(`${a.error.tabela} - ${a.error.erro} - ${a.error.message}`,"OK")})}onRetorno(){this.router.navigate(["projetos/anexaratividade",this.globalService.getIdEmpresa(),this.id_projeto,"NULL"])}setAllItens(e,a){let i;this.displayAtividades.forEach(r=>{a.subconta.substring(0,2*a.nivel)==r.atividade.subconta.substring(0,2*a.nivel)&&r.atividade.nivel>=a.nivel&&(r.checked="O"==a.tipo?!r.checked:e)}),i=this.setStatusRecursivo(1,this.displayAtividades[0].atividade.conta).status,this.displayAtividades[0].vazia&&(this.displayAtividades[0].checked=i)}setStyle(e){let a={"margin-left":"5px"};switch(e.nivel){case 1:a={"margin-left":"5px"};break;case 2:a={"margin-left":"0px"};break;case 3:a={"margin-left":"62px"};break;default:a={"margin-left":"5px"}}return a}loadDisplayItens(e){this.displayAtividades=[],e.forEach(a=>{const i=new Ga;i.checked="N"==a.vazia,i.show=!0,i.expandido=!1,i.vazia="S"==a.vazia,i.atividade=a,this.displayAtividades.push(i)})}getVisiblesAtividades(){return this.displayAtividades.filter(e=>1==e.atividade.nivel||e.show)}expandeContrair(e){e.expandido=!e.expandido,this.displayAtividades.forEach(a=>{(1==e.atividade.nivel&&a.atividade.subconta.substring(0,2)==e.atividade.subconta.substring(0,2)||a.atividade.conta==e.atividade.conta&&a.atividade.subconta.trim()==e.atividade.subconta.trim())&&(a.expandido=e.expandido,this.setSubConta(a.atividade.subconta.trim(),a.expandido,a.atividade.nivel))})}setSubConta(e,a,i){this.displayAtividades.forEach(r=>{r.atividade.nivel>i&&r.atividade.subconta.trim().substring(0,2*i)==e&&("O"==r.atividade.tipo&&(r.show=a),r.expandido=a)})}setStatusRecursivo(e,a){let i=new za;for(let s=e;s<this.displayAtividades.length;s++)if("C"!=this.displayAtividades[s].atividade.tipo&&"S"!=this.displayAtividades[s].atividade.tipo){if(i.last=s,this.displayAtividades[s].checked&&(i.status=!0),s<this.displayAtividades.length-1&&"O"!=this.displayAtividades[s+1].atividade.tipo)return i}else{let d=this.setStatusRecursivo(s+1,this.displayAtividades[s].atividade.subconta);this.displayAtividades[s].checked=d.status,s=d.last,d.status&&(i.status=!0)}return i}onSave(){this.displayAtividades.forEach(e=>{e.atividade.id_resp=this.id_resp,e.atividade.id_exec=this.id_exec}),this.globalService.setSpin(!0),this.inscricaoSave=this.atividadesService.anexaatividadev2(this.displayAtividades).subscribe(e=>{this.globalService.setSpin(!1),this.appSnackBar.openSuccessSnackBar(e.message,"OK"),this.onRetorno()},e=>{this.globalService.setSpin(!1),this.atividades=[],"Nehuma Informa\xe7\xe3o Para Esta Consulta."==e.error.message?this.appSnackBar.openSuccessSnackBar("Nenhuma Atividade Encontrada Para Este Projeto!","OK"):this.appSnackBar.openFailureSnackBar(`${e}`,"OK")})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(q.U),t.Y36($.a),t.Y36(H.J),t.Y36(Z.gz),t.Y36(Z.F0),t.Y36(S.W))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-anexar-v2"]],decls:14,vars:3,consts:[[1,"div-barra"],[1,"example-spacer"],["mat-icon-button","","aria-label","Example icon-button with share icon","matTooltip","Gravar","matTooltipPosition","above",1,"example-icon",3,"click"],[1,"green-icon"],["mat-icon-button","","aria-label","Example icon-button with share icon","matTooltip","Cancelar","matTooltipPosition","above",1,"example-icon",3,"click"],[1,"red-icon"],["mat-icon-button","","aria-label","Example icon-button with share icon",1,"example-icon",3,"click"],[4,"ngIf"],[1,"Browse_Lanc"],[1,"coluna-cabec"],[4,"ngFor","ngForOf"],[1,"coluna-descricao"],["class","linha-status-projeto",4,"ngIf"],["mat-icon-button","","aria-label","Example icon-button with share icon ",3,"click"],["color","accent",3,"checked","disabled","change"],[1,"labelData"],[1,"linha-status-projeto"],["mat-icon-button","","aria-label","Example icon-button with share icon ",3,"click",4,"ngIf"],["color","accent",3,"checked","ngStyle","disabled","change"],["class","coluna-descricao cor-blue",4,"ngIf"],[1,"coluna-descricao","cor-blue"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-toolbar"),t.TgZ(2,"span",1),t._uU(3),t.qZA(),t.TgZ(4,"button",2),t.NdJ("click",function(){return a.onSave()}),t.TgZ(5,"mat-icon",3),t._uU(6,"check"),t.qZA(),t.qZA(),t.TgZ(7,"button",4),t.NdJ("click",function(){return a.onRetorno()}),t.TgZ(8,"mat-icon",5),t._uU(9,"cancel"),t.qZA(),t.qZA(),t.TgZ(10,"button",6),t.NdJ("click",function(){return a.onRetorno()}),t.TgZ(11,"mat-icon"),t._uU(12,"arrow_back"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(13,ro,8,1,"div",7)),2&e&&(t.xp6(3),t.AsE("Contrato:",a.projeto.id," ",a.projeto.descricao," - Manuten\xe7\xe3o das Atividades "),t.xp6(10),t.Q6J("ngIf",a.displayAtividades.length>0))},directives:[O.Ye,x.lW,U.gM,T.Hw,_.O5,_.sg,z.oG,f.hX,_.PC],styles:[""]}),o})();var so=c(1759),lo=c(9648);class vt{constructor(){this.id=0,this.nome="",this.horas=0}}var co=c(8059);function uo(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t.TgZ(2,"div"),t.TgZ(3,"mat-label",16),t._uU(4),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"td"),t.TgZ(6,"div"),t.TgZ(7,"mat-label",16),t._uU(8),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"td"),t.TgZ(10,"div"),t.TgZ(11,"mat-label",17),t._uU(12),t.ALo(13,"horaSexagenal"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"td"),t.TgZ(15,"div"),t.TgZ(16,"button",18),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).onFiltro(r)}),t.TgZ(17,"mat-icon"),t._uU(18,"filter_list"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=n.$implicit;t.xp6(4),t.Oqu(e.id),t.xp6(4),t.Oqu(e.nome),t.xp6(4),t.Oqu(t.lcZ(13,3,e.horas))}}function po(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",8,9),t.TgZ(2,"h3",10),t._uU(3,"EXECUTORES"),t.qZA(),t.TgZ(4,"table",11),t.TgZ(5,"tr",12),t.TgZ(6,"th"),t._uU(7,"C\xd3DIGO"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"NOME"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"HORAS"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"A\xc7\xc3O"),t.qZA(),t.qZA(),t.YNc(14,uo,19,5,"tr",13),t.qZA(),t.TgZ(15,"div",14),t.TgZ(16,"button",15),t.NdJ("click",function(){return t.CHM(e),t.oxw().onTodos()}),t._uU(17,"Todos"),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(14),t.Q6J("ngForOf",e.executores)}}function mo(o,n){1&o&&(t.TgZ(0,"div",23),t.TgZ(1,"mat-icon",24),t._uU(2,"check"),t.qZA(),t.qZA())}function _o(o,n){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t.TgZ(2,"div",20),t.TgZ(3,"div",21),t.TgZ(4,"mat-label",16),t._uU(5),t.ALo(6,"date"),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"mat-label",16),t._uU(9),t.ALo(10,"horaSexagenal"),t.qZA(),t.qZA(),t.YNc(11,mo,3,0,"div",22),t.qZA(),t.TgZ(12,"div"),t.TgZ(13,"mat-label",16),t._uU(14),t.ALo(15,"firstName"),t.qZA(),t.qZA(),t.TgZ(16,"div"),t.TgZ(17,"mat-label",16),t._uU(18),t.ALo(19,"firstName"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"td"),t.TgZ(21,"div"),t.TgZ(22,"mat-label",16),t._uU(23),t.qZA(),t.qZA(),t.TgZ(24,"div"),t.TgZ(25,"mat-label",16),t._uU(26),t.qZA(),t.qZA(),t.TgZ(27,"div"),t.TgZ(28,"mat-label",16),t._uU(29),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"td"),t.TgZ(31,"div"),t.TgZ(32,"mat-label",16),t._uU(33),t.qZA(),t.qZA(),t.TgZ(34,"div"),t.TgZ(35,"mat-label",16),t._uU(36),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o){const e=n.$implicit;t.xp6(5),t.AsE("",t.xi3(6,12,e.inicial,"dd/MM/YY HH:mm")," as ",t.xi3(7,15,e.final,"HH:mm")," "),t.xp6(4),t.Oqu(t.lcZ(10,18,e.horasapon)),t.xp6(2),t.Q6J("ngIf","S"==e.encerramento),t.xp6(3),t.hij("Resp:",t.lcZ(15,20,e.resp_razao),""),t.xp6(4),t.hij("Resp:",t.lcZ(19,22,e.exec_razao),""),t.xp6(5),t.AsE("Contr:(",e.id_projeto,") ",e.cli_razao,""),t.xp6(3),t.Oqu(e.proj_descricao),t.xp6(3),t.Oqu(e.estru_descricao),t.xp6(4),t.Oqu(e.motivo_descricao),t.xp6(3),t.Oqu(e.obs)}}function ho(o,n){if(1&o&&(t.TgZ(0,"div",19),t.TgZ(1,"h3",10),t._uU(2,"APONTAMENTOS"),t.qZA(),t.TgZ(3,"table",11),t.TgZ(4,"tr",12),t.TgZ(5,"th"),t._uU(6,"HOR\xc1RIO"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"CLIENTE/DESCRI\xc7\xc3O/ATIVIDADE"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"MOTIVO/OBS"),t.qZA(),t.qZA(),t.YNc(11,_o,37,24,"tr",13),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(11),t.Q6J("ngForOf",e.getApontatamentos())}}let go=(()=>{class o{constructor(e,a,i,r,s,d,m,h){this.route=e,this.router=a,this.appSnackBar=i,this.globalService=r,this.projetosService=s,this.aponExecucaoService=d,this.horaSexagenal=m,this.firstName=h,this.projeto=new b.w,this.id_empresa=0,this.id_projeto=0,this.apontamentos=[],this.totalHoras=0,this.responsaveis=[],this.executores=[],this.id_exec=0,google.charts.load("current",{packages:["corechart"]}),this.projeto=new b.w,this.inscricaoRota=e.params.subscribe(g=>{this.id_empresa=g.id_empresa,this.id_projeto=g.id_projeto})}ngOnInit(){this.getProjeto()}ngOnDestroy(){var e,a,i;null===(e=this.inscricaoRota)||void 0===e||e.unsubscribe(),null===(a=this.inscricaoGetProjeto)||void 0===a||a.unsubscribe(),null===(i=this.inscricaoAponExecucao)||void 0===i||i.unsubscribe()}getProjeto(){this.globalService.setSpin(!0),this.inscricaoGetProjeto=this.projetosService.getProjeto(this.id_empresa,this.id_projeto).subscribe(e=>{this.globalService.setSpin(!1),this.projeto=e,this.getApontamentosExecucao()},e=>{this.globalService.setSpin(!1),this.projeto=new b.w,this.apontamentos=[],this.appSnackBar.openFailureSnackBar(`Pesquisa  Projeto ${(0,u.bZ)(e)}`,"OK")})}getApontamentosExecucao(){let e=new lo.W;e.id_empresa=this.globalService.getIdEmpresa(),e.id_exec=0,e.id_projeto=this.projeto.id,e.data="",e.orderby="Executor",9e5==this.id_projeto&&(e.controle=""),this.globalService.setSpin(!0),this.inscricaoAponExecucao=this.aponExecucaoService.getApoExecucoes_01(e).subscribe(a=>{this.globalService.setSpin(!1),this.apontamentos=a,this.totalHoras=0,console.log(this.apontamentos),this.apontamentos.forEach(i=>{this.totalHoras=this.totalHoras+Number(i.horasapon);let r=this.responsaveis.findIndex(s=>s.id==i.id_resp);if(-1==r){const s=new vt;s.id=i.id_resp,s.nome=i.resp_razao,s.horas=Number(i.horasapon),this.responsaveis.push(s)}else this.responsaveis[r].horas=this.responsaveis[r].horas+Number(i.horasapon);if(r=this.executores.findIndex(s=>s.id==i.id_exec),-1==r){const s=new vt;s.id=i.id_exec,s.nome=i.exec_razao,s.horas=Number(i.horasapon),this.executores.push(s)}else this.executores[r].horas=this.executores[r].horas+Number(i.horasapon)}),this.Atualizar()},a=>{this.globalService.setSpin(!1),this.apontamentos=[],this.totalHoras=0,"Nehuma Informa\xe7\xe3o Para Esta Consulta."!=a.error.message&&this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Apontamentos ${(0,u.bZ)(a)}`,"OK")})}onFiltro(e){this.id_exec=e.id}onTodos(){this.id_exec=0}getApontatamentos(){return 0==this.id_exec?this.apontamentos:this.apontamentos.filter(e=>e.id_exec==this.id_exec)}onRetorno(){const e=this.globalService.estadoFind("projeto");if(null!=e){let a=e.getParametro();Object(a).new=!1,Object(a).id_retorno=this.projeto.id,e.parametro=JSON.stringify(a),this.globalService.estadoSave(e)}this.router.navigate(["/projetos/projetos","SIM"])}Atualizar(){this.globalService.logado&&this.buidChartExecutores(this.executores)}buidChartExecutores(e){var a=s=>{var d=0,m=new google.visualization.DataTable;m.addColumn("string","Topping"),m.addColumn("number","Slices"),e.forEach(g=>{m.addRows([[this.firstName.transform(g.nome),g.horas]]),d+=g.horas});var h={title:`Total De Horas Trabalhadas ${this.horaSexagenal.transform(d)}`,width:400,height:300};s().draw(m,h)},i=()=>new google.visualization.PieChart(document.getElementById("chart_div"));google.charts.setOnLoadCallback(()=>a(i))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Z.gz),t.Y36(Z.F0),t.Y36(S.W),t.Y36(q.U),t.Y36(A.T),t.Y36(co.A),t.Y36(K.X),t.Y36(tt.z))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-dashboardv1"]],decls:13,vars:7,consts:[[1,"div-barra"],[1,"example-spacer"],["mat-icon-button","","aria-label","Example icon-button with share icon","matTooltip","Retorno","matTooltipPosition","above",1,"example-icon",3,"click"],[1,"col-med-2"],["id","chart_div",1,"col-max"],["id","content","class","col-max box",4,"ngIf"],["class","box ",4,"ngIf"],[1,"rodape"],["id","content",1,"col-max","box"],["content",""],[1,"alinha_centro"],[1,"Browse_Lanc"],[1,"coluna-cabec"],[4,"ngFor","ngForOf"],[1,"button-container-right"],["mat-button","",1,"green-icon",3,"click"],[1,"Browse_Lanc_td"],[1,"Browse_Lanc_td_rigth"],["mat-icon-button","","aria-label","Example icon-button with share icon","matTooltip","Filtrar Lan\xe7amentos","matTooltipPosition","above",1,"example-icon",3,"click"],[1,"box"],[1,"wrapper"],[1,"first"],["class","second",4,"ngIf"],[1,"second"],[1,"green-icon"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-toolbar"),t.TgZ(2,"span",1),t._uU(3),t.ALo(4,"horaSexagenal"),t.qZA(),t.TgZ(5,"button",2),t.NdJ("click",function(){return a.onRetorno()}),t.TgZ(6,"mat-icon"),t._uU(7,"arrow_back"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",3),t._UZ(9,"div",4),t.YNc(10,po,18,1,"div",5),t.qZA(),t.YNc(11,ho,12,1,"div",6),t._UZ(12,"div",7)),2&e&&(t.xp6(3),t.lnq("Contrato:",a.projeto.id,"-",a.projeto.cliente_razao," Horas executadas: ",t.lcZ(4,5,a.projeto.horasexec),""),t.xp6(7),t.Q6J("ngIf",a.executores.length>0),t.xp6(1),t.Q6J("ngIf",a.getApontatamentos().length>0))},directives:[O.Ye,x.lW,U.gM,T.Hw,_.O5,_.sg,f.hX],pipes:[K.X,_.uU,tt.z],styles:["tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2aa}tr[_ngcontent-%COMP%]:hover{background-color:#caa99d}"]}),o})();class ot{constructor(){this.id_empresa=0,this.id_projeto=0,this.data_vencto="",this.data_pagto="",this.valor=0,this.obs="",this.user_insert=0,this.user_update=0,this.id_cliente=0,this.cli_razao="",this.cli_fantasi=""}}class fo{constructor(){this.id_empresa=0,this.id_projeto=0,this.id_cliente=0,this.data_vencto="",this.data_pagto="",this.pagina=0,this.tamPagina=50,this.contador="N",this.orderby="",this.sharp=!1}}class vo{constructor(){this.vlr_total=0,this.nro_parcelas=1,this.vlr_parcela=0,this.first_day=!1,this.last_day=!1,this.skip_weekend=!1,this.day=0,this.tipo_arredondamento=0,this.vlr_arredondamento=0}}var Zo=c(2340),bo=c(1841);let Ao=(()=>{class o{constructor(e){this.http=e,this.apiURL=Zo.N.apiURL}getTitulosProjeto(){return this.http.get(`${this.apiURL}projetos`)}getTitulosProjeto_01(e){return this.http.post(`${this.apiURL}titulosprojeto`,e)}getTituloProjeto(e,a,i){return this.http.get(`${this.apiURL}titulo_projeto/${e}/${a}/${i}`)}TituloProjetoInsert(e){return this.http.post(`${this.apiURL}titulo_projeto/`,e)}TituloProjetoUpdate(e){return this.http.put(`${this.apiURL}titulo_projeto/`,e)}TituloProjetoDelete(e,a,i){return this.http.delete(`${this.apiURL}titulo_projeto/${e}/${a}/${i}`)}tituloProjetoSaveAll(e){return this.http.post(`${this.apiURL}titulo_projeto_save_all/`,e)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(bo.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function xo(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){return t.CHM(e),t.oxw().escolha(99)}),t.TgZ(1,"mat-icon"),t._uU(2,"add_comment"),t.qZA(),t.qZA()}}function To(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return i.escolha(i.getAcoes().Inclusao)})("click",function(){t.CHM(e);const i=t.oxw();return i.escolha(i.getAcoes().Inclusao)}),t.TgZ(1,"mat-icon"),t._uU(2,"add_circle_outline"),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("matTooltip",e.getTexto().incluir)}}function Co(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);let a;t.xp6(1),t.hij(" ",null==(a=e.cadastro.get("data_ref"))||null==a.errors?null:a.errors.message,"")}}function qo(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Valor Obrigat\xf3rio!"),t.qZA())}function Po(o,n){if(1&o&&(t.TgZ(0,"mat-option",33),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function jo(o,n){if(1&o&&(t.TgZ(0,"mat-option",33),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.desc," ")}}function So(o,n){if(1&o&&(t.TgZ(0,"mat-option",33),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.desc," ")}}function Oo(o,n){if(1&o&&(t.TgZ(0,"mat-option",33),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.desc," ")}}function Uo(o,n){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td",38),t.TgZ(2,"div",15),t.TgZ(3,"mat-label",39),t._uU(4),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"td"),t.TgZ(6,"div",15),t.TgZ(7,"mat-label",39),t._uU(8),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"td"),t.TgZ(10,"div",15),t.TgZ(11,"mat-label",39),t._uU(12),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"td"),t.TgZ(14,"div",40),t.TgZ(15,"mat-label",39),t._uU(16),t.ALo(17,"number"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o){const e=n.$implicit,a=n.index;t.xp6(4),t.Oqu(a+1),t.xp6(4),t.Oqu(e.data_vencto),t.xp6(4),t.Oqu(e.data_pagto),t.xp6(4),t.Oqu(t.Dn7(17,4,e.valor,"1.2","pt"))}}function ko(o,n){if(1&o&&(t.TgZ(0,"div",34),t.TgZ(1,"h3",15),t._uU(2),t.ALo(3,"number"),t.qZA(),t.TgZ(4,"table",35),t.TgZ(5,"tr",36),t.TgZ(6,"th"),t._uU(7,"N\xba PARC."),t.qZA(),t.TgZ(8,"th"),t._uU(9,"VENC."),t.qZA(),t.TgZ(10,"th"),t._uU(11,"PAGTO"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"VALOR"),t.qZA(),t.qZA(),t.YNc(14,Uo,18,8,"tr",37),t.qZA(),t.qZA()),2&o){const e=t.oxw(2);t.xp6(2),t.hij("PARCELAS TOTAL: ",t.Dn7(3,2,e.totalParcelas,"1.2","pt"),""),t.xp6(12),t.Q6J("ngForOf",e.titulos)}}function Io(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"form",13),t.TgZ(2,"div",14),t.TgZ(3,"h3",15),t._uU(4,"GERADOR DE PARCELAS"),t.qZA(),t.TgZ(5,"div",16),t.TgZ(6,"mat-form-field",17),t.TgZ(7,"mat-label"),t._uU(8,"Data De Refer\xeancia"),t.qZA(),t._UZ(9,"input",18),t.YNc(10,Co,2,1,"mat-error",6),t.qZA(),t.TgZ(11,"mat-form-field",17),t.TgZ(12,"mat-label"),t._uU(13,"VLR TOTAL"),t.qZA(),t._UZ(14,"input",19),t.YNc(15,qo,2,0,"mat-error",6),t.qZA(),t.TgZ(16,"mat-form-field",17),t.TgZ(17,"mat-label"),t._uU(18,"N\xba Parcelas"),t.qZA(),t.TgZ(19,"mat-select",20),t.YNc(20,Po,2,2,"mat-option",21),t.qZA(),t.qZA(),t.TgZ(21,"mat-form-field",17),t.TgZ(22,"mat-label"),t._uU(23,"Dia Do M\xeas"),t.qZA(),t.TgZ(24,"mat-select",22),t.YNc(25,jo,2,2,"mat-option",21),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"div",23),t.TgZ(27,"mat-form-field",17),t.TgZ(28,"mat-label"),t._uU(29,"Tipo De Arredondamento"),t.qZA(),t.TgZ(30,"mat-select",24),t.YNc(31,So,2,2,"mat-option",21),t.qZA(),t.qZA(),t.TgZ(32,"mat-form-field",17),t.TgZ(33,"mat-label"),t._uU(34,"Pula Final De Semana"),t.qZA(),t.TgZ(35,"mat-select",25),t.YNc(36,Oo,2,2,"mat-option",21),t.qZA(),t.qZA(),t.qZA(),t.TgZ(37,"div",23),t.TgZ(38,"mat-form-field",17),t.TgZ(39,"mat-label"),t._uU(40,"VLR PARCELA"),t.qZA(),t._UZ(41,"input",26),t.qZA(),t.TgZ(42,"mat-form-field",17),t.TgZ(43,"mat-label"),t._uU(44,"VLR ARREDONDAMENTO"),t.qZA(),t._UZ(45,"input",27),t.qZA(),t.qZA(),t.TgZ(46,"div",28),t.TgZ(47,"button",29),t.NdJ("click",function(){return t.CHM(e),t.oxw().onGravarParcelas()}),t._uU(48,"Gravar"),t.qZA(),t.TgZ(49,"button",30),t.NdJ("click",function(){return t.CHM(e),t.oxw().onGerarParcelas()}),t._uU(50,"Processar"),t.qZA(),t.TgZ(51,"button",31),t.NdJ("click",function(){return t.CHM(e),t.oxw().onCancelGeracao()}),t._uU(52,"Cancelar"),t.qZA(),t.qZA(),t.qZA(),t._UZ(53,"div",10),t.YNc(54,ko,15,6,"div",32),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();let a;t.xp6(1),t.Q6J("formGroup",e.gerador),t.xp6(9),t.Q6J("ngIf",(null==(a=e.cadastro.get("data_ref"))||null==a.errors?null:a.errors.ValidatorDate)&&e.NoValidtouchedOrDirtyGe("data_ref")),t.xp6(5),t.Q6J("ngIf",e.NoValidtouchedOrDirtyGe("vlr_total")),t.xp6(5),t.Q6J("ngForOf",e.parcelas),t.xp6(5),t.Q6J("ngForOf",e.dias_mes),t.xp6(6),t.Q6J("ngForOf",e.arredondamento),t.xp6(5),t.Q6J("ngForOf",e.pula_fds),t.xp6(5),t.Q6J("readonly",e.readOnly),t.xp6(4),t.Q6J("readonly",e.readOnly),t.xp6(2),t.Q6J("disabled",e.titulos.length<=0),t.xp6(7),t.Q6J("ngIf",e.titulos.length>0)}}function No(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);let a;t.xp6(1),t.hij(" ",null==(a=e.cadastro.get("data_vencto"))||null==a.errors?null:a.errors.message,"")}}function wo(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Valor Obrigat\xf3rio!"),t.qZA())}function Eo(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);let a;t.xp6(1),t.hij(" ",null==(a=e.cadastro.get("data_pagto"))||null==a.errors?null:a.errors.message,"")}}function Do(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Observa\xe7\xe3o - Tamanho M\xe1ximo 100 letras "),t.qZA())}function yo(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).onSubmit()}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(e.acao)}}function Jo(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",41),t.TgZ(1,"form",42),t.TgZ(2,"h3",15),t._uU(3,"T\xcdTULO FINANCEIRO"),t.qZA(),t.TgZ(4,"div",43),t.TgZ(5,"mat-form-field",17),t.TgZ(6,"mat-label"),t._uU(7,"Data Vencto"),t.qZA(),t._UZ(8,"input",44),t.YNc(9,No,2,1,"mat-error",6),t.qZA(),t.TgZ(10,"mat-form-field",17),t.TgZ(11,"mat-label"),t._uU(12,"Valor"),t.qZA(),t._UZ(13,"input",45),t.YNc(14,wo,2,0,"mat-error",6),t.qZA(),t.TgZ(15,"mat-form-field",17),t.TgZ(16,"mat-label"),t._uU(17,"Data Pagto"),t.qZA(),t._UZ(18,"input",46),t.YNc(19,Eo,2,1,"mat-error",6),t.qZA(),t.qZA(),t.TgZ(20,"div",47),t.TgZ(21,"mat-form-field",17),t.TgZ(22,"mat-label"),t._uU(23,"Observa\xe7\xe3o"),t.qZA(),t._UZ(24,"input",48),t.YNc(25,Do,2,0,"mat-error",6),t.qZA(),t.qZA(),t.TgZ(26,"div",28),t.YNc(27,yo,2,1,"button",49),t.TgZ(28,"button",31),t.NdJ("click",function(){return t.CHM(e),t.oxw().onPosicaoInicial()}),t._uU(29),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();let a,i;t.xp6(1),t.Q6J("formGroup",e.cadastro),t.xp6(7),t.Q6J("readonly",e.readOnly),t.xp6(1),t.Q6J("ngIf",(null==(a=e.cadastro.get("data_vencto"))||null==a.errors?null:a.errors.ValidatorDate)&&e.NoValidtouchedOrDirtyCd("data_vencto")),t.xp6(4),t.Q6J("readonly",e.readOnly),t.xp6(1),t.Q6J("ngIf",e.NoValidtouchedOrDirtyCd("valor")),t.xp6(4),t.Q6J("readonly",e.readOnly),t.xp6(1),t.Q6J("ngIf",(null==(i=e.cadastro.get("data_pagto"))||null==i.errors?null:i.errors.ValidatorDate)&&e.NoValidtouchedOrDirtyCd("data_pagto")),t.xp6(5),t.Q6J("readonly",e.readOnly),t.xp6(1),t.Q6J("ngIf",e.NoValidtouchedOrDirtyCd("obs")),t.xp6(2),t.Q6J("ngIf",3!=e.idAcao),t.xp6(2),t.Oqu(e.getLabelCancel())}}function Fo(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td",38),t.TgZ(2,"div",15),t.TgZ(3,"mat-label",39),t._uU(4),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"td"),t.TgZ(6,"div",15),t.TgZ(7,"mat-label",39),t._uU(8),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"td"),t.TgZ(10,"div",15),t.TgZ(11,"mat-label",39),t._uU(12),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"td"),t.TgZ(14,"div",40),t.TgZ(15,"mat-label",39),t._uU(16),t.ALo(17,"number"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"td"),t.TgZ(19,"div"),t.TgZ(20,"mat-label",39),t._uU(21),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"td",38),t.TgZ(23,"barra-acoes",51),t.NdJ("changeOpcao",function(i){const s=t.CHM(e).$implicit;return t.oxw(2).escolha(i,s)}),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=n.$implicit,a=n.index;t.xp6(4),t.Oqu(a+1),t.xp6(4),t.Oqu(e.data_vencto),t.xp6(4),t.Oqu(e.data_pagto),t.xp6(4),t.Oqu(t.Dn7(17,6,e.valor,"1.2","pt")),t.xp6(5),t.Oqu(e.obs),t.xp6(2),t.Q6J("CONSULTAR",!1)}}function Yo(o,n){if(1&o&&(t.TgZ(0,"div",50),t.TgZ(1,"h3",15),t._uU(2),t.ALo(3,"number"),t.qZA(),t.TgZ(4,"table",35),t.TgZ(5,"tr",36),t.TgZ(6,"th"),t._uU(7,"N\xba PARC."),t.qZA(),t.TgZ(8,"th"),t._uU(9,"VENC."),t.qZA(),t.TgZ(10,"th"),t._uU(11,"PAGTO"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"VALOR"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"OBSERVA\xc7\xc3O"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"A\xc7\xc3O"),t.qZA(),t.qZA(),t.YNc(18,Fo,24,10,"tr",37),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(2),t.hij("PARCELAS TOTAL: ",t.Dn7(3,2,e.totalParcelas,"1.2","pt"),""),t.xp6(16),t.Q6J("ngForOf",e.titulos)}}function Mo(o,n){1&o&&(t.TgZ(0,"div",52),t.TgZ(1,"h5"),t._uU(2,"Nenhum T\xedtulo Cadastrado!"),t.qZA(),t.qZA())}const Vo=[{path:"",redirectTo:"projetos",pathMatch:"full"},{path:"projetos",component:lt},{path:"projetos/:retorno",component:lt},{path:"projeto/:id_empresa/:id/:acao",component:le,canActivate:[so.C]},{path:"anexaratividade/:id_empresa/:id_projeto/:id_atividade",component:pa},{path:"planejamentoagenda/:id_empresa/:id_atividade",component:Oa},{path:"manuemlote/:id_empresa/:conta/:id_projeto",component:Ma},{path:"anexarv2/:conta/:conta_versao/:id_projeto/:id_resp/:id_exec",component:no},{path:"horasdiretoria/:id_empresa/:id_projeto",component:Ha},{path:"dashboardv1/:id_empresa/:id_projeto",component:go},{path:"financeiro/:id_empresa/:id_projeto",component:(()=>{class o{constructor(e,a,i,r,s,d,m,h){this.formBuilder=e,this.globalService=a,this.tituloProjetoService=i,this.appSnackBar=r,this.route=s,this.router=d,this.projetosService=m,this.decimalPipe=h,this.titulo=new ot,this.titulos=[],this.acao="Sem Defini\xe7\xe3o",this.idAcao=p.I.Inclusao,this.readOnly=!0,this.labelCadastro="",this.id_empresa=0,this.id_projeto=0,this.projeto=new b.w,this.dias_mes=[{id:-1,desc:"Primeiro Dia"},{id:0,desc:"\xdaltimo Dia"},{id:1,desc:"Dia 01"},{id:2,desc:"Dia 02"},{id:3,desc:"Dia 03"},{id:4,desc:"Dia 04"},{id:5,desc:"Dia 05"},{id:6,desc:"Dia 06"},{id:7,desc:"Dia 07"},{id:8,desc:"Dia 08"},{id:9,desc:"Dia 09"},{id:10,desc:"Dia 10"},{id:11,desc:"Dia 11"},{id:12,desc:"Dia 12"},{id:13,desc:"Dia 13"},{id:14,desc:"Dia 14"},{id:15,desc:"Dia 15"},{id:16,desc:"Dia 16"},{id:17,desc:"Dia 17"},{id:18,desc:"Dia 18"},{id:19,desc:"Dia 19"},{id:20,desc:"Dia 20"},{id:21,desc:"Dia 21"},{id:22,desc:"Dia 22"},{id:23,desc:"Dia 23"},{id:24,desc:"Dia 24"},{id:25,desc:"Dia 25"},{id:26,desc:"Dia 26"},{id:27,desc:"Dia 27"},{id:28,desc:"Dia 28"}],this.arredondamento=[{id:1,desc:"1\xaa PARC."},{id:2,desc:"2\xaa PARC."},{id:3,desc:"N\xc3O USAR"}],this.pula_fds=[{id:1,desc:"SIM"},{id:2,desc:"N\xc3O"}],this.parcelas=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],this.geradorParcelas=new vo,this.totalParcelas=0,this.inscricaoRota=s.params.subscribe(g=>{this.id_empresa=g.id_empresa,this.id_projeto=g.id_projeto}),this.idAcao=97,this.setAcao(97),this.gerador=e.group({data_ref:[{value:0},[(0,B.K)(!0)]],vlr_total:[{value:0},[l.kI.required,l.kI.min(.01)]],nro_parcelas:[{value:0}],dia_mes:[{value:0}],tipo_arredondamento:[{value:0}],pula_fds:[{value:0}],vlr_parcela:[{value:0}],vlr_arredondamento:[{value:0}]}),this.setValueGerador(),this.cadastro=e.group({data_vencto:[{value:""},[(0,B.K)(!0)]],data_pagto:[{value:""},[(0,B.K)(!1)]],valor:[{value:""},[l.kI.required,l.kI.min(.01)]],obs:[{value:""},[(0,V.S)(0,100,!1)]]})}ngOnInit(){this.getProjeto()}ngOnDestroy(){var e,a,i,r,s;null===(e=this.inscricaoGetTitulo)||void 0===e||e.unsubscribe(),null===(a=this.inscricaoGetTitulos)||void 0===a||a.unsubscribe(),null===(i=this.inscricaoCrud)||void 0===i||i.unsubscribe(),null===(r=this.inscricaoRota)||void 0===r||r.unsubscribe(),null===(s=this.inscricaoGetProjeto)||void 0===s||s.unsubscribe()}setValueGerador(){this.gerador.setValue({data_ref:this.projeto.dataproj,vlr_total:this.decimalPipe.transform(this.projeto.valor,"1.2-2"),nro_parcelas:1,dia_mes:-1,tipo_arredondamento:1,pula_fds:1,vlr_parcela:0,vlr_arredondamento:0})}setValueCadastro(){this.cadastro.setValue({data_vencto:this.titulo.data_vencto,data_pagto:this.titulo.data_pagto,valor:this.decimalPipe.transform(this.titulo.valor,"1.2-2"),obs:this.titulo.obs})}getProjeto(){this.inscricaoGetProjeto=this.projetosService.getProjeto(this.id_empresa,this.id_projeto).subscribe(e=>{this.projeto=e,this.getTitulos()},e=>{this.projeto=new b.w,this.appSnackBar.openFailureSnackBar(`Pesquisa No Cadastro De Projetos ${(0,u.bZ)(e)}`,"OK")})}getTitulos(){let e=new fo;e.id_empresa=this.globalService.getIdEmpresa(),e.id_projeto=this.id_projeto,e.orderby="Projeto",this.globalService.setSpin(!0),this.inscricaoGetTitulos=this.tituloProjetoService.getTitulosProjeto_01(e).subscribe(a=>{this.globalService.setSpin(!1),this.titulos=a,this.totalParcelas=0,this.titulos.forEach(i=>{this.totalParcelas=this.totalParcelas+Number(i.valor)}),this.onPosicaoInicial()},a=>{this.globalService.setSpin(!1),this.titulos=[],this.onPosicaoInicial(),"Nehuma Informa\xe7\xe3o Para Esta Consulta."!=a.error.message&&this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Titulos ${(0,u.bZ)(a)}`,"OK")})}getAcoes(){return p.I}escolha(e,a){void 0!==a&&(this.titulo=a,this.setValueCadastro(),this.idAcao=e,this.setAcao(e)),e==p.I.Inclusao&&(this.titulo=new ot,this.titulo.id_empresa=this.globalService.id_empresa,this.titulo.id_projeto=this.projeto.id,this.setValueCadastro(),this.cadastro.markAsUntouched(),this.idAcao=e,this.setAcao(e)),99==e&&(this.idAcao=e,this.setAcao(this.idAcao),this.setValueGerador())}executaAcao(){var e=this;let a=this.cadastro.value.valor.toString();switch(a=a.replace(".",""),a=a.replace(",","."),this.titulo.data_pagto=this.cadastro.value.data_pagto,this.titulo.data_vencto=this.cadastro.value.data_vencto,null==this.titulo.data_pagto&&(this.titulo.data_pagto=""),this.titulo.valor=Number(a),this.titulo.obs=this.cadastro.value.obs,this.globalService.setSpin(!0),+this.idAcao){case p.I.Inclusao:this.titulo.user_insert=this.globalService.getUsuario().id,this.inscricaoCrud=this.tituloProjetoService.TituloProjetoInsert(this.titulo).subscribe(function(){var r=(0,P.Z)(function*(s){e.globalService.setSpin(!1),e.getTitulos()});return function(s){return r.apply(this,arguments)}}(),r=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Erro Na Inclus\xe3o ${(0,u.bZ)(r)}`,"OK")});break;case p.I.Edicao:this.titulo.user_update=this.globalService.getUsuario().id,this.inscricaoCrud=this.tituloProjetoService.TituloProjetoUpdate(this.titulo).subscribe(function(){var r=(0,P.Z)(function*(s){e.globalService.setSpin(!1),e.getTitulos()});return function(s){return r.apply(this,arguments)}}(),r=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Erro Na Altera\xe7\xe3o ${(0,u.bZ)(r)}`,"OK")});break;case p.I.Exclusao:this.inscricaoCrud=this.tituloProjetoService.TituloProjetoDelete(this.titulo.id_empresa,this.titulo.id_projeto,this.titulo.data_vencto.replace(/\//g,"_")).subscribe(function(){var r=(0,P.Z)(function*(s){e.globalService.setSpin(!1),e.getTitulos()});return function(s){return r.apply(this,arguments)}}(),r=>{this.globalService.setSpin(!1),console.log(r),this.appSnackBar.openFailureSnackBar(`Erro Na Exclus\xe3o ${(0,u.bZ)(r)}`,"OK")});break;default:this.globalService.setSpin(!1)}}setAcao(e){if(e>90)99==e&&(this.acao="Gerar",this.labelCadastro="T\xedtulos -  Gerador De Parcelas"),98==e&&(this.acao="Gravar",this.labelCadastro="T\xedtulos -  Cadastro De Parcelas");else switch(+e){case p.I.Inclusao:this.acao="Gravar",this.labelCadastro="T\xedtulos -  Inclus\xe3o.",this.readOnly=!1;break;case p.I.Edicao:this.acao="Gravar",this.labelCadastro="T\xedtulos -  Altera\xe7\xe3o.",this.readOnly=!1;break;case p.I.Consulta:this.acao="Voltar",this.labelCadastro="T\xedtulos -  Consulta.",this.readOnly=!0;break;case p.I.Exclusao:this.acao="Excluir",this.labelCadastro="T\xedtulos -  Exclus\xe3o.",this.readOnly=!0}}getTexto(){return u.fd}onRetorno(){const e=this.globalService.estadoFind("projeto");if(null!=e){let a=e.getParametro();Object(a).new=!1,Object(a).id_retorno=this.projeto.id,e.parametro=JSON.stringify(a),this.globalService.estadoSave(e)}this.router.navigate(["/projetos/projetos","SIM"])}onHome(){this.router.navigate([""])}onPosicaoInicial(){this.idAcao=97,this.setAcao(97)}onGerarParcelas(){this.gerador.valid?this.geracaoDeParcelas():(this.gerador.markAllAsTouched(),this.appSnackBar.openSuccessSnackBar("Formul\xe1rio Com Campos Inv\xe1lidos.","OK"))}onGravarParcelas(){this.gerador.valid?this.saveParcelas():(this.gerador.markAllAsTouched(),this.appSnackBar.openSuccessSnackBar("Formul\xe1rio Com Campos Inv\xe1lidos.","OK"))}saveParcelas(){var e=this;this.globalService.setSpin(!0),this.inscricaoCrud=this.tituloProjetoService.tituloProjetoSaveAll(this.titulos).subscribe(function(){var a=(0,P.Z)(function*(i){e.globalService.setSpin(!1),e.appSnackBar.openSuccessSnackBar(`${(0,u.bZ)(i)}`,"OK"),setTimeout(()=>e.getTitulos(),1500)});return function(i){return a.apply(this,arguments)}}(),a=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Erro Na Inclus\xe3o ${(0,u.bZ)(a)}`,"OK")})}geracaoDeParcelas(){this.titulos=[],this.calculo(),this.gerador.patchValue({vlr_parcela:this.decimalPipe.transform(this.geradorParcelas.vlr_parcela,"1.2-2"),vlr_arredondamento:this.decimalPipe.transform(this.geradorParcelas.vlr_arredondamento,"1.2-2")}),this.loadParcelas()}loadGerador(){let e=this.gerador.value.vlr_total.toString();e=e.replace(".",""),e=e.replace(",",".");const a=this.gerador.value.dia_mes,i=this.gerador.value.tipo_arredondamento;this.geradorParcelas.vlr_total=Number(e),this.geradorParcelas.nro_parcelas=this.gerador.value.nro_parcelas,this.geradorParcelas.day=a>0?a:0,this.geradorParcelas.first_day=-1==a,this.geradorParcelas.last_day=0==a,this.geradorParcelas.vlr_parcela=this.gerador.value.vlr_parcela,this.geradorParcelas.tipo_arredondamento=i,this.geradorParcelas.skip_weekend=1==this.gerador.value.pula_fds}calculo(){this.loadGerador(),this.geradorParcelas.tipo_arredondamento<3?(this.geradorParcelas.vlr_parcela=Math.trunc(this.geradorParcelas.vlr_total/this.geradorParcelas.nro_parcelas),this.geradorParcelas.vlr_parcela=Number(this.geradorParcelas.vlr_parcela.toFixed(2)),this.geradorParcelas.vlr_arredondamento=this.geradorParcelas.vlr_total%this.geradorParcelas.nro_parcelas,this.geradorParcelas.vlr_arredondamento=Number(this.geradorParcelas.vlr_arredondamento.toFixed(2))):(this.geradorParcelas.vlr_parcela=this.geradorParcelas.vlr_total/this.geradorParcelas.nro_parcelas,this.geradorParcelas.vlr_parcela=Number(this.geradorParcelas.vlr_parcela.toFixed(2)),this.geradorParcelas.vlr_arredondamento=0)}loadParcelas(){const e=this.gerador.value.data_ref.split("/");let a=this.geradorParcelas.day,i=Number(e[1])-1,r=Number(e[2]);this.titulos=[],this.geradorParcelas.first_day&&(a=1),this.geradorParcelas.last_day&&(a=new Date(r,i+1,0).getDate());let s=new Date(r,i,a);for(let d=1;d<=this.geradorParcelas.nro_parcelas;d++){let m=new ot,h=s;this.geradorParcelas.skip_weekend&&(0==h.getDay()&&h.setDate(h.getDate()+1),6==h.getDay()&&h.setDate(h.getDate()+2)),m.id_empresa=this.id_empresa,m.id_projeto=this.id_projeto,m.user_insert=this.globalService.getUsuario().id,m.data_vencto=(0,u.zp)(h),m.data_pagto="",m.valor=this.geradorParcelas.vlr_parcela,1==this.geradorParcelas.tipo_arredondamento&&1==d&&(m.valor=this.geradorParcelas.vlr_parcela+this.geradorParcelas.vlr_arredondamento),2==this.geradorParcelas.tipo_arredondamento&&d==this.geradorParcelas.nro_parcelas&&(m.valor=this.geradorParcelas.vlr_parcela+this.geradorParcelas.vlr_arredondamento),m.obs="",this.titulos.push(m),i<11?i++:(i=0,r++),this.geradorParcelas.last_day&&(a=new Date(r,i+1,0).getDate()),s=new Date(r,i,a)}this.totalParcelas=0,this.titulos.forEach(d=>this.totalParcelas=this.totalParcelas+d.valor)}onSubmit(){this.cadastro.valid||this.idAcao==p.I.Exclusao?this.executaAcao():(this.cadastro.markAllAsTouched(),this.appSnackBar.openSuccessSnackBar("Formul\xe1rio Com Campos Inv\xe1lidos.","OK"))}onCancelGeracao(){this.titulos=[],this.onPosicaoInicial()}getLabelCancel(){return this.idAcao==p.I.Consulta?"Voltar":"Cancelar"}NoValidtouchedOrDirtyCd(e){var a,i,r;return!((null===(a=this.cadastro.get(e))||void 0===a?void 0:a.valid)||!(null===(i=this.cadastro.get(e))||void 0===i?void 0:i.touched)&&!(null===(r=this.cadastro.get(e))||void 0===r?void 0:r.dirty))}NoValidtouchedOrDirtyGe(e){var a,i,r;return!((null===(a=this.gerador.get(e))||void 0===a?void 0:a.valid)||!(null===(i=this.gerador.get(e))||void 0===i?void 0:i.touched)&&!(null===(r=this.gerador.get(e))||void 0===r?void 0:r.dirty))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.qu),t.Y36(q.U),t.Y36(Ao),t.Y36(S.W),t.Y36(Z.gz),t.Y36(Z.F0),t.Y36(A.T),t.Y36(_.JJ))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-financeiro"]],decls:18,vars:14,consts:[[1,"div-barra"],[1,"example-spacer"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","P\xe1gina Inicial","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above","matTooltip","Gerador De Parcelas","matTooltipPosition","above",3,"click",4,"ngIf"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","","aria-label","Example icon-button with share icon","matTooltip","Retorno","matTooltipPosition","above",1,"example-icon",3,"click"],[4,"ngIf"],["class","box",4,"ngIf"],["class","col-max box",4,"ngIf"],["class","col-max",4,"ngIf"],[1,"rodape"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above","matTooltip","Gerador De Parcelas","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above",3,"matTooltip","click"],["autocomplete","off",3,"formGroup"],[1,"box","padding"],[1,"alinha_centro"],[1,"col-med-4"],["appearance","outline",1,"col-max"],["matInput","","formControlName","data_ref","mask","00/00/0000","placeholder","dd/mm/aaaa"],["matInput","","formControlName","vlr_total"],["formControlName","nro_parcelas"],[3,"value",4,"ngFor","ngForOf"],["formControlName","dia_mes"],[1,"col-med-2"],["formControlName","tipo_arredondamento"],["formControlName","pula_fds"],["matInput","","formControlName","vlr_parcela",3,"readonly"],["matInput","","formControlName","vlr_arredondamento",3,"readonly"],[1,"button-container-right"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click"],["class","col-max box padding",4,"ngIf"],[3,"value"],[1,"col-max","box","padding"],[1,"Browse_Lanc"],[1,"coluna-cabec"],[4,"ngFor","ngForOf"],[1,"acoes"],[1,"Browse_Lanc_td"],[1,"alinha_direita"],[1,"box"],["autocomplete","off",1,"padding",3,"formGroup"],[1,"col-med-3"],["matInput","","formControlName","data_vencto","mask","00/00/0000","placeholder","dd/mm/aaaa",3,"readonly"],["matInput","","formControlName","valor",3,"readonly"],["matInput","","formControlName","data_pagto","mask","00/00/0000","placeholder","dd/mm/aaaa",3,"readonly"],[1,"col-med-1"],["matInput","","formControlName","obs","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],[1,"col-max","box"],[3,"CONSULTAR","changeOpcao"],[1,"col-max"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-toolbar"),t.TgZ(2,"span",1),t._uU(3),t.ALo(4,"number"),t.qZA(),t.TgZ(5,"button",2),t.NdJ("click",function(){return a.onHome()}),t.TgZ(6,"mat-icon"),t._uU(7,"home"),t.qZA(),t.qZA(),t.YNc(8,xo,3,0,"button",3),t.YNc(9,To,3,1,"button",4),t.TgZ(10,"button",5),t.NdJ("click",function(){return a.onRetorno()}),t.TgZ(11,"mat-icon"),t._uU(12,"arrow_back"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(13,Io,55,11,"div",6),t.YNc(14,Jo,30,11,"div",7),t.YNc(15,Yo,19,6,"div",8),t.YNc(16,Mo,3,0,"div",9),t._UZ(17,"div",10)),2&e&&(t.xp6(3),t.HOy("Contrato:",a.id_empresa,"-",a.id_projeto," ",a.projeto.cliente_razao," Valor: ",t.Dn7(4,10,a.projeto.valor,"1.2","pt"),""),t.xp6(5),t.Q6J("ngIf",0==a.titulos.length),t.xp6(1),t.Q6J("ngIf",97==a.idAcao),t.xp6(4),t.Q6J("ngIf",99==a.idAcao),t.xp6(1),t.Q6J("ngIf",a.idAcao<=90),t.xp6(1),t.Q6J("ngIf",a.titulos.length>0&&97==a.idAcao),t.xp6(1),t.Q6J("ngIf",0==a.titulos.length&&97==a.idAcao))},directives:[O.Ye,x.lW,U.gM,T.Hw,_.O5,l._Y,l.JL,l.sg,f.KE,f.hX,k.Nt,l.Fj,G.hx,l.JJ,l.u,J.gD,_.sg,f.TO,F.ey,rt.C],pipes:[_.JJ],styles:["tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2aa}tr[_ngcontent-%COMP%]:hover{background-color:#caa99d}.acoes[_ngcontent-%COMP%]{color:#8b0000;width:100px}.rodape[_ngcontent-%COMP%]{width:100%;height:25px}.padding[_ngcontent-%COMP%]{padding:5px}"]}),o})()}];let Ro=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[Z.Bz.forChild(Vo)],Z.Bz]}),o})();var $o=c(5426),Lo=c(4466);let Bo=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[C.Cl,_.ez,Ro,$o.q,l.u5,C.Cl,l.UX,Lo.m,G.yI.forChild()]]}),o})()},9648:(X,I,c)=>{c.d(I,{W:()=>_});class _{constructor(){this.id_empresa=0,this.id="",this.id_projeto=0,this.id_conta="",this.id_subconta="",this.id_resp=0,this.id_exec=0,this.id_dir=0,this.data="",this.controle="N",this.orderby="",this.sharp=!0}}},6468:(X,I,c)=>{c.d(I,{w:()=>_});class _{constructor(){this.id_empresa=0,this.id=0,this.ativo="",this.razao="",this.cnpj_cpf="",this.grupo=[],this.timer="",this.ticket="",this.flag_ponte="",this.data="",this.pagina=0,this.tamPagina=50,this.contador="N",this.orderby="",this.sharp=!1}}},8239:(X,I,c)=>{function _(u,w,D,N,y,C,t){try{var l=u[C](t),A=l.value}catch(q){return void D(q)}l.done?w(A):Promise.resolve(A).then(N,y)}function p(u){return function(){var w=this,D=arguments;return new Promise(function(N,y){var C=u.apply(w,D);function t(A){_(C,N,y,t,l,"next",A)}function l(A){_(C,N,y,t,l,"throw",A)}t(void 0)})}}c.d(I,{Z:()=>p})}}]);